(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[8072],{94281:function(t){t.exports={id:"icon_dtfl_2zh_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_2zh_0--sprite",toString:function(){return this.url}}},58858:function(t){t.exports={id:"icon_dtfl_by_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_by_0--sprite",toString:function(){return this.url}}},74716:function(t){t.exports={id:"icon_dtfl_cp_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_cp_0--sprite",toString:function(){return this.url}}},59623:function(t){t.exports={id:"icon_dtfl_douji_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_douji_0--sprite",toString:function(){return this.url}}},59528:function(t){t.exports={id:"icon_dtfl_dz_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_dz_0--sprite",toString:function(){return this.url}}},80649:function(t){t.exports={id:"icon_dtfl_qp_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_qp_0--sprite",toString:function(){return this.url}}},72590:function(t){t.exports={id:"icon_dtfl_ty_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_ty_0--sprite",toString:function(){return this.url}}},31955:function(t){t.exports={id:"icon_dtfl_zr_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_zr_0--sprite",toString:function(){return this.url}}},70643:function(t,e,a){"use strict";a.d(e,{A:function(){return o},C:function(){return n}});var r=a(34717),n=[r.Rd.TODAY,r.Rd.YESTERDAY,r.Rd.LAST_SEVEN_DAY,r.Rd.LAST_FIFTEEN_DAY,r.Rd.LAST_THIRTY_DAY],o=[r.Rd.ALL,r.Rd.TODAY,r.Rd.YESTERDAY,r.Rd.THIS_WEEK,r.Rd.LAST_WEEK,r.Rd.THIS_MONTH,r.Rd.LAST_TOW_MONTH,r.Rd.LAST_THREE_MONTH]},26025:function(t,e,a){"use strict";a.d(e,{r:function(){return c},Z:function(){return w}});var r,n,o,i,s,l,c,u=a(7903),d=a(3587),p=a(21797),h=a(92317),f=a(82345),v=a(72283),b=a(20793),y=a(50125),g=a(17360),m=(a(41320),a(92222),a(9653),a(21249),a(38880),a(30813)),C=a(90825),Z=a(76937),k=a(46729),T=a(95306),A=a(81764),R=a(98292),x=a(6130),I="X6uFqmzBqSNYer43npOA",S="aqZSZRN3OSJXvuDyxWcO";!function(t){t[t.EVENT=0]="EVENT",t[t.TASK=1]="TASK",t[t.BACKWATER=2]="BACKWATER",t[t.AWARD=3]="AWARD"}(c||(c={}));var w=(r=(0,m.wA)({name:"PromotionsBar"}),n=(0,m.fI)(),o=(0,m.RL)("activedTab",{immediate:!0}),r((s=function(t){(0,v.Z)(a,t);var e=(0,b.Z)(a);function a(){var t;(0,p.Z)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n)),(0,d.Z)((0,f.Z)(t),"activedTab",l,(0,f.Z)(t)),(0,y.Z)((0,f.Z)(t),"current","0"),t}return(0,h.Z)(a,[{key:"defaultTabsConfig",get:function(){var t=(0,A.QT)().t,e=(0,R.h)(),a=e.getActivesAuthInfos,r=e.getredDot;return[{label:t("lobby.footer.quickJump.active"),value:c.EVENT,hide:!a.activeCount,redDot:null==r?void 0:r.activeCount},{label:t("lobby.footer.quickJump.task"),value:c.TASK,hide:!a.taskCount,redDot:null==r?void 0:r.taskCount},{label:t("lobby.footer.quickJump.backwater"),value:c.BACKWATER,hide:!a.returnGoldCount,redDot:null==r?void 0:r.returnGoldCount},{label:t("lobby.system.award"),value:c.AWARD,redDot:null==r?void 0:r.rewardCount}]}},{key:"activedTabWatcher",value:function(){this.current=String(this.activedTab)}},{key:"changeTab",value:function(t){var e=this;if(this.current!==t){this.current=t;var a=(0,R.h)().updateTabItem,r=this.$route.query;switch(delete r.current,Number(t)){case c.EVENT:this.$router.push({name:Z.x4.EVENT,query:(0,u.Z)((0,u.Z)({},this.$route.query),{},{tabItem:k.R.EVENT})});break;case c.TASK:C.sG.Modal.open("taskModal").then((function(t){t.afterClose=function(){e.current=String(e.activedTab)}}));break;case c.BACKWATER:a(k.R.REBATE),this.$router.push({name:Z.x4.CASHBACK,query:(0,u.Z)((0,u.Z)({},r),{},{tabItem:k.R.REBATE})});break;case c.AWARD:this.$router.push({name:Z.x4.AWARD,query:(0,u.Z)((0,u.Z)({},r),{},{tabItem:k.R.EVENT})})}}}},{key:"render",value:function(){var t,e,a,r,n=arguments[0];return n("div",{class:I},[null===(t=this.$scopedSlots)||void 0===t||null===(e=t["tab-top"])||void 0===e?void 0:e.call(t),n(T.mQ.Tsx,{attrs:{activeKey:this.current},on:{change:this.changeTab}},[this.defaultTabsConfig.map((function(t){return!t.hide&&n(T.mQ.TabPane,{key:String(t.value)},[n("template",{slot:"tab"},[t.redDot?n(x.Z,{class:S,attrs:{value:t.redDot}},[t.label]):t.label])])}))]),null===(a=this.$scopedSlots)||void 0===a||null===(r=a["tab-bottom"])||void 0===r?void 0:r.call(a)])}}]),a}(m.XY),l=(0,g.Z)(s.prototype,"activedTab",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,g.Z)(s.prototype,"activedTabWatcher",[o],Object.getOwnPropertyDescriptor(s.prototype,"activedTabWatcher"),s.prototype),i=s))||i)},88072:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return _e}});var r,n,o=a(21797),i=a(92317),s=a(72283),l=a(20793),c=a(30813);!function(t){t.CASHBACKRATES="rates",t.CASHBACKRECORDS="records"}(r||(r={})),function(t){t.CURRENT="current",t.GAMECATEGORYID="gameCategory",t.GAMESECONDCATEID="gameSecondCateId"}(n||(n={}));var u,d,p,h,f,v,b,y,g,m,C,Z,k,T=a(71707),A=a(13311),R=a.n(A),x=a(7903),I=a(22705),S=a(70970),w=a(2813),E=a(82345),_=a(50125),D=a(17360),P=(a(92222),a(21249),a(41539),a(39714),a(69600),a(38880),a(3587)),N=(a(41320),a(69826),a(68309),a(95306)),O=(a(26699),a(90825)),L=a(40469),B=a(86493),K=a(41800),M=(0,L.Q_)("cashback/categories",{state:function(){return{isFetching:!1,data:void 0,activeKey:0}},getters:{getPlatforms:function(){var t,e;return null!==(t=null===(e=this.data)||void 0===e?void 0:e.list)&&void 0!==t?t:[]}},actions:{setIsFetching:function(t){this.isFetching=t},setActiveKey:function(t){this.activeKey=t},fetchCategory:function(){var t=this;return(0,w.Z)((0,S.Z)().mark((function e(){var a,r,o,i,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.data||t.setIsFetching(!0),e.next=3,(0,K.Z)((l={},O.Uh.post({url:"/returngold/summary",data:(0,x.Z)({},l)}).then((function(t){return t.data.data}))));case 3:if(a=e.sent,r=(0,I.Z)(a,2),o=r[0],i=r[1],t.setIsFetching(!1),!o){e.next=11;break}return console.error("cashback fetch error:",o),e.abrupt("return");case 11:s=function(){var t,e=+(null!==(t=(0,B.Wz)(n.CURRENT))&&void 0!==t?t:-1),a=null==i?void 0:i.list;return a&&a.length?(0,B.Wz)(n.CURRENT)&&[-1,-2].includes(e)||a.some((function(t){return t.categoryId===e}))?e:null==i?void 0:i.list[0].categoryId:e},t.setActiveKey(s()),t.data=i;case 14:case"end":return e.stop()}var l}),e)})))()}}}),G=a(81764),Y="Vt5YuyYd1Xwgv5AyABff",q="bam0OvVYcFY4MHgI4fBu";!function(t){t[t.CATEGORY=0]="CATEGORY",t[t.PLATFORM=1]="PLATFORM"}(k||(k={}));var z,F,W,H,Q,$,j,V,U,X,J,tt,et,at,rt,nt,ot,it,st,lt,ct,ut,dt,pt,ht,ft,vt,bt,yt=(u=(0,c.wA)({name:"CategorySelect"}),d=(0,c.fI)({default:T.ZP.px2rem(10)}),p=(0,c.fI)({required:!0}),h=(0,c.fI)({default:{}}),f=(0,c.RL)("platforms",{immediate:!0}),v=(0,c.y1)(),b=(0,c.y1)("select"),u((g=function(t){(0,s.Z)(r,t);var e,a=(0,l.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=a.call.apply(a,[this].concat(n)),(0,_.Z)((0,E.Z)(t),"state",{categoryList:[],platformCategoryList:[],selectObj:{platformId:void 0,categoryId:void 0}}),(0,P.Z)((0,E.Z)(t),"padding",m,(0,E.Z)(t)),(0,P.Z)((0,E.Z)(t),"platforms",C,(0,E.Z)(t)),(0,P.Z)((0,E.Z)(t),"defaultSelect",Z,(0,E.Z)(t)),t}return(0,i.Z)(r,[{key:"addEventChange",value:function(){this.initCategoryList()}},{key:"onSelect",value:(e=(0,w.Z)((0,S.Z)().mark((function t(e,a){var r,n,o,i,s,l,c,u,d,p,h;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=M(),l=s.getPlatforms,c=this.state,u=c.categoryList,d=c.platformCategoryList,t.t0=e,t.next=t.t0===k.CATEGORY?5:t.t0===k.PLATFORM?9:11;break;case 5:return p=null!==(r=null===(n=l.find((function(t){return t.categoryId===a})))||void 0===n?void 0:n.list)&&void 0!==r?r:[],h=p.map((function(t){return{label:t.gameSecondCate,value:t.gameSecondCateId}})),this.setState({platformCategoryList:h,selectObj:{categoryId:a,category:(null===(o=u.find((function(t){return t.value===a})))||void 0===o?void 0:o.label)||"",platformId:h[0].value,platform:h[0].label}}),t.abrupt("break",11);case 9:return this.setState({selectObj:{platformId:a,platform:(null===(i=d.find((function(t){return t.value===a})))||void 0===i?void 0:i.label)||""}}),t.abrupt("break",11);case 11:return t.abrupt("return",this.state.selectObj);case 12:case"end":return t.stop()}}),t,this)}))),function(t,a){return e.apply(this,arguments)})},{key:"initCategoryList",value:function(){var t=this;if(this.platforms.length){var e,a,r,o=(0,I.Z)(this.platforms,1)[0],i=this.platforms.find((function(e){var a;return(null===(a=e.categoryId)||void 0===a?void 0:a.toString())===t.defaultSelect[n.GAMECATEGORYID]}))||o,s=null===(e=i.list)||void 0===e?void 0:e.find((function(e){var a;return(null==e||null===(a=e.gameSecondCateId)||void 0===a?void 0:a.toString())===t.defaultSelect[n.GAMESECONDCATEID]})),l=this.platforms.map((function(t){return{label:t.name,value:t.categoryId}})),c=i.list.map((function(t){return{label:t.gameSecondCate,value:t.gameSecondCateId}})),u={categoryId:i.categoryId,category:i.name,platformId:null!==(a=null==s?void 0:s.gameSecondCateId)&&void 0!==a?a:c[0].value,platform:null!==(r=null==s?void 0:s.gameSecondCate)&&void 0!==r?r:c[0].label};this.setState({categoryList:l,platformCategoryList:c,selectObj:u},(function(){t.$emit("select",u)}))}}},{key:"renderCategory",value:function(t){var e=this.$createElement;return t.map((function(t){return e(N.Ph.Option.Tsx,{class:q,attrs:{value:t.value}},[t.label])}))}},{key:"render",value:function(){var t=this,e=arguments[0],a=(0,G.QT)(),r=a.t,n=this.state,o=n.categoryList,i=n.platformCategoryList;return e("ul",{class:Y},[e("li",[e(N.Ph.Tsx,{attrs:{value:this.state.selectObj.categoryId,placeholder:r("lobby.cashback.table.selectCategory")},on:{select:function(e){return t.onSelect(k.CATEGORY,e)}}},[this.renderCategory(o)])]),e("li",[e(N.Ph.Tsx,{attrs:{value:this.state.selectObj.platformId,placeholder:r("lobby.cashback.table.selectPlatform")},on:{select:function(e){return t.onSelect(k.PLATFORM,e)}}},[this.renderCategory(i)])])])}}]),r}(c.XY),m=(0,D.Z)(g.prototype,"padding",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,D.Z)(g.prototype,"platforms",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,D.Z)(g.prototype,"defaultSelect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,D.Z)(g.prototype,"addEventChange",[f,v],Object.getOwnPropertyDescriptor(g.prototype,"addEventChange"),g.prototype),(0,D.Z)(g.prototype,"onSelect",[b],Object.getOwnPropertyDescriptor(g.prototype,"onSelect"),g.prototype),y=g))||y),gt=a(90416),mt=a(72563),Ct=a(98292),Zt="tuYWva_8k1dIddjJL78j",kt="X4I8imjM25JkepvmkN7A",Tt="fo6_oQWKZoZR0GAx8K1y",At="q9lMeMKInFeXRTtciYvQ",Rt="hslH_7MGS5isDUC08Tzu",xt="OTKyo_6CaKn75TuT_kIm",It="o0iqlyEAxDgOulhbO5Kr",St="yJfw0Xhk8mzlflQNGDFB",wt={main:"wg3Nr_p814MJz0YM_RcQ",container:"evQ_TtYOCglrGXYCCv08",filterOptions:"MZagK61jIWvazDDEfRFV",tableTitle:"QDnR1SBb55TWws8C26VP",dataTable:"t34baezb8IdKBGaTV6w_",listItem:"h5aGclwfRnSyfyJoTa42",current:"S4Fg1ixe0qwXbEiqJB6g",icon:"tDdHdBGQNe_O6LeNVJFE"},Et=a(1400),_t=(z=(0,c.wA)({name:"CashbackRates"}),F=(0,c.RL)("mainStore.language",{immediate:!0}),z((H=function(t){(0,s.Z)(u,t);var e,a,r,c=(0,l.Z)(u);function u(){var t;(0,o.Z)(this,u);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=c.call.apply(c,[this].concat(a)),(0,_.Z)((0,E.Z)(t),"categoryStore",M()),(0,_.Z)((0,E.Z)(t),"mainStore",(0,Ct.h)()),(0,_.Z)((0,E.Z)(t),"state",{condition:{}}),t}return(0,i.Z)(u,[{key:"defaultSelect",get:function(){var t,e,a;return a={},(0,_.Z)(a,n.GAMECATEGORYID,null===(t=this.$route.query)||void 0===t?void 0:t[n.GAMECATEGORYID]),(0,_.Z)(a,n.GAMESECONDCATEID,null===(e=this.$route.query)||void 0===e?void 0:e[n.GAMESECONDCATEID]),a}},{key:"languageKeyChange",value:(r=(0,w.Z)((0,S.Z)().mark((function t(e,a){return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||e===a){t.next=3;break}return t.next=3,this.categoryStore.fetchCategory();case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"created",value:(a=(0,w.Z)((0,S.Z)().mark((function t(){var e,a,r;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.categoryStore,a=e.data,r=e.fetchCategory,null!=a&&a.list){t.next=4;break}return t.next=4,r();case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"query",value:(e=(0,w.Z)((0,S.Z)().mark((function t(){var e,a,r,n,o,i;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.state.condition.platformId&&void 0!==this.state.condition.gameCategoryId){t.next=2;break}return t.abrupt("return",{data:[]});case 2:return t.next=4,(0,K.Z)((s={platformId:this.state.condition.platformId,categoryId:this.state.condition.gameCategoryId},O.Uh.post({url:"/returngold/ratiotable",data:{cateId:s.categoryId,platId:s.platformId}}).then((function(t){return t.data.data}))));case 4:if(r=t.sent,n=(0,I.Z)(r,2),o=n[0],i=n[1],!o){t.next=10;break}return t.abrupt("return",{data:[],total:0});case 10:return t.abrupt("return",{data:null!==(e=null==i?void 0:i.map((function(t,e){return(0,x.Z)((0,x.Z)({},t),{},{key:t.validBet+e.toString()})})))&&void 0!==e?e:[],total:null!==(a=null==i?void 0:i.length)&&void 0!==a?a:0});case 11:case"end":return t.stop()}var s}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onChangeCondition",value:function(t){var e=t.categoryId,a=t.platformId,r=t.category,n=t.platform;this.setState({condition:{gameCategoryId:e,platformId:a,platform:n,gameCategory:r}})}},{key:"defaultColumns",get:function(){var t=this.$createElement,e=(0,G.QT)().t,a=this.state.condition,r=a.gameCategory,n=a.gameCategoryId,o=a.platformId,i=a.platform,s=this.categoryStore.getPlatforms;return[{title:e("lobby.cashback.table.category"),dataIndex:"category",key:"category",width:T.ZP.px2rem(120),align:"center",customRender:function(){return t("span",[r])}},{title:e("lobby.cashback.table.platform"),dataIndex:"platform",key:"platform",width:T.ZP.px2rem(120),align:"center",customRender:function(){var e,a,r=null!==(e=null===(a=R()(s,{categoryId:n}))||void 0===a?void 0:a.list)&&void 0!==e?e:[];if(r&&r.length){var l=R()(r,{gameSecondCateId:o});return t("div",{class:St},[t("my-img",{attrs:{src:null==l?void 0:l.icon,width:40,height:40}}),t("span",[null!=i?i:""])])}return t("span")}},{title:e("lobby.cashback.subInfo.validBets"),dataIndex:"validBet",key:"validBet",width:T.ZP.px2rem(120),align:"center",customRender:function(e){return t("span",{class:O.CM.CssClassName.Lobby.Color.Text},["number"==typeof e?(0,mt.o)(e,{separator:","}):e])}},{title:e("lobby.cashback.pageTitle.rates"),dataIndex:"rate",key:"rate",width:T.ZP.px2rem(120),align:"center",customRender:function(a,r){return t("span",{class:[O.CM.CssClassName.Lobby.Color.Text,wt.current].join(" ")},[a,"%",!(null==r||!r.isPresent)&&t("i",[e("lobby.cashback.table.current")])])}}]}},{key:"listRenderItem",value:function(t){var e,a=this.$createElement,r=(0,G.QT)().t,n=this.state.condition,o=n.gameCategory,i=n.platform;return a("div",{class:wt.listItem},[a("p",[o]),a("p",[i]),a("p",[a("span",[(0,mt.o)(null!==(e=t.validBet)&&void 0!==e?e:0,{separator:","})])]),a("p",[a("span",{class:wt.current},[t.rate,"%",!(null==t||!t.isPresent)&&a("i",[r("lobby.cashback.table.current")])])])])}},{key:"render",value:function(){var t=arguments[0],e=(0,G.QT)(),a=e.t,r=(0,Ct.h)(),n=r.isWeb;return t("div",{class:wt.main},[t("my-title",{attrs:{title:a("lobby.cashback.pageTitle.rates")}}),t("div",{class:wt.container},[t("div",{class:wt.filterOptions},[t(yt,{attrs:{defaultSelect:this.defaultSelect,platforms:this.categoryStore.getPlatforms},on:{select:this.onChangeCondition}}),!n&&t("div",{class:wt.tableTitle},[t("span",[a("lobby.cashback.subInfo.validBets")]),t("span",[a("lobby.cashback.pageTitle.rates")])])]),t("div",{class:wt.dataTable},[t("section",{class:Et.Z.comTable},[t(gt.FN,{attrs:{query:this.query,rowKey:"key",columns:this.defaultColumns,condition:this.state.condition,virtualLoading:!0,listMode:!n,listRenderItem:this.listRenderItem,listScrollHeight:"calc(100vh - 3.44rem)",emptyHeight:T.ZP.px2rem(n?"500px":"700px")}})])])])])}}]),u}(c.XY),(0,D.Z)(H.prototype,"languageKeyChange",[F],Object.getOwnPropertyDescriptor(H.prototype,"languageKeyChange"),H.prototype),W=H))||W),Dt=a(70643),Pt=a(36568),Nt=a.n(Pt),Ot=a(82492),Lt=a.n(Ot),Bt=(a(9653),a(61672)),Kt="Pn3AL1P7sPKLcdv4z9zX",Mt="kOvlG9xZn4HRACIBgRzv",Gt="LFgVFrC1FiFq95Hz3cNC",Yt=(Q=(0,c.wA)({name:"CashbackRecordDetail"}),$=(0,c.fI)({required:!0}),j=(0,c.fI)({required:!0}),V=(0,c.RL)("store.language",{immediate:!0}),Q((X=function(t){(0,s.Z)(c,t);var e,a,r,n=(0,l.Z)(c);function c(){var t;(0,o.Z)(this,c);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a)),(0,P.Z)((0,E.Z)(t),"orderNo",J,(0,E.Z)(t)),(0,P.Z)((0,E.Z)(t),"handleClose",tt,(0,E.Z)(t)),(0,_.Z)((0,E.Z)(t),"store",(0,Ct.h)()),(0,_.Z)((0,E.Z)(t),"state",{activeKey:"",isFetching:!1,data:[]}),t}return(0,i.Z)(c,[{key:"languageKeyChange",value:(r=(0,w.Z)((0,S.Z)().mark((function t(e,a){return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||e===a){t.next=3;break}return t.next=3,this.fetchData();case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"created",value:(a=(0,w.Z)((0,S.Z)().mark((function t(){return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchData",value:(e=(0,w.Z)((0,S.Z)().mark((function t(){var e,a,r,n,o;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isFetching:!0}),t.next=3,(0,K.Z)((i=this.orderNo,O.Uh.post({url:"/returngold/recordDetail",data:{orderNo:i}}).then((function(t){return t.data.data}))));case 3:if(a=t.sent,r=(0,I.Z)(a,2),n=r[0],o=r[1],!n){t.next=10;break}return console.error("cashback fetch error:",n),t.abrupt("return");case 10:this.setState({data:o,activeKey:String(null!==(e=o[0].categoryId)&&void 0!==e?e:""),isFetching:!1});case 11:case"end":return t.stop()}var i}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"defaultColumns",get:function(){var t=this,e=this.$createElement,a=(0,G.QT)().t,r=M().getPlatforms;return[{title:a("lobby.cashback.table.platform"),dataIndex:"platfromName",key:"platfromName",width:T.ZP.px2rem(100),align:"center",customRender:function(a){var n,o,i=null!==(n=null===(o=R()(r,{categoryId:+t.state.activeKey}))||void 0===o?void 0:o.list)&&void 0!==n?n:[];if(i&&i.length){var s=R()(i,{gameSecondCate:a});return e("div",{class:St},[e("my-img",{attrs:{src:null==s?void 0:s.icon,width:40,height:40}}),e("span",[null!=a?a:""])])}return e("span")}},{title:a("lobby.cashback.subInfo.validBets"),dataIndex:"validBet",key:"validBet",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:O.CM.CssClassName.Lobby.Color.Text},["number"==typeof t?(0,mt.o)(t,{separator:","}):t])}},{title:a("lobby.cashback.pageTitle.rates"),dataIndex:"reta",key:"reta",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:O.CM.CssClassName.Lobby.Color.Text},[t,"%"])}},{title:a("lobby.cashback.table.amount"),dataIndex:"gold",key:"gold",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:Gt},["number"==typeof t?(0,mt.o)(t,{separator:","}):t])}}]}},{key:"renderColumn",value:function(){var t=this.$createElement;return 0===this.defaultColumns.length?t("div"):this.defaultColumns.map((function(e){return t(N.iA.Column.Tsx,{props:(0,x.Z)({},Lt()({},Bt.XE,e)),scopedSlots:{default:function(t,a,r){return e.customRender?e.customRender(t,a,r):t}}})}))}},{key:"render",value:function(){var t=this,e=arguments[0],a=(0,G.QT)(),r=a.t,n=this.state,o=n.data,i=n.activeKey;return e(N.u_.Tsx,{class:"my-modal-detail",attrs:{centered:!0,maskClosable:!1,footer:null,visible:!0,width:T.ZP.px2rem(1e3),title:r("lobby.cashback.detail")},on:{cancel:function(){t.handleClose()}}},[e(gt.gE,{class:Kt,attrs:{spinning:this.state.isFetching}},[e("div",{class:Mt},[e(gt.EH,{attrs:{tabsNavHiddenForOne:!0,renderList:o.map((function(t){return{value:String(t.categoryId),label:t.name}})),persistedActiveName:"",pagination:!1},scopedSlots:{default:function(){var a,r,n=null!==(a=null===(r=R()(o,{categoryId:Number(i)}))||void 0===r?void 0:r.list)&&void 0!==a?a:[];return e("section",{class:Et.Z.comTable,style:{"--empty-height":T.ZP.px2rem(500)}},[e(N.iA.Tsx,Nt()([{attrs:{loading:t.state.isFetching,dataSource:null!=n?n:[],columns:t.defaultColumns,pagination:!1,rowClassName:function(t,e){return e%2==0?Et.Z.even:Et.Z.odd},rowKey:"validBet"}},{attrs:{scroll:{y:T.ZP.px2rem(500)}},on:t.$listeners,directives:[{name:"perfect-scrollbar",value:{el:function(t){return t.querySelector(".ant-table-body")}}}]}]),[t.renderColumn()])])}},model:{value:t.state.activeKey,callback:function(e){t.$set(t.state,"activeKey",e)}}})])])])}}]),c}(c.XY),J=(0,D.Z)(X.prototype,"orderNo",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=(0,D.Z)(X.prototype,"handleClose",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,D.Z)(X.prototype,"languageKeyChange",[V],Object.getOwnPropertyDescriptor(X.prototype,"languageKeyChange"),X.prototype),U=X))||U),qt=a(34717),zt="V371eIB_8gMACPiZgLuA",Ft="AN_AteS2RUxQ24ouBtqI",Wt="COHiGlVzgQiOkA2WF9rU",Ht="DsZxpqk5_lLhLCDA4kFt",Qt="icTdx9hIqeUFF1PjICCB",$t="ooKFeLGKGu6l336fguUP",jt="xtwNmbKDZuVdJql3fkwN",Vt="wjmYYFO7pTLOXc1lCaU7",Ut={0:1,1:2,7:3,15:4,30:5},Xt=(et=(0,c.wA)({name:"CashbackRecords"}),at=(0,c.Rl)(),et((nt=function(t){(0,s.Z)(r,t);var e,a=(0,l.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t=a.call.apply(a,[this].concat(n)),(0,_.Z)((0,E.Z)(t),"state",{isFetching:!1,condition:{dateType:qt.Rd.TODAY},totalBets:0,totalAmounts:0,currentDetail:void 0}),(0,P.Z)((0,E.Z)(t),"cashbackRecordDetailModal",ot,(0,E.Z)(t)),t}return(0,i.Z)(r,[{key:"query",value:(e=(0,w.Z)((0,S.Z)().mark((function t(e,a,r){var n,o,i,s,l,c;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,K.Z)((u={current:e,size:a,date:Ut[r.dateType]},O.Uh.post({url:"/returngold/record",data:{page:u.current,current:u.size,date:u.date}}).then((function(t){return t.data.data}))));case 2:if(i=t.sent,s=(0,I.Z)(i,2),l=s[0],c=s[1],!l){t.next=8;break}return t.abrupt("return",{data:[],total:0});case 8:return this.setState({totalAmounts:(null==c?void 0:c.totalPrize)||0,totalBets:(null==c?void 0:c.totalBet)||0}),t.abrupt("return",{data:null!==(n=null==c?void 0:c.list)&&void 0!==n?n:[],total:null!==(o=null==c?void 0:c.totalCount)&&void 0!==o?o:0});case 10:case"end":return t.stop()}var u}),t,this)}))),function(t,a,r){return e.apply(this,arguments)})},{key:"showDetailModal",value:function(t){this.setState({currentDetail:t})}},{key:"hideDetailModal",value:function(){this.setState({currentDetail:void 0})}},{key:"defaultColumns",get:function(){var t=this,e=this.$createElement,a=(0,G.QT)().t;return[{title:a("lobby.cashback.table.time"),dataIndex:"createTime",key:"createTime",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",["number"==typeof t?T.ZP.format(t):t])}},{title:a("lobby.cashback.subInfo.validBets"),dataIndex:"validBet",key:"validBet",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:O.CM.CssClassName.Lobby.Color.TextDarken},["number"==typeof t?(0,mt.o)(t,{separator:","}):t])}},{title:a("lobby.cashback.table.amount"),dataIndex:"returnGold",key:"returnGold",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:O.CM.CssClassName.Lobby.Color.Yellow},["number"==typeof t?(0,mt.o)(t,{separator:","}):t])}},{title:a("lobby.cashback.table.operator"),dataIndex:"operator",key:"operator",width:T.ZP.px2rem(100),align:"center",customRender:function(r,n){return e("a",{on:{click:function(){t.showDetailModal(n.orderNo)}},class:O.CM.CssClassName.Lobby.Color.Primary},[a("lobby.cashback.table.detail")])}}]}},{key:"listRenderItem",value:function(t){var e,a,r=this,n=this.$createElement,o=(0,G.QT)().t;return n("div",{class:$t,on:{click:function(){r.showDetailModal(t.orderNo)}}},[n("div",[n("p",[o("lobby.cashback.subInfo.validBets")," ",n("span",{class:jt},[(0,mt.o)(null!==(e=t.validBet)&&void 0!==e?e:0,{separator:","})])]),n("p",{class:Vt},[T.ZP.format(t.createTime)])]),n("p",[o("lobby.cashback.table.amount")," ",n("span",{class:O.CM.CssClassName.Lobby.Color.Yellow},[(0,mt.o)(null!==(a=t.returnGold)&&void 0!==a?a:0,{separator:","})])])])}},{key:"render",value:function(){var t=this,e=arguments[0],a=(0,G.QT)(),r=a.t,n=(0,Ct.h)(),o=n.isWeb;return e("div",{class:zt},[e("my-title",{attrs:{title:r("lobby.cashback.pageTitle.records")}}),e("div",{class:Ft},[e("div",{class:Wt},[e(qt.ZP,{attrs:{radioList:Dt.C,selectMode:!0},model:{value:t.state.condition.dateType,callback:function(e){t.$set(t.state.condition,"dateType",e)}}}),e("div",{class:Ht},[e("p",[r("lobby.cashback.subInfo.allValidBets")," ",e("span",{class:O.CM.CssClassName.Lobby.Color.TextDarken},[(0,mt.o)(this.state.totalBets,{separator:","})])]),e("p",[r("lobby.cashback.subInfo.allAmounts")," ",e("span",{class:O.CM.CssClassName.Lobby.Color.Yellow},[(0,mt.o)(this.state.totalAmounts,{separator:","})])])])]),e("div",{class:Qt},[e("section",{class:Et.Z.comTable},[e(gt.FN,{attrs:{query:this.query,rowKey:"orderNo",columns:this.defaultColumns,condition:this.state.condition,listMode:!o,listRenderItem:this.listRenderItem,listScrollHeight:"calc(100vh - 3.44rem)",emptyHeight:T.ZP.px2rem(o?"500px":"700px"),defaultPageSize:o?void 0:15}})])])]),"string"==typeof this.state.currentDetail&&e(Yt,{attrs:{handleClose:function(){t.hideDetailModal()},orderNo:this.state.currentDetail}})])}}]),r}(c.XY),ot=(0,D.Z)(nt.prototype,"cashbackRecordDetailModal",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=nt))||rt),Jt=a(74492),te=a(33990),ee=(a(47042),a(20941)),ae=a.n(ee),re=(it=(0,c.wA)({name:"CashbackCategory"}),st=(0,c.fI)({required:!0}),it((ct=function(t){(0,s.Z)(c,t);var e,a=(0,l.Z)(c);function c(){var t;(0,o.Z)(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=a.call.apply(a,[this].concat(r)),(0,P.Z)((0,E.Z)(t),"items",ut,(0,E.Z)(t)),t}return(0,i.Z)(c,[{key:"defaultColumns",get:function(){var t=this,e=this.$createElement,a=(0,G.QT)().t;return[{title:a("lobby.cashback.table.platform"),dataIndex:"icon",key:"icon",width:T.ZP.px2rem(120),align:"center",customRender:function(t,a){var r;return e("div",{class:St},[e("my-img",{attrs:{src:t,width:40,height:40}}),e("span",[null!==(r=null==a?void 0:a.gameSecondCate)&&void 0!==r?r:""])])}},{title:a("lobby.cashback.subInfo.validBets"),dataIndex:"validBet",key:"validBet",width:T.ZP.px2rem(100),align:"center"},{title:a("lobby.cashback.pageTitle.rates"),dataIndex:"rate",key:"rate",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",[t,"%"])}},{title:a("lobby.cashback.table.downRates"),dataIndex:"nextRate",key:"nextRate",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",[t,"%"])}},{title:a("lobby.cashback.table.amount"),dataIndex:"returnGold",key:"returnGold",width:T.ZP.px2rem(100),align:"center",customRender:function(t){return e("span",{class:It},["number"==typeof t?(0,mt.o)(t,{separator:","}):t])}},{title:a("lobby.cashback.table.operator"),dataIndex:"operator",key:"operator",width:T.ZP.px2rem(100),align:"center",customRender:function(r,n){return e("a",{on:{click:function(){t.goDetail(n)}},class:O.CM.CssClassName.Lobby.Color.Primary},[a("lobby.cashback.table.detail")])}}]}},{key:"goDetail",value:function(t){var e;this.$router.push({query:Lt()({},this.$route.query,(e={},(0,_.Z)(e,n.CURRENT,r.CASHBACKRATES),(0,_.Z)(e,n.GAMECATEGORYID,t.gameCategoryId),(0,_.Z)(e,n.GAMESECONDCATEID,t.gameSecondCateId),e))})}},{key:"query",value:(e=(0,w.Z)((0,S.Z)().mark((function t(e,a){var r,n,o,i,s,l,c,u,d;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,Ct.h)().isWeb){t.next=6;break}return c=(e-1)*a,u=e*a,d=this.items.length>Bt.L8?null===(i=this.items)||void 0===i?void 0:i.slice(c,u):this.items,t.abrupt("return",{data:null!=d?d:[],total:null!==(s=null===(l=this.items)||void 0===l?void 0:l.length)&&void 0!==s?s:0});case 6:return t.abrupt("return",{data:null!==(r=this.items)&&void 0!==r?r:[],total:null!==(n=null===(o=this.items)||void 0===o?void 0:o.length)&&void 0!==n?n:0});case 7:case"end":return t.stop()}}),t,this)}))),function(t,a){return e.apply(this,arguments)})},{key:"render",value:function(){var t,e=this,a=arguments[0],r=(0,G.QT)(),n=r.t,o=(0,Ct.h)(),i=o.isWeb;return i?a("div",{class:xt},[a(gt.FN,{attrs:{rowKey:"gameSecondCateId",query:this.query,columns:this.defaultColumns,virtualLoading:!1,isShowPagination:(null===(t=this.items)||void 0===t?void 0:t.length)>Bt.L8}})]):a("ul",{class:Zt},[this.items.map((function(t){var r;return a("li",{key:t.gameSecondCateId,class:kt,on:{click:e.goDetail.bind("",t)}},[a("div",{class:At},[a("p",[a("my-img",{attrs:{src:t.icon,width:50,height:50}})]),a("p",[null!==(r=null==t?void 0:t.gameSecondCate)&&void 0!==r?r:""])]),a("div",{class:Tt},[a("div",[a("p",[a("label",[n("lobby.cashback.subInfo.validBets")]),a("span",[t.validBet])]),a("p",[a("label",[n("lobby.cashback.pageTitle.rates")]),a("span",[t.rate,"%"])])]),a("div",[a("p",[a("label",[n("lobby.cashback.subInfo.amount")]),a("span",{class:O.CM.CssClassName.Lobby.Color.Yellow},["number"==typeof t.returnGold?(0,mt.o)(t.returnGold,{separator:","}):t.returnGold])]),a("p",[a("label",[n("lobby.cashback.table.downRates")]),a("span",[t.nextRate,"%"])])])]),a("div",{class:Rt},[a("icon-sprite",{attrs:{sprite:ae()}})])])}))])}}]),c}(c.XY),ut=(0,D.Z)(ct.prototype,"items",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=ct))||lt),ne=a(3507),oe=a(26025),ie=a(58858),se=a.n(ie),le=a(74716),ce=a.n(le),ue=a(59623),de=a.n(ue),pe=a(59528),he=a.n(pe),fe=a(80649),ve=a.n(fe),be=a(72590),ye=a.n(be),ge=a(94281),me=a.n(ge),Ce=a(31955),Ze=a.n(Ce),ke="Ia2URtsj2Mu0WnGUQeM5",Te="a_hfRQtY_iyNTJsViNk_",Ae="uT6rkg_axiIqzbQZhYd_",Re="ti2zZhRVxxiDTf_plJAD",xe="XwDvLBhGdxYGsOzSd9lT",Ie="azsJbR2rl9sihb6K2El7",Se="HS9dhnR39CDeN0Sogfgz",we=(dt={},(0,_.Z)(dt,te.LA.by,se()),(0,_.Z)(dt,te.LA.cp,ce()),(0,_.Z)(dt,te.LA.dz,he()),(0,_.Z)(dt,te.LA.qp,ve()),(0,_.Z)(dt,te.LA.ty,ye()),(0,_.Z)(dt,te.LA.zh,me()),(0,_.Z)(dt,te.LA.zr,Ze()),(0,_.Z)(dt,te.LA.dj,de()),(0,_.Z)(dt,te.LA.djc,de()),dt),Ee=(pt=(0,c.wA)({name:"CashbackTabList"}),ht=(0,c.RL)("mainStore.language",{immediate:!0}),pt((vt=function(t){(0,s.Z)(d,t);var e,a,c,u=(0,l.Z)(d);function d(){var t;(0,o.Z)(this,d);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=u.call.apply(u,[this].concat(a)),(0,_.Z)((0,E.Z)(t),"categoryStore",M()),(0,_.Z)((0,E.Z)(t),"mainStore",(0,Ct.h)()),(0,_.Z)((0,E.Z)(t),"state",{isCollectAllPending:!1}),t}return(0,i.Z)(d,[{key:"languageKeyChange",value:(c=(0,w.Z)((0,S.Z)().mark((function t(e,a){return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a||e===a){t.next=3;break}return t.next=3,this.categoryStore.fetchCategory();case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"created",value:(a=(0,w.Z)((0,S.Z)().mark((function t(){return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.categoryStore.fetchCategory();case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"handleCollectAll",value:(e=(0,w.Z)((0,S.Z)().mark((function t(){var e,a,r,n,o,i,s,l;return(0,S.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,G.QT)(),a=e.t,this.setState({isCollectAllPending:!0}),t.next=4,(0,K.Z)(O.Uh.post({url:"/returngold/recv",data:{}}).then((function(t){return t.data.data})));case 4:if(r=t.sent,n=(0,I.Z)(r,1),o=n[0],this.setState({isCollectAllPending:!1}),!o){t.next=11;break}return console.error("cashback fetch error:",o),t.abrupt("return");case 11:return i=(0,Ct.h)(),s=i.updateReceiveAward,l=i.audioReceivePlay,s(),l(),O.sG.Modal.message({type:"success",content:a("lobby.cashback.successTips")}),t.next=17,this.categoryStore.fetchCategory();case 17:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"goRecords",value:function(){this.$router.push({query:Lt()({},this.$route.query,(0,_.Z)({},n.CURRENT,r.CASHBACKRECORDS))})}},{key:"render",value:function(){var t,e,a,n,o=this,i=arguments[0],s=(0,G.QT)(),l=s.t,c=this.categoryStore,u=c.data,d=c.isFetching,p=c.activeKey,h=(0,Ct.h)(),f=h.isWeb,v=h.screenAspectRatio,b=null!=u?u:{},y=b.totalValidBet,g=b.curReturnGold,m=!f&&(null!==(t=null==u||null===(e=u.list)||void 0===e?void 0:e.length)&&void 0!==t?t:0)/(v-.57)<6,C=i("div",{class:Te},[i("div",{class:Ae},[i("label",[l("lobby.cashback.subInfo.allValidBets")]),(0,mt.o)(null!=y?y:0,{separator:","})]),i("div",{class:Ae},[i("label",[l("lobby.cashback.subInfo.amount")]),(0,mt.o)(null!=g?g:0,{separator:","})])]);return i(ne.Z,{attrs:{spinning:d}},[i("div",{class:ke},[f?C:i(oe.Z,{attrs:{activedTab:oe.r.BACKWATER}},[i("template",{slot:"tab-bottom"},[C])]),i("div",{class:[Ie,"cash-back-tabs"]},[i(gt.CO,{attrs:{tabsWidth:f?130:150,tabsNavHiddenForOne:!0,renderList:[].concat((0,Jt.Z)(null!==(a=null==u||null===(n=u.list)||void 0===n?void 0:n.map((function(t){return{itemClass:"tab-".concat(t.categoryId),value:t.categoryId,icon:function(e){return i("icon-sprite",{key:t.activeCateId,class:(0,_.Z)({},Se,!e),attrs:{sprite:we[t.activeCateId]}})},label:t.name,isVertical:m}})))&&void 0!==a?a:[]),[{value:"",label:i(N.zx.Tsx,{class:[Re,xe],attrs:{type:"success",loading:this.state.isCollectAllPending,disabled:(null!=g?g:0)<=0},on:{click:this.handleCollectAll}},[l("lobby.cashback.subInfo.collectAll")]),isButton:!0},{value:r.CASHBACKRECORDS,label:i(N.zx.Tsx,{class:Re,attrs:{type:"primary"},on:{click:this.goRecords}},[l("lobby.cashback.pageTitle.records")]),isButton:!0}])},scopedSlots:{default:function(){if("number"==typeof p&&p>-1){var t,e=(null==u||null===(t=u.list.find((function(t){return t.categoryId===p})))||void 0===t?void 0:t.list)||[];return i(re,{key:p,attrs:{items:e}})}}},model:{value:o.categoryStore.activeKey,callback:function(t){o.$set(o.categoryStore,"activeKey",t)}}})]),i("svg",[i("defs",[i("linearGradient",{attrs:{id:"not-active-icon-linear-gradient",x1:"0.5",x2:"0.5",y2:"1"}},[i("stop",{attrs:{offset:"0","stop-color":"var(--theme-aside-icon-color-0)"}}),i("stop",{attrs:{offset:"1","stop-color":"var(--theme-aside-icon-color-1)"}})])])])])])}}]),d}(c.XY),(0,D.Z)(vt.prototype,"languageKeyChange",[ht],Object.getOwnPropertyDescriptor(vt.prototype,"languageKeyChange"),vt.prototype),ft=vt))||ft),_e=(0,c.wA)({name:"PageCashback"})(bt=function(t){(0,s.Z)(a,t);var e=(0,l.Z)(a);function a(){return(0,o.Z)(this,a),e.apply(this,arguments)}return(0,i.Z)(a,[{key:"mounted",value:function(){(0,T.C1)("enterCashback")}},{key:"isRCashbackRatesPage",get:function(){var t,e;return(null===(t=this.$route)||void 0===t||null===(e=t.query)||void 0===e?void 0:e[n.CURRENT])===r.CASHBACKRATES}},{key:"isCashbackRecrodsPage",get:function(){var t,e;return(null===(t=this.$route)||void 0===t||null===(e=t.query)||void 0===e?void 0:e[n.CURRENT])===r.CASHBACKRECORDS}},{key:"render",value:function(){var t=arguments[0];return this.isRCashbackRatesPage?t(_t):this.isCashbackRecrodsPage?t(Xt):t(Ee)}}]),a}(c.XY))||bt}}]);