(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[6268],{67921:function(t){t.exports={id:"comm_icon_clock--sprite-usage",viewBox:"0 0 24 24",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_clock--sprite",toString:function(){return this.url}}},41669:function(t){t.exports={id:"comm_icon_del--sprite-usage",viewBox:"0 0 21.351 24",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_del--sprite",toString:function(){return this.url}}},20903:function(t){t.exports={id:"comm_icon_qc--sprite-usage",viewBox:"0 0 28 28",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_qc--sprite",toString:function(){return this.url}}},85331:function(t,e,a){"use strict";a.d(e,{Z:function(){return E}});var r,i,n,s=a(74492),o=a(21797),c=a(92317),u=a(82345),l=a(72283),h=a(20793),m=a(50125),g=(a(41539),a(78783),a(33948),a(92222),a(51532),a(9653),a(26699),a(69826),a(68309),a(30813)),d=a(12322),y=a(90825),p=a(33990),f=a(72433),v=a(76937),k=a(42930),b=a(81764),C=a(98292),S=a(56260),I=a(72859),L=a(52318),Z=a.n(L),T="Sg8EWG73vPuPWCl08eq1",A="TUj1K7oRl6nYBlJ7lxQT",H="Bet_XT7ApAdc9QyvCWQg",E=(0,g.wA)({name:"BasePageMixins",components:(n={class:[T]},i={},(0,m.Z)(i,d.D5.NORMAL_STYLE0,S.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(2446),a.e(1230),a.e(7320)]).then(a.bind(a,48115))},loadingComponentConfig:n})),(0,m.Z)(i,d.D5.NORMAL_STYLE1,S.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(2446),a.e(1230),a.e(7320),a.e(2116)]).then(a.bind(a,32116))},loadingComponentConfig:n})),(0,m.Z)(i,d.D5.CYANBLUE,S.Z.createAsyncComponent({component:function(){return Promise.all([a.e(1230),a.e(2894),a.e(5955)]).then(a.bind(a,21405))},loadingComponentConfig:n})),(0,m.Z)(i,d.D5.EUROPEAN_AMERICAN,S.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(1230),a.e(5544)]).then(a.bind(a,62719))},loadingComponentConfig:n})),i)})(r=function(t){(0,l.Z)(r,t);var e=(0,h.Z)(r);function r(){var t;(0,o.Z)(this,r);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i)),(0,m.Z)((0,u.Z)(t),"mainStore",(0,C.h)()),t}return(0,c.Z)(r,[{key:"gameTabList",get:function(){var t,e=this.mainStore,a=e.isEuropeanAmerican,r=e.isCyanBlue,i=this.mainStore.homeLayoutInfos,n=null!==(t=null==i?void 0:i.topLayout)&&void 0!==t?t:p.j4.style0;return new Map([[n===p.j4.style0,d.D5.NORMAL_STYLE0],[n===p.j4.style1,d.D5.NORMAL_STYLE1],[r,d.D5.CYANBLUE],[a,d.D5.EUROPEAN_AMERICAN]]).get(!0)}},{key:"defaultHotGameId",get:function(){var t=this.mainStore.isEuropeanAmerican,e=String(t?d.ck.HOME:d.ck.HOT);return Number(e)}},{key:"hasAbbreviation",get:function(){var t=this.mainStore.language;return["zh_CN","zh_TW","tl_PH","pt_PT","th_TH","ko_KR"].includes(t)}},{key:"isWeb",get:function(){return this.mainStore.isWeb}},{key:"isLogin",get:function(){return this.mainStore.hasLogined}},{key:"Config",get:function(){return{gameDataSize:50}}},{key:"tabImgs",get:function(){var t;return t={},(0,m.Z)(t,d.ck.HOT,a(98257)),(0,m.Z)(t,d.ck.SEARCH,a(88573)),(0,m.Z)(t,d.ck.CHESS,a(5955)),(0,m.Z)(t,d.ck.FISH,a(61594)),(0,m.Z)(t,d.ck.ELECTRONIC,a(90535)),(0,m.Z)(t,d.ck.REAL,a(82372)),(0,m.Z)(t,d.ck.SPORTS,a(7181)),(0,m.Z)(t,d.ck.LOTTERY,a(50199)),(0,m.Z)(t,d.ck.RECENT,a(85355)),t}},{key:"gameCategoryId",get:function(){var t;return Number(null!==(t=this.$route.query.gameCategoryId)&&void 0!==t?t:this.defaultHotGameId)}},{key:"gameCategoryName",get:function(){var t;return null===(t=this.gameCategory)||void 0===t?void 0:t.gameCategoryName}},{key:"gameCategory",get:function(){var t=this,e=(0,k.g)().gameCategoriesAvailable,a=(0,b.QT)().t;return[{gameCategoryId:0,gameCategoryName:"".concat(a("lobby.gameMenu.menu0"))}].concat((0,s.Z)(e)).find((function(e){return e.gameCategoryId===t.gameCategoryId}))}},{key:"platformId",get:function(){return Number(this.$route.query.platformId||-1)}},{key:"platformItem",get:function(){var t,e=this,a=this.gameCategory;return null==a||null===(t=a.list)||void 0===t?void 0:t.find((function(t){return t.platformId===e.platformId}))}},{key:"randerTable",value:function(){var t=this.$createElement,e=this.mainStore,a=e.isEuropeanAmerican,r=e.isCyanBlue;return this.isLogin&&this.isWeb&&!a&&!r?t(I.Z):null}},{key:"renderBreadcrumb",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.$createElement,r=(0,k.g)(),i=r.gameParam,n=r.setGameParameters,s=[],o=function(){n(void 0),t.$router.push({name:v.x4.GAME,query:{gameCategoryId:t.$route.query.gameCategoryId}})},c=function(){n(void 0),t.$router.push({name:v.x4.SUB_GAME,query:{platformId:t.$route.query.platformId,gameCategoryId:t.$route.query.gameCategoryId}})};if(e){var u;this.gameCategoryName&&s.push(a("div",[a("span",{on:{click:o}},[this.gameCategoryName]),a("icon-sprite",{attrs:{sprite:Z()}})])),null!==(u=this.platformItem)&&void 0!==u&&u.platformName&&s.push(a("div",[a("span",[this.platformItem.platformName])]))}else{var l,h;if(this.gameCategoryName&&s.push(a("div",[a("span",{on:{click:o}},[this.gameCategoryName]),a("icon-sprite",{attrs:{sprite:Z()}})])),null!==(l=this.platformItem)&&void 0!==l&&l.platformName)s.push(a("div",[a("span",{on:{click:c}},[null===(h=this.platformItem)||void 0===h?void 0:h.platformName]),a("icon-sprite",{attrs:{sprite:Z()}})]));null!=i&&i.name&&s.push(a("div",[a("span",[null==i?void 0:i.name])]))}return a("div",{class:A},[a("div",{class:H},[s]),a(f.YC,{attrs:{name:y.CM.PortalName.GameListTopRight}})])}}]),r}(g.XY))||r},12956:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return B}});var r,i,n,s,o=a(36568),c=a.n(o),u=a(70970),l=a(2813),h=a(74492),m=a(21797),g=a(92317),d=a(82345),y=a(72283),p=a(20793),f=a(50125),v=a(17360),k=(a(92222),a(57327),a(41539),a(38862),a(21249),a(74916),a(64765),a(38880),a(95306)),b=a(30813),C=a(12322),S=a(27686),I=a(86493),L=a(81764),Z=a(85331),T=a(67921),A=a.n(T),H=a(41669),E=a.n(H),N=a(20903),_=a.n(N),R="RjUrBc7LhyB2baO4yJmQ",G="zoA2ky3AoPlVbJ69cAu_",x="_nmv1dWvK0AZIMbMI97N",D="rR8FxwmTA_x5UlXdMKd5",O="AniwOtr6NkrkkwN7SYjc",q="dZ7JXBlRF2bUGhW6pqrQ",w="z8MBA4ZtesnE_a7pWmjG",M="JMP2tQLi6K1dDqksr3Ry",B=(r=(0,b.wA)({name:"Search"}),i=(0,b.RL)("activeTabkey"),r((s=function(t){(0,y.Z)(v,t);var e,r,i,n,s,o=(0,p.Z)(v);function v(){var t;(0,m.Z)(this,v);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a)),(0,f.Z)((0,d.Z)(t),"state",{searchValue:"",searchLoading:!1,listData:[],current:1,total:0,loading:!1,scrollLoading:!1,currentQueryFun:function(){return null}}),t}return(0,g.Z)(v,[{key:"activeTabkeyChange",value:function(){this.queryDefualt()}},{key:"activeTabkey",get:function(){return this.mainStore.gameListTabActive}},{key:"tabs",get:function(){var t=(0,L.QT)().t;return[{key:C.ck.SEARCH,name:this.hasAbbreviation?t("lobby.game.searchResults"):t("lobby.game.search"),img:this.tabImgs[C.ck.SEARCH]},{key:C.ck.HOT,name:t("lobby.game.allHot"),img:this.tabImgs[C.ck.HOT],munuName:"".concat(t("lobby.game.all"))},{key:C.ck.RECENT,name:this.hasAbbreviation?t("lobby.game.recent"):t("lobby.game.loadingRecent"),img:a(85355),munuName:"".concat(t("lobby.game.loadingRecent"))},{key:C.ck.COLLENCT,name:this.hasAbbreviation?t("lobby.game.collect"):t("lobby.game.loadingCollect"),img:a(13179),munuName:"".concat(t("lobby.game.loadingCollect"))}]}},{key:"getSearchHistory",value:function(){var t=(0,I.cF)("searchHistory");return t.length?t:[]}},{key:"deleteSearchHistory",value:function(t,e){var a=this.getSearchHistory().filter((function(e){return e.key!==t}));localStorage.setItem("searchHistory",e?"":JSON.stringify(a)),this.$forceUpdate()}},{key:"setSearchHistory",value:function(t){if(t){var e=this.getSearchHistory();return!e.some((function(e){return e.value===t}))&&(localStorage.setItem("searchHistory",JSON.stringify([].concat((0,h.Z)(e),[{key:e.length,value:t}]))),!0)}}},{key:"renderSearchHistory",value:function(){var t=this,e=this.$createElement,a=(0,L.QT)().t,r=this.getSearchHistory();if(r.length>0)return e("div",{class:q},[e("div",{class:w},[e("div",[e("icon-sprite",{attrs:{sprite:A()}}),e("span",[a("lobby.game.searchHistory")])]),e("div",{on:{click:this.deleteSearchHistory.bind(this,0,!0)}},[e("icon-sprite",{attrs:{sprite:E()}}),e("span",[a("lobby.game.deleteAll")])])]),e("ul",{class:M},[r.map((function(a){return e("li",{key:a.value,on:{click:t.onSearchHistoryClick.bind(t,a.value)}},[e("span",[a.value]),e("icon-sprite",c()([{attrs:{sprite:_()}},{nativeOn:{click:b.Ie.LY.stop(t.deleteSearchHistory.bind(t,a.key,!1))}}]))])}))])])}},{key:"onSearchHistoryClick",value:function(t){this.setState({searchValue:t}),this.searchGame(t)}},{key:"searchGame",value:(s=(0,l.Z)((0,u.Z)().mark((function t(e){var a,r,i,n,s=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!(s.length>1&&void 0!==s[1])||s[1],this.activeTabkey!==C.ck.SEARCH&&this.mainStore.updateGameListTabActive(C.ck.SEARCH),!this.state.searchLoading){t.next=4;break}return t.abrupt("return");case 4:return a?this.setState({loading:!0,searchLoading:!0,current:1}):this.setState({scrollLoading:!0}),t.next=7,(0,S.Sz)({current:this.state.current,gameName:e,size:50});case 7:r=t.sent,i=r.gameList,n=r.total,this.setState({listType:"game",activeKey:C.ck.SEARCH,total:n,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(i)):i,currentQueryFun:this.searchGame.bind(this,e,!1),loading:!1,scrollLoading:!1,searchLoading:!1}),this.setSearchHistory(e);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"mounted",value:function(){this.mainStore.updateGameListTabActive(C.ck.HOT),this.queryDefualt()}},{key:"destroyed",value:function(){this.mainStore.updateGameListTabActive(this.defaultHotGameId)}},{key:"queryDefualt",value:(n=(0,l.Z)((0,u.Z)().mark((function t(){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.reset(),t.t0=this.activeTabkey,t.next=t.t0===C.ck.HOT?4:t.t0===C.ck.RECENT?7:t.t0===C.ck.COLLENCT?10:t.t0===C.ck.SEARCH?13:16;break;case 4:return t.next=6,this.queryHotGame();case 6:case 9:case 12:case 15:return t.abrupt("break",16);case 7:return t.next=9,this.queryRecentGame();case 10:return t.next=12,this.queryFavoriteGame();case 13:return t.next=15,this.searchGame(this.state.searchValue);case 16:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"reset",value:function(){this.setState({current:1,total:0})}},{key:"queryHotGame",value:(i=(0,l.Z)((0,u.Z)().mark((function t(){var e,a,r;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!this.state.scrollLoading}),t.next=3,(0,S.fu)({current:1,size:100,platformId:-1!==this.platformId?this.platformId:void 0,gameCategoryId:this.gameCategoryId===this.defaultHotGameId?void 0:this.gameCategoryId});case 3:e=t.sent,a=e.hotGameList,r=e.total,this.setState({listType:"game",total:r,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryHotGame.bind(this),loading:!1,scrollLoading:!1});case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"queryRecentGame",value:(r=(0,l.Z)((0,u.Z)().mark((function t(){var e,a,r,i=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>0&&void 0!==i[0]&&i[0]?this.setState({loading:!1,scrollLoading:!0}):this.setState({loading:!this.state.scrollLoading}),t.next=4,(0,S.EW)({current:this.state.current,size:this.Config.gameDataSize,platformId:-1!==this.platformId?this.platformId:void 0,gameCategoryId:this.gameCategoryId===this.defaultHotGameId?void 0:this.gameCategoryId});case 4:e=t.sent,a=e.recentList,r=e.total,this.setState({listType:"game",total:r,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryRecentGame.bind(this,!0)}),this.setState({loading:!1,scrollLoading:!1});case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"queryFavoriteGame",value:(e=(0,l.Z)((0,u.Z)().mark((function t(){var e,a,r,i=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>0&&void 0!==i[0]&&i[0]?this.setState({loading:!1,scrollLoading:!0}):this.setState({loading:!this.state.scrollLoading,listData:[]}),t.next=4,(0,S.AU)({current:this.state.current,size:this.Config.gameDataSize,platformId:-1!==this.platformId?this.platformId:void 0,gameCategoryId:this.gameCategoryId===this.defaultHotGameId?void 0:this.gameCategoryId});case 4:e=t.sent,a=e.favoriteList,r=e.total,this.setState({listType:"game",total:r,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryFavoriteGame.bind(this,!0)}),this.setState({loading:!1,scrollLoading:!1});case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tabsChange",value:function(t){this.mainStore.updateGameListTabActive(t)}},{key:"addMore",value:function(){this.setState({current:this.state.current+1}),this.state.currentQueryFun()}},{key:"updateListData",value:function(t,e){this.setState({listData:t,total:e})}},{key:"render",value:function(){var t=this,e=arguments[0],a=(0,L.QT)(),r=a.t;return e("div",{class:[R]},[e("my-title",{class:G,attrs:{goBack:function(){return t.$router.go(-1)},title:r("lobby.game.search"),needH5Height:!0}}),e("div",{class:x,ref:"searchBox"},[e("div",[e(k.II.Search.Tsx,c()([{class:D,attrs:{placeholder:r("lobby.game.search"),value:this.state.searchValue,loading:(!this.state.searchLoading||!this.state.loading)&&(this.state.searchLoading||this.state.loading)},ref:"searchInput"},{on:{pressEnter:function(e){var a=e.target;t.searchGame(a.value)},search:function(e){!t.isWeb&&t.searchGame(e)},change:function(e){var a=e.target;return t.setState({searchValue:a.value})}}}])),this.isWeb&&e(k.zx.Tsx,{on:{click:this.searchGame.bind(this,this.state.searchValue)},class:O,attrs:{type:"primary",loading:this.state.searchLoading}},[r("lobby.game.search")])]),this.renderSearchHistory()]),e(this.gameTabList,c()([{},{props:{tabsType:"searchGame",activeTabkey:this.activeTabkey,tabs:this.tabs,listData:this.state.listData,current:this.state.current,total:this.state.total,loading:this.state.loading,scrollLoading:this.state.scrollLoading,tabsChange:this.tabsChange,currentQueryFun:this.addMore,updateListData:this.updateListData,gameCategory:this.gameCategory,platformItem:this.platformItem}}]))])}}]),v}((0,b.Wr)(Z.Z)),(0,v.Z)(s.prototype,"activeTabkeyChange",[i],Object.getOwnPropertyDescriptor(s.prototype,"activeTabkeyChange"),s.prototype),n=s))||n)},13179:function(t,e,a){"use strict";t.exports=a.p+"assets/icon_game_tab_101.4266121ba8c354ae96a1.png"}}]);