(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[213],{41669:function(e){e.exports={id:"comm_icon_del--sprite-usage",viewBox:"0 0 21.351 24",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_del--sprite",toString:function(){return this.url}}},81542:function(e){e.exports={id:"img_label_def-2--sprite-usage",viewBox:"0 0 16.021 23",url:"/assets/sprite.c10e6e11446a81e9da57.svg#img_label_def-2--sprite",toString:function(){return this.url}}},85358:function(e){e.exports={id:"icon_xx_1yj--sprite-usage",viewBox:"0 0 38 41.54",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_xx_1yj--sprite",toString:function(){return this.url}}},83111:function(e){e.exports={id:"icon_xx_2yj--sprite-usage",viewBox:"0 0 38 30.31",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_xx_2yj--sprite",toString:function(){return this.url}}},25441:function(e,t,i){"use strict";i.d(t,{Z:function(){return M}});var n,a,s,r,o,l,c,u=i(3587),h=i(21797),d=i(92317),v=i(82345),p=i(72283),f=i(20793),y=i(50125),b=i(17360),g=(i(41320),i(92222),i(30813)),m=i(81764),Z="da4sKbE6RVc0DuXOBPgj",k="e3jqGIp18KvkARiCkO9O",M=(n=(0,g.wA)({name:"PageChangeButton"}),a=(0,g.fI)({required:!0}),s=(0,g.fI)({required:!0}),n((o=function(e){(0,p.Z)(i,e);var t=(0,f.Z)(i);function i(){var e;(0,h.Z)(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,v.Z)(e),"pageInfo",l,(0,v.Z)(e)),(0,u.Z)((0,v.Z)(e),"pageChangeHandler",c,(0,v.Z)(e)),e}return(0,d.Z)(i,[{key:"maxPage",get:function(){var e=this.pageInfo,t=e.total,i=e.pageSize;return Math.ceil(t/i)}},{key:"render",value:function(){var e=this,t=arguments[0],i=this.pageInfo.pageNo,n=(0,m.QT)(),a=n.t,s=i<=1,r=i>=this.maxPage;return t("div",{class:Z},[t("span",{class:(0,y.Z)({},k,s),on:{click:function(){!s&&e.pageChangeHandler(-1)}}},[a("lobby.common.pagination.prev")]),t("span",{class:(0,y.Z)({},k,r),on:{click:function(){!r&&e.pageChangeHandler(1)}}},[a("lobby.common.pagination.next")])])}}]),i}(g.XY),l=(0,b.Z)(o.prototype,"pageInfo",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=(0,b.Z)(o.prototype,"pageChangeHandler",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=o))||r)},90213:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return et}});var n,a,s,r,o,l,c,u,h,d,v,p,f,y,b,g,m,Z,k,M,x,N,D,T,L,C,O,E=i(22705),P=i(7903),S=i(70970),A=i(2813),w=i(21797),R=i(92317),_=i(82345),K=i(72283),H=i(20793),I=i(50125),Y=i(17360),j=(i(92222),i(69826),i(41539),i(9653),i(21249),i(51532),i(78783),i(33948),i(57327),i(54747),i(38880),i(30813)),Q=i(95306),U=i(90416),z=i(39730),B=i(90825),V=i(83623),q=i(71342),W=i(72563),X=i(81764),G=i(98292),F=i(61812),J=i(71707),$=i(27361),ee=i.n($),te=i(3587),ie=(i(41320),i(95627)),ne="P9FRsLxXZ4sLnQ1YhH_B",ae="CyfCNJZ67HKK2_p1aCG1",se="tLcBzuG7q8JgLjTlOckx",re={moveNum:0,pullDistance:0,pullVisible:!1,loadingVisible:!1},oe=(n=(0,j.wA)({name:"H5List"}),a=(0,j.Rl)(),s=(0,j.Rl)(),r=(0,j.fI)(ie.ZP.string.def("")),o=(0,j.fI)(ie.ZP.string.def("")),l=(0,j.fI)(ie.ZP.string.def("")),c=(0,j.fI)(ie.ZP.string.def("")),u=(0,j.fI)(ie.ZP.string.def("")),h=(0,j.fI)(ie.ZP.bool.def(!0)),d=(0,j.fI)(ie.ZP.func.def((function(){return null}))),n((p=function(e){(0,K.Z)(i,e);var t=(0,H.Z)(i);function i(){var e;(0,w.Z)(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,te.Z)((0,_.Z)(e),"contentRef",f,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"listRef",y,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"top",b,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"bottom",g,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"background",m,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"noMoreText",Z,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"type",k,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"noMoreVisible",M,(0,_.Z)(e)),(0,te.Z)((0,_.Z)(e),"handlePull",x,(0,_.Z)(e)),(0,I.Z)((0,_.Z)(e),"state",(0,P.Z)({},re)),(0,I.Z)((0,_.Z)(e),"maxMove",0),(0,I.Z)((0,_.Z)(e),"startY",0),(0,I.Z)((0,_.Z)(e),"endMoveNum",0),(0,I.Z)((0,_.Z)(e),"openPullHeight",50),(0,I.Z)((0,_.Z)(e),"speedObj",{speed:0,beforeDistanceY:0}),(0,I.Z)((0,_.Z)(e),"localTouch",!1),e}return(0,R.Z)(i,[{key:"mounted",value:function(){var e=this;this.handleCalculateMaxMove(),setTimeout((function(){e.handleAddTouchListenter()}))}},{key:"beforeDestroy",value:function(){this.handleRemoveTouchListenter()}},{key:"handleCalculateMaxMove",value:function(){var e=ee()(this.contentRef,"clientHeight")||0,t=ee()(this.listRef,"clientHeight")||0;this.maxMove=t-e}},{key:"handleCalculateSpeed",value:function(e){this.speedObj.beforeDistanceY=0===this.speedObj.beforeDistanceY?e:this.speedObj.beforeDistanceY,this.speedObj.speed=Math.floor(e-this.speedObj.beforeDistanceY),this.speedObj.beforeDistanceY=e}},{key:"handleInertiaMove",value:function(e){var t=this,i=this.state.moveNum+e;if(0!==this.speedObj.speed&&0!==e)return i<-1*this.maxMove?(this.endMoveNum=-1*this.maxMove,void this.setState({moveNum:-1*this.maxMove})):i>0?(this.endMoveNum=0,void this.setState({moveNum:0})):void setTimeout((function(){t.endMoveNum=i,t.setState({moveNum:i}),t.handleInertiaMove(e>0?e-1:e+1)}),15)}},{key:"handleTouchstartHandler",value:function(e){this.localTouch||(this.startY=e.changedTouches[0].clientY,this.handleCalculateMaxMove(),this.speedObj.speed=0,this.speedObj.beforeDistanceY=0)}},{key:"handleTouchmoveHandler",value:function(e){if(!(this.localTouch||this.maxMove<=0)){var t=e.changedTouches[0].clientY-this.startY+this.endMoveNum,i=t>0?0:t<-1*this.maxMove?-1*this.maxMove:t;this.handleCalculateSpeed(t),i===-1*this.maxMove&&!this.noMoreVisible&&this.handlePull?this.setState({pullDistance:Math.floor(t-i)/2,loadingVisible:Math.floor(t-i)/2<=-1*(this.openPullHeight+40),pullVisible:!0}):this.setState({moveNum:Math.floor(i)})}}},{key:"handleTouchendHandeler",value:function(){if(!this.localTouch){var e=this.state.pullDistance;this.endMoveNum=this.state.moveNum,0!==e?(this.localTouch=!0,this.handlePullBack(1)):this.handleInertiaMove(this.speedObj.speed)}}},{key:"handlePullBack",value:function(e){var t=this,i=this.state,n=i.pullDistance,a=i.loadingVisible,s=i.moveNum;if(0===n||this.noMoreVisible)return this.localTouch=!1,void this.setState({pullDistance:0});if(a&&-1*this.openPullHeight<=n)return this.setState({pullDistance:-1*this.openPullHeight}),void(this.handlePull&&this.handlePull((function(){t.setState({loadingVisible:!1,pullVisible:!1}),setTimeout((function(){var e=t.maxMove;t.handleCalculateMaxMove(),t.maxMove===e?t.handlePullBack(10):(t.localTouch=!1,t.endMoveNum=s+n,t.setState({pullDistance:0,pullVisible:!0,moveNum:t.endMoveNum}))}),200)})));var r=Math.floor(n)+e;r<0?this.setState({pullDistance:r},(function(){setTimeout((function(){t.handlePullBack(e>15?15:e+1)}),10)})):(this.localTouch=!1,this.setState({pullDistance:0,pullVisible:!0}))}},{key:"handleAddTouchListenter",value:function(){this.listRef.addEventListener("touchstart",this.handleTouchstartHandler),this.listRef.addEventListener("touchmove",this.handleTouchmoveHandler),this.listRef.addEventListener("touchend",this.handleTouchendHandeler),this.listRef.addEventListener("touchcancel",this.handleTouchendHandeler)}},{key:"handleRemoveTouchListenter",value:function(){this.listRef.removeEventListener("touchstart",this.handleTouchstartHandler),this.listRef.removeEventListener("touchmove",this.handleTouchmoveHandler),this.listRef.removeEventListener("touchend",this.handleTouchendHandeler),this.listRef.removeEventListener("touchcancel",this.handleTouchendHandeler)}},{key:"render",value:function(){var e,t=arguments[0],i=(0,X.QT)(),n=i.t,a=this.state,s=a.pullDistance,r=a.moveNum,o=(a.loadingVisible,a.pullVisible),l=r+s;return t("div",[t("div",{class:ne,style:{top:this.top,bottom:this.bottom},ref:"contentRef"},[t("div",{ref:"listRef",style:{background:this.background,transform:"translateY(".concat(l,"px)")}},[null===(e=this.$slots)||void 0===e?void 0:e.default,this.noMoreVisible&&this.noMoreText?t("div",{class:ae},[this.noMoreText]):null])]),this.handlePull&&o&&!this.noMoreVisible?t("div",{class:se,style:{bottom:this.bottom,height:"".concat(Math.abs(s),"px"),lineHeight:"".concat(Math.abs(s),"px")}},[n("lobby.game.loadingMore")]):null])}}]),i}(j.XY),f=(0,Y.Z)(p.prototype,"contentRef",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,Y.Z)(p.prototype,"listRef",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,Y.Z)(p.prototype,"top",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,Y.Z)(p.prototype,"bottom",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,Y.Z)(p.prototype,"background",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,Y.Z)(p.prototype,"noMoreText",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,Y.Z)(p.prototype,"type",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,Y.Z)(p.prototype,"noMoreVisible",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,Y.Z)(p.prototype,"handlePull",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=p))||v),le=i(25441),ce=i(77787),ue=i(20204),he=i.n(ue),de=i(41669),ve=i.n(de),pe=i(20941),fe=i.n(pe),ye=i(74567),be=i.n(ye),ge=i(85358),me=i.n(ge),Ze=i(83111),ke=i.n(Ze),Me=i(81542),xe=i.n(Me),Ne="vPsHc693R5YrhjWo3h7N",De="fS9coUW__BFwXk_Cx1hQ",Te="QncqQT96PE79seFeRzlk",Le="wU62hlvUUyBmxgTM7ZPR",Ce="E5GmjipstwriYka0jtyf",Oe="MEMM3gv4dMzqdqtxsb0s",Ee="xZ6ZOpamuwXrL1XvAioA",Pe="fAm2gBE2WWFLQhyhNTEj",Se="DkT2A7bUjCKL6XEk2Hfd",Ae="cppMubbFT4Yf5xWJuYUW",we="zO5t6aj1K5Lmw_CItgAU",Re="Aux2t2oi1SwvRjJgYJfx",_e="lllFihTYqEEUM6RAFA3b",Ke="eOYKA7eX9KwHuNJkIm2p",He="TkuwDOgZKvN5L37gJZ3G",Ie="dipfYdL7FO5zj2Eul8ZR",Ye="NLNoS0SrxPGJeDqhFZLd",je="qMuuf1TUvOzWfhVuoSiV",Qe="fDIOyqf9tbUJpsdy90kA",Ue="LkeGv44_iDBvXb3JeYCP",ze="deCdO3N3a9jduZ1m8Ate",Be="IU7Qxg1s9UUBpeYeHxRU",Ve="QT1OYlup4rVoKsVrXGVS",qe="vA_Ia9QJ78jg_K8uUPUQ",We="dSEPWSyb4q7vvf_N9XsH",Xe="k8v7yQ2iceyXIl9RIwQH",Ge="owlyDRNy1wVGdg49C3ru",Fe="OhNABsGimvr658mt5ffW",Je="u9cNgKqUOZnYgoBCKApZ",$e=i(41800),et=(N=(0,j.wA)({name:"Notice"}),D=(0,j.RL)("hasLogined"),T=(0,j.RL)("state.activeKey"),L=(0,j.RL)("isWeb"),N((O=function(e){(0,K.Z)(r,e);var t,i,n,a,s=(0,H.Z)(r);function r(){var e;(0,w.Z)(this,r);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=s.call.apply(s,[this].concat(i)),(0,I.Z)((0,_.Z)(e),"state",{activeKey:V.O.ANNOUNCEMENT,loading:!1,current:1,listData:[],total:0,selecting:!1,innerPage:null,localData:{},firstLoad:!0}),e}return(0,R.Z)(r,[{key:"isCheckedAll",get:function(){return!this.state.listData.find((function(e){var t=e.checked;return void 0===t||!1===t}))}},{key:"isChecked",get:function(){return!!this.state.listData.find((function(e){return!0===e.checked}))}},{key:"isWeb",get:function(){return(0,G.h)().isWeb}},{key:"size",get:function(){return(0,G.h)().isWeb?5:15}},{key:"hasLogined",get:function(){return(0,G.h)().hasLogined}},{key:"tabs",get:function(){var e=(0,X.QT)().t,t=(0,F.G)(),i=t.unreadAnnouncement,n=t.unreadNotice;return[{key:V.O.ANNOUNCEMENT,value:e("lobby.notice.announcement"),unread:i},{key:V.O.NOTICE,value:e("lobby.notice.notice"),unread:n},{key:V.O.MARQUEE,value:e("lobby.notice.marquee")}]}},{key:"onLoginStatusChange",value:function(){this.setState({localData:{}}),this.resetAndQueryList()}},{key:"onActiveKeyChange",value:function(){this.resetAndQueryList()}},{key:"onDeviceScreenChange",value:function(){this.resetAndQueryList()}},{key:"mounted",value:function(){var e=Number(this.$route.query.noticeType)||V.O.ANNOUNCEMENT;this.setState({activeKey:e}),this.queryNoticeList()}},{key:"resetAndQueryList",value:function(){this.state.selecting&&this.state.listData.map((function(e){return e.checked=!1,e})),this.setState({innerPage:null,selecting:!1,listData:[]},this.queryNoticeList.bind(this,!0))}},{key:"queryNoticeList",value:(a=(0,A.Z)((0,S.Z)().mark((function e(){var t,i,n,a,s=this,r=arguments;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],!(i=this.state.localData[this.state.activeKey])){e.next=5;break}return this.setState({total:i.total,current:i.current,listData:i.listData,loading:!1}),e.abrupt("return");case 5:this.state.activeKey===V.O.ANNOUNCEMENT&&this.state.firstLoad&&(n=(0,F.G)(),null!=(a=n.cacheData)&&a.list&&this.setState({listData:null==a?void 0:a.list})),this.setState({loading:!0,current:t?1:this.state.current}),(0,(0,F.G)().getNoticeList)(this.state.current,this.state.activeKey,this.size).finally((function(){var e=(0,F.G)().noticeList;if(s.resetListDeleteBtn(),s.isWeb)s.setState({total:null==e?void 0:e.listCount,listData:null==e?void 0:e.list,loading:!1});else{var i=[];if(t){var n;i=null!==(n=null==e?void 0:e.list)&&void 0!==n?n:[]}else{var a;s.state.firstLoad&&s.setState({listData:[]});var r=new Map;i=s.state.listData.concat(null!==(a=null==e?void 0:e.list)&&void 0!==a?a:[]).reverse().filter((function(e){return!r.has(e.id)&&r.set(e.id,1)})).reverse()}s.setState({total:null==e?void 0:e.listCount,listData:i,loading:!1})}s.setState({firstLoad:!1,localData:(0,I.Z)({},s.state.activeKey,{total:s.state.total,current:s.state.current,listData:s.state.listData})})}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onPageChange",value:function(e){this.setState({current:this.state.current+e}),this.clearLOcalData(this.state.activeKey),this.queryNoticeList()}},{key:"changeSelectVisible",value:function(){this.setState({selecting:!this.state.selecting,listData:this.state.listData.map((function(e){return e.checked=!1,e}))})}},{key:"changeChecked",value:function(e){if(-1===e){var t=this.state.listData.find((function(e){return!0===e.checked})),i=this.state.listData.map((function(e){return e.checked=!t,e}));this.setState({listData:i})}else this.setState({listData:this.state.listData.map((function(t,i){return e===i&&(t.checked=!t.checked),t}))})}},{key:"onDelete",value:(n=(0,A.Z)((0,S.Z)().mark((function e(t){var i,n,a,s,r=this;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),!t){e.next=6;break}return e.next=4,(0,q.tQ)({id:t.id,type:this.state.activeKey});case 4:e.next=13;break;case 6:return i=this.state.listData.filter((function(e){return e.checked})),n=[],i.forEach((function(e){n.push((0,q.tQ)({id:e.id,type:r.state.activeKey}))})),a=Math.floor(this.state.total/5),this.state.current===a&&Math.floor((this.state.total-i.length)/5)<a&&(s=this.state.current-1,this.setState({current:0===s?1:s})),e.next=13,Promise.all(n);case 13:this.clearLOcalData(this.state.activeKey),this.resetAndQueryList();case 15:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"readAllMessage",value:(i=(0,A.Z)((0,S.Z)().mark((function e(){var t,i,n,a,s;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.state.localData[this.state.activeKey])||void 0===t||null===(i=t.listData)||void 0===i||i.map((function(e){e.read_status=1})),n=(0,F.G)(),a=n.setUnreadAnnouncement,s=n.setUnreadNotice,this.state.activeKey==V.O.ANNOUNCEMENT&&a(0),this.state.activeKey==V.O.NOTICE&&s(0),e.next=6,(0,q.TZ)({type:this.state.activeKey});case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"openInnerPage",value:function(e){if(this.setState({innerPage:e}),this.isWeb&&B.xN.dispatch({type:"DO_HOME_SCROLL"}),this.state.activeKey!==V.O.MARQUEE&&0===e.read_status){e.read_status=1;var t=(0,F.G)(),i=t.unreadAnnouncement,n=t.setUnreadAnnouncement,a=t.unreadNotice,s=t.setUnreadNotice;this.state.activeKey==V.O.ANNOUNCEMENT&&n(i-1),this.state.activeKey==V.O.NOTICE&&s(a-1),(0,q.x4)({id:e.id,type:this.state.activeKey})}}},{key:"goBack",value:function(){this.setState({innerPage:null}),this.queryNoticeList()}},{key:"clearLOcalData",value:function(e){this.setState({localData:(0,P.Z)((0,P.Z)({},this.state.localData),{},(0,I.Z)({},e,void 0))})}},{key:"receiveAward",value:(t=(0,A.Z)((0,S.Z)().mark((function e(t){var i,n,a,s,r,o;return(0,S.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$e.Z)((0,q.DJ)({feedback:t.feedbackId}));case 2:if(i=e.sent,n=(0,E.Z)(i,2),a=n[0],s=n[1],!a&&1===(null==s?void 0:s.data.code)){e.next=9;break}return console.error("apiReceiveAward failed:",a),e.abrupt("return");case 9:r=(0,X.QT)(),o=r.t,B.sG.Modal.message({type:"success",content:o("lobby.notice.receivedSuccess")}),this.goBack(),(0,G.h)().updatePrize();case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onListTouchStart",value:function(e,t){var i,n,a,s,r,o,l=(new Date).getTime(),c=e.touches[0].screenX,u=e.touches[0].screenY;document.addEventListener("touchend",(function(e){if(i=(new Date).getTime(),n=e.changedTouches[0].screenX,a=e.changedTouches[0].screenY,s=i-l,r=c-n,o=u-a,(Math.abs(r)>40||Math.abs(o)>40)&&s<500&&Math.abs(r)>Math.abs(o)){var h=document.getElementById("listBox_".concat(t));h.style.transform=r>0?"translateX(".concat(J.ZP.px2rem("-100px"),")"):"translateX(0)"}}))}},{key:"resetListDeleteBtn",value:function(){for(var e=document.getElementsByClassName(Pe),t=0;t<e.length;t++){e[t].style.transform="translateX(0)"}}},{key:"renderContent",value:function(){var e,t=this.$createElement,i=this.state.innerPage,n=(0,X.QT)().t;if(i){if(i.feedbackId){var a,s=2===i.prize_status;return t("section",{class:[Oe,Ee]},[t("li",{class:Ie},[t("p",[t("span",[n("lobby.notice.receviePrize")]),t("span",[(0,W.o)(i.prize)])]),t(Q.zx.Tsx,{attrs:{type:"link",disabled:0===i.prize||s},class:(a={},(0,I.Z)(a,Ye,!0),(0,I.Z)(a,je,0===i.prize||s),a),on:{click:this.receiveAward.bind(this,i)}},[n(s?"lobby.notice.received":"lobby.notice.receive")])]),t("div",{class:Qe},[i.content?[t("div",{class:Ue},[n("lobby.feedback.replyContent")]),t("p",{class:ze},[i.content])]:this.renderEnmpty()])])}return t("div",{class:Fe},[t("my-scroll",[t("div",{class:Je},[t("h1",[i.title]),t("p",{domProps:{innerHTML:i.content}})])])])}return t("div",[t("div",{class:Le},[0===(null===(e=this.state.listData)||void 0===e?void 0:e.length)?this.renderEnmpty():this.renderList()]),0!==this.state.listData.length&&this.renderFooter()])}},{key:"renderListContent",value:function(){var e=this,t=this.$createElement,i=(0,X.QT)().t,n=this.state.activeKey===V.O.MARQUEE;return t("ul",{class:Oe},[this.state.listData.map((function(a,s){return t("li",{key:a.id,style:n?{}:{cursor:"pointer"}},[t("div",{class:Pe,attrs:{id:"listBox_".concat(s)},on:{touchstart:function(t){e.onListTouchStart(t,s)}}},[n?e.renderMarquee(a,s):e.renderAnnContent(a,s),t("div",{class:Ke,on:{click:e.onDelete.bind(e,a)}},[t("icon-sprite",{attrs:{sprite:ve()},class:qe}),t("p",[i("lobby.notice.delete")])])])])}))])}},{key:"renderList",value:function(){var e=this,t=this.$createElement;return this.isWeb?this.renderListContent():t(oe,{key:this.state.activeKey,attrs:{top:J.ZP.px2rem("166px"),bottom:J.ZP.px2rem("200px"),noMoreVisible:this.state.current*this.size>=this.state.total,handlePull:function(t){e.onPageChange(1),t()}}},[this.renderListContent()])}},{key:"renderAnnContent",value:function(e,t){var i,n=this.$createElement,a=(0,X.QT)().t,s=1===e.read_status;return i=this.state.activeKey===V.O.ANNOUNCEMENT?n("icon-sprite",{attrs:{sprite:he()}}):n("icon-sprite",s?{attrs:{sprite:me()}}:{attrs:{sprite:ke()}}),n("div",{class:Se,on:{click:this.openInnerPage.bind(this,e)}},[n("div",[this.state.selecting&&n("section",{class:Ge,on:{click:j.Ie.LY.stop(this.changeChecked.bind(this,t))}},[e.checked&&n("icon-sprite",{attrs:{sprite:be()}})]),n("div",{class:(0,I.Z)({},Ae,!s)},[i]),n("div",{class:we},[n("h1",[e.title]),n("p",[J.ZP.format(e.create_time)])]),n("h2",{class:(0,I.Z)({},Re,s)},[n("span",[a(s?"lobby.notice.readed":"lobby.notice.unread")]),n("icon-sprite",{attrs:{sprite:fe()}})])]),1===(null==e?void 0:e.prize_status)&&n("div",{class:_e},[n("span",[a("lobby.notice.winPrize")]),n("icon-sprite",{attrs:{sprite:xe()}})])])}},{key:"renderMarquee",value:function(e,t){var i=this.$createElement;return i("div",{class:He},[this.state.selecting&&i("section",{class:Ge,on:{click:j.Ie.LY.stop(this.changeChecked.bind(this,t))}},[e.checked&&i("icon-sprite",{attrs:{sprite:be()}})]),i("div",[i("p",{attrs:{title:(0,J.$j)(e.content,!0)},domProps:{innerHTML:(0,J.$j)(e.content)}}),i("span",[J.ZP.format(e.create_time)])])])}},{key:"renderEnmpty",value:function(){var e=this.$createElement;if(!this.state.loading){var t=(0,X.QT)().t;return e(Q.HY.Tsx,{class:Ce,attrs:{description:t("lobby.notice.empty"),image:e(z.h)}})}}},{key:"renderFooter",value:function(){var e=this.$createElement,t=(0,X.QT)().t;return e("div",{class:Be},[e("div",{class:Ve},[this.state.selecting?e("div",{on:{click:this.changeChecked.bind(this,-1)}},[e("span",[t("lobby.notice.all")])]):e("div",{on:{click:this.changeSelectVisible}},[e("span",[t("lobby.notice.edit")])]),this.isChecked&&e("div",{on:{click:this.onDelete.bind(this,void 0)},class:qe},[e("span",[t("lobby.notice.delete")])]),this.state.activeKey!==V.O.MARQUEE&&!this.state.selecting&&e("div",{on:{click:this.readAllMessage}},[e("span",[t("lobby.notice.allRead")])]),this.state.selecting&&e("div",{on:{click:this.changeSelectVisible},class:We},[e("span",[t("lobby.notice.cancle")])])]),this.isWeb&&e(le.Z,{class:Xe,attrs:{pageInfo:{pageNo:this.state.current,pageSize:5,total:this.state.total},pageChangeHandler:this.onPageChange}})])}},{key:"render",value:function(){var e=this,t=arguments[0],i=(0,X.QT)(),n=i.t;return t("div",{class:[Ne]},[t("my-title",{attrs:{goBack:this.state.innerPage?this.goBack:void 0,title:n("lobby.header.messages")}}),t(U.gE,{attrs:{spinning:this.state.loading&&!this.state.firstLoad}},[t(U.EH,{attrs:{persistedActiveName:"",itemHeight:this.isWeb?40:72,tabsNavHiddenForOne:!0,showHoverTips:!1,itemWidth:"auto",renderList:this.tabs.map((function(i){return{value:i.key,label:function(){return t("div",{class:Te,on:{click:function(){return e.state.innerPage=null}}},[!!i.unread&&t(ce.Z,{attrs:{charge:1,top:e.isWeb?J.ZP.px2rem("-11px"):"0",left:"102%",text:t("span",[i.unread>99?"99+":i.unread])}}),t("span",[i.value])])}}}))},class:De,scopedSlots:{default:function(){return e.renderContent()}},model:{value:e.state.activeKey,callback:function(t){e.$set(e.state,"activeKey",t)}}})])])}}]),r}(j.XY),(0,Y.Z)(O.prototype,"onLoginStatusChange",[D],Object.getOwnPropertyDescriptor(O.prototype,"onLoginStatusChange"),O.prototype),(0,Y.Z)(O.prototype,"onActiveKeyChange",[T],Object.getOwnPropertyDescriptor(O.prototype,"onActiveKeyChange"),O.prototype),(0,Y.Z)(O.prototype,"onDeviceScreenChange",[L],Object.getOwnPropertyDescriptor(O.prototype,"onDeviceScreenChange"),O.prototype),C=O))||C)}}]);