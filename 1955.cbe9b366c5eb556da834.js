(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[1955],{54750:function(e){e.exports={id:"comm_icon_all_currency--sprite-usage",viewBox:"0 0 40.001 39.999",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_all_currency--sprite",toString:function(){return this.url}}},32278:function(e){e.exports={id:"comm_icon_qhhb--sprite-usage",viewBox:"0 0 20 15.816",url:"/assets/sprite.c10e6e11446a81e9da57.svg#comm_icon_qhhb--sprite",toString:function(){return this.url}}},9954:function(e){e.exports={id:"img_cz_fs--sprite-usage",viewBox:"0 0 32.473 27.831",url:"/assets/sprite.c10e6e11446a81e9da57.svg#img_cz_fs--sprite",toString:function(){return this.url}}},47454:function(e){e.exports={id:"icon_dl_phone--sprite-usage",viewBox:"0 0 13.792 23",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dl_phone--sprite",toString:function(){return this.url}}},49035:function(e){e.exports={id:"icon_dl_yj--sprite-usage",viewBox:"0 0 20 15.514",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dl_yj--sprite",toString:function(){return this.url}}},14062:function(e){e.exports={id:"icon_dl_yys--sprite-usage",viewBox:"0 0 22.998 20.289",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dl_yys--sprite",toString:function(){return this.url}}},76091:function(e,t,a){var r=a(76530).PROPER,n=a(47293),o=a(81361);e.exports=function(e){return n((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||r&&o[e].name!==e}))}},83762:function(e,t,a){"use strict";var r=a(82109),n=a(14230);r({target:"String",proto:!0,forced:a(43429)("small")},{small:function(){return n(this,"small","","")}})},73210:function(e,t,a){"use strict";var r=a(82109),n=a(53111).trim;r({target:"String",proto:!0,forced:a(76091)("trim")},{trim:function(){return n(this)}})},47690:function(e,t,a){"use strict";a.d(t,{a8:function(){return m},KA:function(){return u},YA:function(){return d},_S:function(){return p},l6:function(){return s},w_:function(){return l},dQ:function(){return c}});var r,n=a(82492),o=a.n(n);!function(e){e[e.ALL=0]="ALL",e[e.UN_SETTLEMENT=1]="UN_SETTLEMENT",e[e.SETTLED=2]="SETTLED"}(r||(r={}));var i=a(90825),s=function(e){var t=o()({current:1,gameCategoryId:0,gameIds:0,platformId:0,settleTimeEnd:0,settleTimeStart:0,settleStatus:r.ALL,size:20},e);return i.Uh.post({url:"/betcenter-games-api/recentreport/betrecords-order-list-v2",data:t})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{platformId:null,gameCategoryId:null};return e.gameCategoryId=0===e.gameCategoryId?null:e.gameCategoryId,e.platformId=0===e.platformId?null:e.platformId,i.Uh.post({url:"/betcenter-games-api/recentreport/platform-category-game-combo",data:e})},c=function(e){return i.Uh.post({url:"/betcenter-games-api/recentreport/betreport-account-recent",data:e})},u=function(e){return i.Uh.post({url:"/user/accountPageList",data:e})},d=function(e){return i.Uh.post({url:"/user/accountTotal",data:e})},p=function(){return i.Uh.post({url:"/home/opt_type"})},m=function(e){return i.Uh.post({url:"/home/dealType",data:e})}},60052:function(e,t,a){"use strict";a.d(t,{Z:function(){return I}});var r,n,o,i,s,l,c,u,d,p=a(3587),m=a(21797),h=a(92317),y=a(82345),v=a(72283),f=a(20793),b=a(17360),C=(a(41320),a(92222),a(30813)),g=a(95627),k=a(71707),R="ZyxJ6D4V0Urf_QzITjl_",Z="JUN1JrBacHlo0QeaFfag",I=(r=(0,C.wA)({name:"MaskComp"}),n=(0,C.fI)({required:!0}),o=(0,C.fI)(g.ZP.number.def(70)),i=(0,C.fI)(g.ZP.number.def(70)),r((l=function(e){(0,v.Z)(r,e);var t=(0,f.Z)(r);function r(){var e;(0,m.Z)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,p.Z)((0,y.Z)(e),"el",c,(0,y.Z)(e)),(0,p.Z)((0,y.Z)(e),"width",u,(0,y.Z)(e)),(0,p.Z)((0,y.Z)(e),"height",d,(0,y.Z)(e)),e}return(0,h.Z)(r,[{key:"render",value:function(){var e,t=arguments[0];return t("div",{class:R,style:{"--cu-height":k.ZP.px2rem(null!==(e=this.height)&&void 0!==e?e:0)}},[t("my-img",{attrs:{src:a(19392),width:this.width},class:Z}),this.el])}}]),r}(C.XY),c=(0,b.Z)(l.prototype,"el",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,b.Z)(l.prototype,"width",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,b.Z)(l.prototype,"height",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l))||s)},88110:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return bn}});var r,n,o=a(7903),i=a(22705),s=a(55673),l=a(70970),c=a(2813),u=a(3587),d=a(21797),p=a(92317),m=a(82345),h=a(72283),y=a(20793),v=a(50125),f=a(17360),b=(a(41320),a(92222),a(41539),a(78783),a(33948),a(68309),a(39714),a(21249),a(38880),a(90416)),C=a(30813),g=a(33990);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ONLINE=1]="ONLINE",e[e.TRANSFER=2]="TRANSFER",e[e.CRYPTO=3]="CRYPTO",e[e.ARTIFICIAL=4]="ARTIFICIAL",e[e.ORDER_LIST=-1]="ORDER_LIST"}(r||(r={})),function(e){e[e.LIMIT_ERROR=0]="LIMIT_ERROR"}(n||(n={}));var k,R,Z,I,_,N,E,S,w,x,P,T,A,L,M,D,O,F,U=a(47690),W=a(72563),B=a(81764),G=a(95306),Q=a(90825),K=a(36236),z=a(98292),V=a(71707),Y=a(54750),q=a.n(Y),H=a(73161),X="xa2jfZFLpcLwCZDzriVA",j="xneU_qxKf_AeBC1A5Esa",J="RrZqs7JzsZkdc0Zi38V8",$="AtevBPCcmg72US_4Sp7T",ee="hEV4MX0LdHhpegWyYW83",te="thepeAZkNol7RRsSYBrb",ae="hi_acJpRSbS0W0xdzoS0",re="TAjt83FN3slG7AreW8gm",ne="DOVtjjGVks3FJnN5fuB_",oe="pgyoV_NNm7L6S53HAOWC",ie="Z3d3LY3KzBEXr0Mc4b_l",se="Uwuo8Gd2Kh6e_ErouKDf",le="Md8bkOCaRhDr6FF_q5Qg",ce="Uvgss7YU14EY4fSTdCsp",ue="Pw31MAXtYic1LQc2ZrD8",de="iSeiyC3bqps4IGGTXatc",pe="TmTlgIIHiQR86nkpcl8M",me="MCxdxRhxa0voqrCEptAa",he="Q6NkNwL6l8CDPSdtrO2P";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WECHAT=2]="WECHAT",e[e.UNION_BANK=3]="UNION_BANK",e[e.BANK=4]="BANK",e[e.QQ=8]="QQ",e[e.POINT=10]="POINT",e[e.BAIDU=11]="BAIDU",e[e.JD=12]="JD",e[e.ALIPAY_ONLINE=15]="ALIPAY_ONLINE",e[e.ALIPAY_APP=17]="ALIPAY_APP",e[e.ALIPAY_TRANSFER=5]="ALIPAY_TRANSFER",e[e.WECHAT_TRANSFER=7]="WECHAT_TRANSFER",e[e.BANK_TRANSFER=9]="BANK_TRANSFER",e[e.UPI=24]="UPI",e[e.CUSTOMER=1]="CUSTOMER",e[e.WECHAT_AGENT=6]="WECHAT_AGENT",e[e.QQ_AGENT=13]="QQ_AGENT",e[e.ALIPAY_AGENT=16]="ALIPAY_AGENT",e[e.OTHER_BANK=18]="OTHER_BANK"}(k||(k={})),function(e){e[e.NUL=0]="NUL",e[e.QQ=1]="QQ",e[e.WX=2]="WX",e[e.ZFB=3]="ZFB",e[e.YH=4]="YH",e[e.JD=5]="JD",e[e.DK=6]="DK",e[e.BD=7]="BD",e[e.XNHB=8]="XNHB",e[e.DIY=9]="DIY",e[e.WALLET=10]="WALLET",e[e.KF=11]="KF",e[e.USDT=12]="USDT",e[e.PIX=13]="PIX",e[e.UPI=14]="UPI"}(R||(R={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ZFBAPP=1]="ZFBAPP",e[e.QQDL=2]="QQDL",e[e.WXDL=3]="WXDL",e[e.ZFBDL=4]="ZFBDL",e[e.ZXSF=5]="ZXSF",e[e.WALLET=6]="WALLET",e[e.SIM=7]="SIM",e[e.ONLINE_BANK=8]="ONLINE_BANK",e[e.NONE_PAY_PAGE=9]="NONE_PAY_PAGE"}(Z||(Z={})),function(e){e[e.UN_MERGE=0]="UN_MERGE",e[e.MERGE=1]="MERGE"}(I||(I={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.EDITOR=1]="EDITOR",e[e.FREEZE=2]="FREEZE"}(_||(_={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.NOT_REQUIRED=1]="NOT_REQUIRED",e[e.REQUIRED=2]="REQUIRED",e[e.NOT_REQUIRED_LAST4=3]="NOT_REQUIRED_LAST4",e[e.REQUIRED_LAST4=4]="REQUIRED_LAST4",e[e.NOT_REQUIRED_LAST6=5]="NOT_REQUIRED_LAST6",e[e.REQUIRED_LAST6=6]="REQUIRED_LAST6"}(N||(N={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.NOT_REQUIRED=1]="NOT_REQUIRED",e[e.REQUIRED=2]="REQUIRED"}(E||(E={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN",e[e.VALID=2]="VALID"}(S||(S={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN",e[e.VALID=2]="VALID"}(w||(w={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN",e[e.VALID=2]="VALID"}(x||(x={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN"}(P||(P={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN"}(T||(T={})),function(e){e[e.CLOSE=0]="CLOSE",e[e.OPEN=1]="OPEN",e[e.VALID=2]="VALID"}(A||(A={})),function(e){e.ONLINE="1",e.OFFLINE="0"}(L||(L={})),function(e){e[e.WAIT=1]="WAIT",e[e.SUCCESS=2]="SUCCESS",e[e.TIMEOUT=3]="TIMEOUT",e[e.X=4]="X",e[e.FAILED=5]="FAILED",e[e.CONFIRMED=6]="CONFIRMED",e[e.NEED_TOW=7]="NEED_TOW",e[e.NEED_TODO=8]="NEED_TODO",e[e.CANCEL=9]="CANCEL"}(M||(M={})),function(e){e[e.ANDROID=1]="ANDROID",e[e.IOS=2]="IOS",e[e.H5=4]="H5",e[e.WEB=8]="WEB",e[e.ANDROID_IOS=3]="ANDROID_IOS",e[e.ANDROID_H5=5]="ANDROID_H5",e[e.WEB_H5=12]="WEB_H5",e[e.ALL=15]="ALL"}(D||(D={})),function(e){e.OTHER="",e.WALLET="wallet",e.SIM_CARD="topUpCard"}(O||(O={})),function(e){e[e.LARGE=3]="LARGE",e[e.MIDDLE=2]="MIDDLE",e[e.SMALL=1]="SMALL"}(F||(F={}));var ye=function(){function e(){(0,d.Z)(this,e)}return(0,p.Z)(e,null,[{key:"getIconByRechargeIconType",value:function(e){var t="zh_CN"===(0,z.h)().language;switch(e){case R.NUL:return H.Z.sprite_main_icon_cz_zdy;case R.QQ:return H.Z.sprite_main_icon_cz_qq;case R.WX:return H.Z.sprite_main_icon_cz_wx;case R.ZFB:return H.Z.sprite_main_icon_cz_zfb;case R.YH:return t?H.Z.sprite_main_icon_cz_union:H.Z.sprite_main_icon_cz_yhk;case R.JD:return H.Z.sprite_main_icon_cz_jd;case R.DK:return H.Z.sprite_main_icon_cz_dkcz;case R.BD:return H.Z.sprite_main_icon_cz_bdqb;case R.XNHB:return H.Z.sprite_main_icon_cz_btc;case R.DIY:return H.Z.sprite_main_icon_cz_zdy;case R.WALLET:return H.Z.sprite_main_icon_cz_kjcz;case R.KF:return H.Z.sprite_main_img_cz_kfcz_dp;case R.USDT:return H.Z.sprite_main_icon_cz_btc;case R.PIX:return H.Z.sprite_main_icon_sm_pix;case R.UPI:return H.Z.sprite_main_icon_sm_upi;default:return H.Z.sprite_main_icon_cz_zdy}}},{key:"getIconByRechargeCurrencyCode",value:function(e){switch(e){case"BTC":default:return H.Z.sprite_main_icon_cz_btc;case"ETH":return H.Z.sprite_main_icon_cz_eth;case"USDT":return H.Z.sprite_main_icon_cz_szhb;case"USDC":return H.Z.sprite_main_icon_cz_usdc}}},{key:"getStatusIconByIconType",value:function(e){switch(e){case M.WAIT:return H.Z.sprite_main_comm_icon_pay_3;case M.SUCCESS:return H.Z.sprite_main_comm_icon_pay_1;case M.TIMEOUT:return H.Z.sprite_main_comm_icon_pay_4;case M.FAILED:return H.Z.sprite_main_comm_icon_pay_2;case M.CONFIRMED:case M.NEED_TOW:case M.NEED_TODO:default:return H.Z.sprite_main_comm_icon_pay_3}}},{key:"getColor",value:function(e){var t,a;return e===M.SUCCESS?(t=ue,a=me):e===M.FAILED||e===M.TIMEOUT||e===M.CANCEL?(t=de,a=he):(t=ce,a=pe),[t,a]}},{key:"isUSDT",value:function(e){return"USDT"===e}},{key:"codeIsVND",value:function(e){return"VND"===e}},{key:"codeIsIDR",value:function(e){return"IDR"===e}},{key:"codeIsCNY",value:function(e){return"CNY"===e}},{key:"getCurrencyIcon",value:function(e,t){var a,r,n,o=this.$createElement,i=null!==(a=null===(r=K.F.commonIconMap()[e])||void 0===r?void 0:r.CURRENCY_JB)&&void 0!==a?a:{},s=28,l=(s="large"===t?28:26)/(null!==(n=i.width)&&void 0!==n?n:s);switch(e){case"USDT":case"ETH":case"BTC":default:return o("icon-sprite",{attrs:{sprite:i,scale:l}});case"":return o("icon-sprite",{attrs:{sprite:q(),scale:l},class:pe,style:{"font-size":V.ZP.px2rem("".concat(s,"px"))}})}}},{key:"isUPIChannel",value:function(e){return e===k.UPI}}]),e}();(0,v.Z)(ye,"OrderRecordDefaultSize",8);var ve,fe,be,Ce=a(86493),ge="_VBegiLqsCm6gQEwpwbY",ke="kIpWc3uq0qUF7rfN9dBh",Re="P0vI6T67yf6WlxXwDNKU",Ze="vC6GSrGWF9CZab24_0KQ",Ie="rPPimWumtYMMR5D9zoiz",_e="pBeUc09Fr_82iDlqcCCO",Ne="aYjjIvXyMgNHfUpHGV3A",Ee="BUc9NMQJgIGCMJBRVKUV",Se=(a(26699),a(32023),a(57327),a(69826),a(70189),a(9653),a(91910)),we=a(40469),xe=a(40101),Pe=a(41800),Te=(0,we.Q_)("finance/pay",{state:function(){var e,t,a;return{loading:!1,rootCategoryList:[],getPayPlatformList:[],getPayPlatform:{name:"",icon:"",type:0,charge_rate:0,list:[],weight:0,payCurrency:[]},onlineChannelList:[],transferChannelList:[],rootCategoryIndex:r.UNKNOWN,activePlatformParent:void 0,activePlatformCategory:void 0,activePlatformMethod:void 0,money:void 0,validateForm:{realName:null===(e=(0,z.h)().vipInfos)||void 0===e?void 0:e.realname,walletAddress:void 0,email:void 0,phone:void 0,cardNumber:void 0,cardPassword:void 0,networkMerch:void 0,bankSysCode:void 0},signKey:void 0,orderNo:void 0,visible:!1,startCount:!1,countdown:0,tableQueryTrigger:0,exchangeRate:"1",payCurrencyCategory:"",activeCurrencyCode:null!==(t=null===(a=(0,z.h)().userInfos)||void 0===a?void 0:a.currency)&&void 0!==t?t:"CNY",isScoreMode:!1,fee:{realFee:"",deduction:""}}},actions:{initPayConfig:function(){var e=this;return(0,c.Z)((0,l.Z)().mark((function t(){var a,n,o,s,c,u,d,p,m,h;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Pe.Z)((0,Se.VW)(e.payCurrencyCategory));case 2:if(a=t.sent,n=(0,i.Z)(a,2),o=n[0],s=n[1],!o){t.next=9;break}return console.error("init pay config failed:",o),t.abrupt("return");case 9:if(c=s.data.data,u=c.sign_key,d=c.emailVerify,p=c.mobileVerify,m=c.list,e.signKey=u,e.validateForm.email=d,e.validateForm.phone=p,e.rootCategoryList=m,!((h=e.getRootCategoryListTypes).length>0)){t.next=19;break}return e.rootCategoryIndex=e.rootCategoryIndex===r.UNKNOWN?h[0]:e.rootCategoryIndex,t.next=19,e.getPayType(e.rootCategoryIndex);case 19:case"end":return t.stop()}}),t)})))()},getPayType:function(e){var t=this;return(0,c.Z)((0,l.Z)().mark((function a(){var r,n,o,s,c,u,d;return(0,l.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.getRootCategoryListTypes.includes(e)){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,(0,Pe.Z)((0,Se.Jp)(e));case 4:if(o=a.sent,s=(0,i.Z)(o,2),c=s[0],u=s[1],!c){a.next=11;break}return console.error("init pay config failed:",c),a.abrupt("return");case 11:t.getPayPlatform=null===(r=u.data.data)||void 0===r?void 0:r.payKind,null!=(d=null===(n=u.data.data)||void 0===n?void 0:n.payKind.list)&&d.length&&(t.getPayPlatformList=d,t.setActivePlatformCategory(d[0]));case 14:case"end":return a.stop()}}),a)})))()},setActivePlatformCategory:function(e){var t=this;return(0,c.Z)((0,l.Z)().mark((function a(){var r,n,o,s,c,u;return(0,l.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.activePlatformParent=e,r=e.payKind,n=e.payplatformid,a.next=4,(0,Pe.Z)((0,Se.Zd)({payplatformid:n,payCurrency:t.payCurrencyCategory,payKind:r}));case 4:if(o=a.sent,s=(0,i.Z)(o,2),c=s[0],u=s[1],!c){a.next=11;break}return console.error("get pay config failed:",c),a.abrupt("return");case 11:if(console.info("set setActivePlatformCategory data:",u.data.data),t.activePlatformCategory=u.data.data,!(t.activePlatformCategory.list.length>0)){a.next=18;break}return t.onlineChannelList=t.activePlatformCategory.list.filter((function(e){return e.app_type})),t.transferChannelList=t.activePlatformCategory.list.filter((function(e){return e.app_type})),a.next=18,t.setActivePayPlatformMethodCondition(t.onlineChannelList[0]);case 18:case"end":return a.stop()}}),a)})))()},setActivePayPlatformMethodCondition:function(e){var t=this;return(0,c.Z)((0,l.Z)().mark((function a(){var n,o,i,s,c,u,d,p,m,h,y;return(0,l.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.activePlatformMethod=e,n=t.multipleCurrencyCondition,o=n.isUserVND,i=n.isUserIDR,s=n.userCurrencyCode,c=t.getConditionInfo,u=c.isOnlineBank,d=c.showRealNameInput,p=c.showRealNameInputFreeze,o||i?(t.activeCurrencyCode=s,t.isScoreMode=!0):t.activeCurrencyCode=t.activePlatformMethod.payCurrency,t.rootCategoryIndex!=r.ARTIFICIAL&&t.initExchangeRate(),t.validateForm.realName=t.globalRealName,d&&!p&&(t.validateForm.realName=""),u&&(h=(m=e).merchCode,y=m.payCurrency,(0,xe.H)().initOnlinePayBankList(h,y));case 9:case"end":return a.stop()}}),a)})))()},initExchangeRate:function(){var e=this;return(0,c.Z)((0,l.Z)().mark((function t(){var a,r,n,o,s,c,u,d,p,m,h,y,v,f;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.multipleCurrencyCondition,o=n.userCurrencyCode,s=n.channelCurrencyCode,c=n.siteCode,u=n.isActiveCurrencySameWithUserCurrency,d=n.isUserVND,o!==s){t.next=4;break}return e.exchangeRate="0",t.abrupt("return");case 4:return p=u||d?o:s,m=u||d?s:o,t.next=8,(0,Pe.Z)((0,Se.Df)({baseCurrency:p,exchangeCurrency:m,siteCode:c,queryRateType:0}));case 8:if(h=t.sent,y=(0,i.Z)(h,2),v=y[0],f=y[1],!v){t.next=15;break}return console.error("update exchange rate failed:",v),t.abrupt("return");case 15:e.exchangeRate=null!==(a=null===(r=f.data.data)||void 0===r?void 0:r.rate)&&void 0!==a?a:"0";case 16:case"end":return t.stop()}}),t)})))()},openDetailsModal:function(e,t){this.startCount=0!==t,this.countdown=t,this.orderNo=e,this.visible=!0},releaseTableQuery:function(){this.tableQueryTrigger++},updateFeeRateDeduction:function(){var e=this;return(0,c.Z)((0,l.Z)().mark((function t(){var a,r,n,o,s,c,u,d,p,m,h,y,v;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.money){t.next=2;break}return t.abrupt("return");case 2:return s=e.activePlatformMethod,c=s.paymentid,u=void 0===c?0:c,d=s.payplatformid,p=void 0===d?0:d,t.next=6,(0,Pe.Z)((0,Se.hD)({paymentId:u,channelId:p,amount:+e.money}));case 6:if(m=t.sent,h=(0,i.Z)(m,2),y=h[0],v=h[1],!y){t.next=13;break}return console.error("apiFinanceGetPayOrderFee failed:",y),t.abrupt("return");case 13:e.fee.deduction=null!==(a=null===(r=v.data.data)||void 0===r?void 0:r.reduceFee)&&void 0!==a?a:"",e.fee.realFee=null!==(n=null===(o=v.data.data)||void 0===o?void 0:o.realFee)&&void 0!==n?n:"";case 15:case"end":return t.stop()}}),t)})))()}},getters:{getRootCategoryListTypes:function(e){return e.rootCategoryList.map((function(e){return e.type}))},getRootCategoryByType:function(e){return function(t){return e.rootCategoryList.find((function(e){return e.type===t}))}},globalRealName:function(){var e;return null===(e=(0,z.h)().vipInfos)||void 0===e?void 0:e.realname},checkMoneyFalse:function(){return!this.money||+this.money<+this.getPayLimit.min||+this.money>+this.getPayLimit.max},isMerged:function(e){return!e.activePlatformCategory||e.activePlatformCategory.merge_status===I.MERGE},getConditionInfo:function(e){var t,a=null!==(t=e.activePlatformMethod)&&void 0!==t?t:{},r=a.balance_switch,n=a.realNameSwitch,o=a.payAddressSwitch,i=a.mobileSupport,s=a.emailSupport,l=a.captchaSwitch,c=a.payment_type,u=a.recommendList,d=a.remark,p=r===T.OPEN,m=n!==_.CLOSE,h=n===_.FREEZE,y=o===S.VALID,v=new Set([S.OPEN,S.VALID]).has(o),f=i===w.VALID,b=new Set([w.OPEN,w.VALID]).has(i),C=s===x.VALID,g=new Set([x.OPEN,x.VALID]).has(s),k=l===P.OPEN,R=+c===Z.ZFBAPP,I=+c===Z.WALLET,N=+c===Z.SIM,E=+c===Z.NONE_PAY_PAGE,A=new Set([Z.NONE_PAY_PAGE,Z.ONLINE_BANK]).has(+c);if(this.isMerged){var L,M,D,O,F,U=e.activePlatformCategory;u=null!==(L=null==U?void 0:U.recommendList)&&void 0!==L?L:[],p=(null==U?void 0:U.balance_switch)===T.OPEN,d=null!==(M=null==U?void 0:U.remark)&&void 0!==M?M:"",m=(null==U?void 0:U.realNameSwitch)!==_.CLOSE,h=(null==U?void 0:U.realNameSwitch)===_.FREEZE,v=new Set([S.OPEN,S.VALID]).has(null!==(D=null==U?void 0:U.payAddressSwitch)&&void 0!==D?D:0),y=(null==U?void 0:U.payAddressSwitch)===S.VALID,b=new Set([w.OPEN,w.VALID]).has(null!==(O=null==U?void 0:U.mobileSupport)&&void 0!==O?O:0),f=(null==U?void 0:U.mobileSupport)===w.VALID,g=new Set([x.OPEN,x.VALID]).has(null!==(F=null==U?void 0:U.emailSupport)&&void 0!==F?F:0),C=(null==U?void 0:U.emailSupport)===x.VALID,k=(null==U?void 0:U.captchaSwitch)===P.OPEN,R=!1,I=!1,N=!1,A=!1,E=!1}return{recommendList:u,showMoneyInput:p,showRealNameInput:m,showPayWalletAddress:v,remark:d,payWalletAddressValid:y,payCaptchaValidateSwitch:k,showEmail:g,showPhone:b,payEmailValid:C,payPhoneValid:f,showRealNameInputFreeze:h,isCombination:(g||b)&&(m||v)||N||A,isZFBPay:R,isWallet:I,isSIMCard:N,isOnlineBank:A,isNonePayPage:E}},multipleCurrencyCondition:function(e){var t,a,r,n,o,i=(0,z.h)(),s=i.getCurrencyInfoByCode,l=i.userInfos,c=i.siteCode,u=null!==(a=(null!==(t=e.activePlatformMethod)&&void 0!==t?t:{}).payCurrency)&&void 0!==a?a:"CNY",d=s(u),p=ye.codeIsVND(u),m=null==d?void 0:d.currencySign,h=(null==d?void 0:d.currencyType)===g.Tl.CRYPTO,y=null!==(r=null==d?void 0:d.gameRate)&&void 0!==r?r:1,v=1!==y,f=null!==(n=null==l?void 0:l.currency)&&void 0!==n?n:"CNY",b=s(f),C=ye.codeIsVND(f),k=ye.codeIsIDR(f),R=ye.codeIsCNY(f),Z=null==b?void 0:b.marketCurrencyCode,I=null==b?void 0:b.currencySign,_=(null==b?void 0:b.currencyType)===g.Tl.CRYPTO,N=null!==(o=null==b?void 0:b.gameRate)&&void 0!==o?o:1,E=1!==N;return{channelCurrencyCode:u,userCurrencyCode:f,userCurrencySign:I,channelCurrencySign:m,isCurrencySame:f===u||new Set(["0","1"]).has(e.exchangeRate),siteCode:c,isActiveCurrencySameWithUserCurrency:f===e.activeCurrencyCode,channelCurrencyTypeIsCrypto:h,userCurrencyTypeIsCrypto:_,channelCurrencyInfo:d,userCurrencyInfo:b,channelCurrencyGameRate:y,channelCurrencyIsGameRateSpec:v,userCurrencyIsGameRateSpec:E,userCurrencyGameRate:N,userMarketCurrencyCode:Z,isUserVND:C,isChannelVND:p,isUserIDR:k,isUserCNY:R}},processMoney:function(){var e=this;return function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return t;var n=e.multipleCurrencyCondition.userCurrencyCode,o=t;return o=r?W.Z.formatMoney(o,n,a):W.Z.formatMoney(o,e.activeCurrencyCode,a)}},getPayLimit:function(){var e,t=this.multipleCurrencyCondition,a=t.isActiveCurrencySameWithUserCurrency,r=t.isCurrencySame,n=t.userCurrencyIsGameRateSpec,o=t.userCurrencyGameRate,i=this.activePlatformMethod,s=i.max_recharge_limit,l=i.min_recharge_limit;return(null===(e=this.activePlatformCategory)||void 0===e?void 0:e.merge_status)===I.MERGE&&(s=this.activePlatformCategory.max,l=this.activePlatformCategory.min),a&&!r&&(s=+W.Z.div(s,Number(this.exchangeRate)),l=+W.Z.div(l,Number(this.exchangeRate))),a&&this.isScoreMode&&n&&(o<=1?(s=+W.Z.times(s,Math.round(1/o)),l=+W.Z.times(l,Math.round(1/o))):(s=+W.Z.div(s,o),l=+W.Z.div(l,o))),s>1&&(s=Math.floor(s)),l>1&&(l=Math.ceil(l)),{max:this.processMoney(s.toString()),min:this.processMoney(l.toString())}}},persist:{enabled:!0,strategies:[{key:"web.lobby.pay",storage:(0,V.nX)(),paths:["rootCategoryList","getPayPlatformList","onlineChannelList","transferChannelList"]}]}}),Ae=Te,Le=(0,C.wA)({name:"ArtificialComp"})(ve=function(e){(0,h.Z)(a,e);var t=(0,y.Z)(a);function a(){var e;(0,d.Z)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),(0,v.Z)((0,m.Z)(e),"store",Ae()),(0,v.Z)((0,m.Z)(e),"t",(0,B.QT)().t),e}return(0,p.Z)(a,[{key:"renderCell",value:function(e){var t=this,a=this.$createElement,r=ye.getIconByRechargeIconType(+e.payicon===R.DIY?R.KF:+e.payicon);return a("div",{class:ke},[a("div",{class:Re},[a("div",{class:Ze},[a(G.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var e,t=60/(null!==(e=null==r?void 0:r.width)&&void 0!==e?e:60);return a("icon-sprite",{attrs:{scale:t,sprite:r}})}}}})]),a("div",[a("p",{class:Ie},[e.nickname]),e.name&&a("p",{class:_e},[this.t("lobby.modal.pay.accountNo",{no:e.name})])])]),a("div",{class:Ne},[a(G.zx.Tsx,{class:Ee,attrs:{type:"primary"},on:{click:function(){return t.handleClick(e)}}},[e.name?this.t("lobby.modal.pay.copy"):this.t("lobby.modal.pay.chatPay")])])])}},{key:"handleClick",value:function(e){if(e.name)return(0,Ce.zp)(e.name),void Q.sG.Modal.message({type:"success",content:this.t("lobby.common.tips.copy")});e.online.type===L.ONLINE&&e.online.url?(0,Ce.MI)(e.online.url):Q.sG.Modal.message({type:"error",content:this.t("lobby.modal.pay.artificialError")})}},{key:"renderList",get:function(){var e,t;return(0,this.$createElement)("ul",[(null!==(e=null===(t=this.store.activePlatformCategory)||void 0===t?void 0:t.list)&&void 0!==e?e:[]).map(this.renderCell)])}},{key:"render",value:function(){var e=arguments[0];return e("div",{class:ge},[this.renderList])}}]),a}(C.XY))||ve,Me=a(59700),De=a(14577),Oe=(a(47042),a(69600),a(38268),a(45174)),Fe=a(36568),Ue=a.n(Fe),We=(a(74916),a(15306),a(51532),a(38862),a(17187)),Be=a.n(We);!function(e){e[e.Local=0]="Local",e[e.Session=1]="Session",e[e.Memory=2]="Memory"}(fe||(fe={})),function(e){e.GET="cache_get",e.SET="cache_set",e.DEL="cache_del"}(be||(be={}));var Ge,Qe,Ke,ze,Ve,Ye,qe,He,Xe,je,Je,$e,et,tt,at,rt,nt,ot,it,st,lt,ct,ut,dt,pt,mt,ht,yt,vt,ft,bt,Ct,gt,kt,Rt,Zt,It,_t,Nt,Et,St=function(e){return"[object Map]"===Object.prototype.toString.call(e)},wt=null,xt=null,Pt=null,Tt=function(e){(0,h.Z)(a,e);var t=(0,y.Z)(a);function a(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe.Local;switch((0,d.Z)(this,a),e=t.call(this),(0,v.Z)((0,m.Z)(e),"_namespace",""),(0,v.Z)((0,m.Z)(e),"_isSupported",!0),r){case fe.Local:e._instance=window.localStorage;break;case fe.Session:e._instance=window.sessionStorage;break;case fe.Memory:e._instance=new Map}return e}return(0,p.Z)(a,[{key:"namespace",get:function(){return this._namespace},set:function(e){this._namespace=e?"".concat(e,"."):""}},{key:"_getLsKey",value:function(e){return"".concat(this._namespace).concat(e)}},{key:"_lsSet",value:function(e,t){var a=this._getLsKey(e);if(St(this._instance))this._instance.set(a,t),this.emit(be.SET,{key:a,rawValue:t});else{var r=JSON.stringify(t);this._instance.setItem(a,r),this.emit(be.SET,{key:a,value:r})}}},{key:"_lsGet",value:function(e){var t,a=this._getLsKey(e);t=St(this._instance)?this._instance.get(a):this._instance[a];try{t=JSON.parse(t)}catch(r){}return this.emit(be.GET,{key:a,val:t}),t}},{key:"get",value:function(e){return this._isSupported?this._lsGet(e):null}},{key:"set",value:function(e,t){return this._isSupported?(this._lsSet(e,t),t):null}},{key:"remove",value:function(e){if(!this._isSupported)return null;var t=this._getLsKey(e);St(this._instance)?this._instance.delete(t):this._instance.removeItem(t),this.emit(be.DEL,{key:t})}}],[{key:"memory",get:function(){return wt||(wt=new a(fe.Memory))}},{key:"localStore",get:function(){return Pt||(Pt=new a(fe.Local))}},{key:"sessionStore",get:function(){return xt||(xt=new a(fe.Session))}}]),a}(Be()),At=a(60052),Lt=a(96421),Mt=a(46949),Dt=a(58253),Ot=a(25240),Ft=a(77787),Ut=a(80897),Wt=a(55654),Bt=a.n(Wt),Gt=a(51574),Qt=a.n(Gt),Kt=a(32278),zt=a.n(Kt),Vt=a(6013),Yt=a.n(Vt),qt=a(64640),Ht=a.n(qt),Xt=a(49035),jt=a.n(Xt),Jt=a(9954),$t=a.n(Jt),ea=a(20341),ta=a.n(ea),aa=a(47454),ra=a.n(aa),na="e8siic_ICXmLcAr12pgU",oa="qlHv4PpCNi4nGFQLaRq0",ia="_vmaNbC7tMMJ99x929N7",sa="B6CbnR9usOF_CMi5m8BU",la="tivA24cSEjfykc3h2PmN",ca="BKfC6Trv2S3lop0AQYI1",ua="CJ8dBGR3Ac2Lugo_wuSA",da="wVAAg96a2eGRCC_Alfwa",pa="nGEQ7hYI2RSUGhlcHVRJ",ma="EULSCYGzEf4AdA_oRuQK",ha="ApwjISqJuDYEGaCYaotN",ya="SmkqAW7NJS55ddEjrHvA",va="LLgG6tYJHHChLlWpQ2aK",fa="t2ii7DT7lea1duaxoXZd",ba="ok4RCdndQu2JV3GMn4VD",Ca="EeD_klL7wmLX7vgxX6VA",ga="eB3l_JiD0MaOl9Fyxzk7",ka="LRfaqCxGGdXMNmz8w0OP",Ra="wOoLBu0Ac__QK_aLYKWg",Za="dJ9nVMUpUeToPZJnQuBQ",Ia="uYhwAcPorC0IbdXe9xay",_a="D3F5Sl3EJv8kt6Wgakkp",Na="ZAcvGhX0wQN9bz3z0hI1",Ea="sXiHSyM9lA1FNhBIbmuo",Sa="U26kqumrUL7rZhjOZXQ2",wa="PrRVWLDa8ject9CNjD4w",xa="OTI74hwJsZWIrbxShtNQ",Pa="ceiktj0nGFZYA3JZ65zu",Ta="r1QnBDk2QnzYN6t7hweu",Aa="crWwWKooadMJU1HhTYJd",La="lsrMXtUICwEcCf89wdKU",Ma="QwKFOabTrB6JzfwQGLj1",Da="HH8zfEFT54KOK3RHJzrw",Oa="fsw7N42rWkHNfzNqMy1j",Fa="BAFtNuV7K2jYbG__6wsh",Ua="HP9MdQkWYNfdRlW5Ev2e",Wa="J4297X5GEPbTiqQosS0Q",Ba="MzIkwvfv6dwz7fmhHhcn",Ga="NvAx2rtSlQ6tCymRPyMO",Qa="U6QsXXarLG_55o1_e0fO",Ka="yT1KWpaaohTrhc8_My1w",za="WLRRMqXd06Juq9vomxPm",Va="hEQ55M7RdupLHK8bWYOo",Ya="bYFpa0d_3_4GzeFJ2_CW",qa="oXWmWhOYQpQYT457jfeO",Ha=a(14062),Xa=a.n(Ha),ja=(Ge=(0,C.wA)({name:"TransferAndOnlinePayMixin"}),Qe=(0,C.Rl)(),Ke=(0,C.RL)("store.money"),ze=(0,De.WY)(),Ve=(0,De.Xo)(500),Ye=(0,De.K4)(),qe=(0,De.K4)(),He=(0,De.WY)(),Xe=(0,De.K4)(),je=(0,De.K4)(),Ge(($e=function(e){(0,h.Z)(g,e);var t,r,n,s,f,b,C=(0,y.Z)(g);function g(){var e,t,a,r,n,o,i;(0,d.Z)(this,g);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=C.call.apply(C,[this].concat(l)),(0,v.Z)((0,m.Z)(i),"store",Ae()),(0,v.Z)((0,m.Z)(i),"t",(0,B.QT)().t),(0,v.Z)((0,m.Z)(i),"cachePlatformKey",Q.CM.CacheNameSpace.FinancePayOnlinePlatformExpand(null!==(e=null===(t=(0,z.h)().userInfos)||void 0===t?void 0:t.username)&&void 0!==e?e:"")),(0,v.Z)((0,m.Z)(i),"cacheChannelKey",Q.CM.CacheNameSpace.FinancePayOnlineChannelExpand(null!==(a=null===(r=(0,z.h)().userInfos)||void 0===r?void 0:r.username)&&void 0!==a?a:"")),(0,v.Z)((0,m.Z)(i),"cacheVisibleTooltipsKey",Q.CM.CacheNameSpace.FinancePayTooltipVisible(null!==(n=null===(o=(0,z.h)().userInfos)||void 0===o?void 0:o.username)&&void 0!==n?n:"")),(0,v.Z)((0,m.Z)(i),"isPlatformExpand",!1),(0,v.Z)((0,m.Z)(i),"isChannelExpand",!1),(0,v.Z)((0,m.Z)(i),"activeIndex",0),(0,v.Z)((0,m.Z)(i),"activeMethodIndex",0),(0,v.Z)((0,m.Z)(i),"activeMoneyBtnIndex",null),(0,v.Z)((0,m.Z)(i),"animation",!1),(0,v.Z)((0,m.Z)(i),"tooltipVisible",!1),(0,v.Z)((0,m.Z)(i),"downloadUrl",""),(0,u.Z)((0,m.Z)(i),"formModelRef",et,(0,m.Z)(i)),i}return(0,p.Z)(g,[{key:"created",value:(b=(0,c.Z)((0,l.Z)().mark((function e(){var t,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isPlatformExpand=null!==(t=Tt.localStore.get(this.cachePlatformKey))&&void 0!==t&&t,this.isChannelExpand=null!==(a=Tt.localStore.get(this.cacheChannelKey))&&void 0!==a&&a,this.tooltipVisible=!1!==Tt.localStore.get(this.cacheVisibleTooltipsKey),e.next=5,(0,z.h)().getWalletDownloadUrl();case 5:this.downloadUrl=e.sent;case 6:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"isScoreMode",get:function(){return this.store.isScoreMode}},{key:"isOnlyScoreMode",get:function(){var e=this.store.multipleCurrencyCondition,t=e.isUserIDR;return e.isUserVND||t}},{key:"bankList",get:function(){var e;return null!==(e=(0,xe.H)().onlinePayBankList)&&void 0!==e?e:[]}},{key:"updateFeeRateDeduction",value:function(){this.store.updateFeeRateDeduction()}},{key:"resetSpecCurrencyTrigger",value:function(){this.isOnlyScoreMode?this.store.isScoreMode=!0:this.store.isScoreMode=!1}},{key:"resetAllIndex",value:function(){this.activeIndex=0,this.activeMethodIndex=0,this.resetActiveMoneyButton()}},{key:"resetPayData",value:function(){var e=this,t=this.store.getConditionInfo.showRealNameInputFreeze;this.store.$patch((function(a){a.money=void 0,a.validateForm.realName=t?e.store.globalRealName:"",a.validateForm.walletAddress=void 0,a.validateForm.cardNumber=void 0,a.validateForm.cardPassword=void 0,a.validateForm.networkMerch=void 0,a.validateForm.bankSysCode=void 0})),this.resetActiveMoneyButton()}},{key:"setPlatformExpand",value:function(e){this.isPlatformExpand=e,Tt.localStore.set(this.cachePlatformKey,e)}},{key:"setChannelExpand",value:function(e){this.isChannelExpand=e,Tt.localStore.set(this.cacheChannelKey,e)}},{key:"isWeb",get:function(){return(0,z.h)().isWeb}},{key:"maxFontSize",get:function(){return this.isWeb?18:24}},{key:"renderPlatformCardList",get:function(){var e=this,t=this.$createElement,a=this.store.getPayPlatformList.length>6,r=!this.isPlatformExpand&&a?this.store.getPayPlatformList.slice(0,6):this.store.getPayPlatformList;return t("div",[t("ul",{class:oa,attrs:{"is-not-cny":!this.store.multipleCurrencyCondition.isUserCNY,"hidden-border":a}},[r.map((function(a,r){var n,o=ye.getIconByRechargeIconType(+a.payicon),i=a.chargeRateConfig.chargeRate?e.t("lobby.modal.pay.give",{num:a.chargeRateConfig.chargeRate}):a.customTag;return i&&(n=t(Ft.Z,{attrs:{text:i,top:V.ZP.px2rem("-18px"),charge:i}})),t("li",{key:a.payplatformid,class:e.activeIndex===r?la:"",on:{click:function(){return e.handleClickPlatformCard(a,r)}}},[t("dl",{class:ia},[t("dt",[t(G.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var e;if(a.iconUrl)return t("my-img",{attrs:{width:44,height:44,src:a.iconUrl,options:{lazy:!1}},class:sa});var r=44/(null!==(e=null==o?void 0:o.width)&&void 0!==e?e:44);return t("icon-sprite",{attrs:{scale:r,sprite:o}})}}}})]),t("dd",[a.pay_type_name])]),e.activeIndex===r&&t(Ot.Z),n])}))]),a&&t("div",{on:{click:function(){e.setPlatformExpand(!e.isPlatformExpand)}},class:ca},[this.isPlatformExpand?t("p",[t("span",[this.t("lobby.modal.pay.putAway")]),t("span",{class:Ga})]):t("p",[t("span",[this.t("lobby.modal.pay.expand")]),t("span",{class:Ba})])])])}},{key:"handleClickPlatformCard",value:(f=(0,c.Z)((0,l.Z)().mark((function e(t,a){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeIndex!==a){e.next=2;break}return e.abrupt("return");case 2:return this.store.loading=!0,this.resetPayData(),e.next=6,this.store.setActivePlatformCategory(t);case 6:this.store.loading=!1,this.resetAllIndex(),this.activeIndex=a,this.resetSpecCurrencyTrigger();case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"isMerged",get:function(){return this.store.isMerged}},{key:"renderOnlinePayChannelList",get:function(){return[(0,this.$createElement)("div")]}},{key:"renderTransferPayChannelList",get:function(){return[(0,this.$createElement)("div")]}},{key:"handleClickPlatformMethodCard",value:(s=(0,c.Z)((0,l.Z)().mark((function e(t,a){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeMethodIndex!==a){e.next=2;break}return e.abrupt("return");case 2:this.resetPayData(),this.activeMethodIndex=a,this.store.setActivePayPlatformMethodCondition(t),this.resetSpecCurrencyTrigger();case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"getWalletNoPlaceholder",value:function(e){var t=this.$createElement,a=this.t;switch(e){case F.LARGE:return t("span",[a("lobby.modal.pay.walletRecommendMoneyNone1")]);case F.MIDDLE:return t("span",[a("lobby.modal.pay.walletRecommendMoneyNone2")]);case F.SMALL:return t("span",[a("lobby.modal.pay.walletRecommendMoneyNone3")])}}},{key:"handleChangeActiveCurrency",value:(n=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.store.multipleCurrencyCondition,a=t.channelCurrencyCode,r=t.userCurrencyCode,n=t.isActiveCurrencySameWithUserCurrency,this.store.activeCurrencyCode=n?a:r,this.store.isScoreMode=!this.store.isScoreMode,e.next=5,this.store.initExchangeRate();case 5:this.tooltipVisible=!1,Tt.localStore.set(this.cacheVisibleTooltipsKey,!1),this.store.money=this.store.processMoney(this.store.money);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"updateExchange",value:(r=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.animation=!0,e.next=3,this.store.initExchangeRate();case 3:this.animation=!1;case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"renderSIMCardFeeRateArea",get:function(){var e,t=this.$createElement,a=this.t,r=this.store.activePlatformMethod,n=Number(null!==(e=r.feeRate)&&void 0!==e?e:"0");if(!n||!this.store.money)return null;var o=W.Z.autoAddTwoZero(W.Z.formGameRateMoney(W.Z.times(this.store.money,W.Z.div(n,100)))),i=this.store.fee,s=i.deduction,l=i.realFee;return[t("article",{class:Ua},[t("div",[t("span",[t("span",[a("lobby.modal.pay.feeRate"),n,"%"])])]),this.store.money&&t("div",[t("span",[a("lobby.modal.pay.fee"),"=",o])])]),s&&"0"!==s?t("article",{class:Ua},[t("div",[t("span",[t("span",[a("lobby.modal.pay.deduction"),"≈",W.Z.formGameRateMoney(s)])])]),this.store.money&&t("div",[t("span",[a("lobby.modal.pay.realFee"),"≈",W.Z.formGameRateMoney(l)])])]):null]}},{key:"renderMultipleCurrencyCondition",get:function(){var e=this,t=this.$createElement,a=this.t,r=this.store.multipleCurrencyCondition,n=r.userCurrencySign,o=r.isCurrencySame,i=r.channelCurrencySign,s=r.channelCurrencyCode,l=r.userMarketCurrencyCode,c=r.userCurrencyIsGameRateSpec,u=r.userCurrencyGameRate,d=r.isUserVND,p=r.isChannelVND,m=a("lobby.modal.pay.title"),h=a("lobby.modal.pay.title2"),y=this.isScoreMode?m:h,f=(0,z.h)().isCn,b=!o&&!this.isScoreMode&&c,C=[function(){if(o||"0"===e.store.exchangeRate)return null;var r="";if(e.store.money){var y=c&&e.isScoreMode?W.Z.times(Number(e.store.money)||0,u):Number(e.store.money)||0,C=e.store.processMoney("".concat(W.Z.times(Number(y),Number(e.store.exchangeRate))),!0,!0);r=e.isScoreMode?"".concat(m).concat(f?"":"\n","≈").concat(C).concat(s):b?"".concat(f?"":"\n","≈").concat(n).concat(C):"".concat(h).concat(f?"":"\n","≈").concat(C).concat(l)}else r="";var g,k="";return e.isScoreMode?(g=d?"1".concat(n):"".concat(n,"1"),k=p?"".concat(W.Z.formatExchange(e.store.exchangeRate)).concat(i):"".concat(i).concat(W.Z.formatExchange(e.store.exchangeRate))):(g=p?"1".concat(i):"".concat(i,"1"),k=d?"".concat(W.Z.formatExchange(e.store.exchangeRate)).concat(n):"".concat(n).concat(W.Z.formatExchange(e.store.exchangeRate))),t("article",{class:Ua},[t("div",[t("span",[a("lobby.modal.pay.rate"),f?null:t("br"),t("span",[g," : ",k])]),t("span",{class:Ya},[t(G.JO.Tsx,{on:{click:e.updateExchange},class:[Va,[(0,v.Z)({},Q.CM.CssClassName.Animate.Animated,e.animation),Q.CM.CssClassName.Animate.Spin,Q.CM.CssClassName.Animate.Repeat.infinite]],attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:Yt()}})}}}})])]),t("div",{class:(0,v.Z)({},Wa,e.isScoreMode||!b),domProps:{innerHTML:r}})])}(),function(){if(c){var a=W.Z.getGameRateProportion(null!=n?n:"CNY",u,e.isScoreMode),r=o||"0"===e.store.exchangeRate||b,i=r&&!e.isScoreMode,s=e.isScoreMode?e.store.processMoney("".concat(W.Z.times(Number(e.store.money)||0,u)),!0,!0):e.store.processMoney("".concat(u<=1?W.Z.times(Number(e.store.money)||0,Math.round(1/u)):W.Z.div(Number(e.store.money)||0,u)),!0,!0);if(b){var l=W.Z.times(Number(e.store.money)||0,e.store.exchangeRate);s=e.store.processMoney("".concat(u<=1?W.Z.times(l,Math.round(1/u)):W.Z.div(l,u)),!0,!0)}r&&(s=W.Z.formatMoney("".concat(s),"CNY"));var p=s;return i||(p="".concat(n).concat(s),d&&(p="".concat(s).concat(n))),t("article",{class:Ua},[t("div",[t("span",[t("span",[a])])]),e.store.money&&t("div",{class:(0,v.Z)({},Wa,r)},[r&&y,"≈",p])])}return null}(),this.renderSIMCardFeeRateArea];return this.isScoreMode&&C.reverse(),C}},{key:"renderInputSymbol",get:function(){var e=this.$createElement,t=this.store.multipleCurrencyCondition,r=t.isCurrencySame,n=t.userCurrencySign,o=t.userCurrencyIsGameRateSpec;if(r&&!o)return[e("span",{class:Ia},[n]),null];var i,s,l,c=this.t("lobby.modal.pay.onceTips"),u=null===(i=(0,z.h)().getCurrencyInfoByCode(this.store.activeCurrencyCode))||void 0===i?void 0:i.currencySign,d=o&&this.isScoreMode?e("icon-sprite",{attrs:{sprite:$t()}}):u,p=1===(null===(s=(0,z.h)().siteInfos)||void 0===s?void 0:s.type),m=a(p?35379:31210),h=e("div",{attrs:{id:"aka-9910"},class:(l={},(0,v.Z)(l,_a,!0),(0,v.Z)(l,wa,this.isScoreMode),l),on:{click:this.handleChangeActiveCurrency}},[e("icon-sprite",{attrs:{sprite:zt()},class:Na}),this.tooltipVisible&&e("div",{class:Ea},[e("my-img",{class:Sa,attrs:{src:m,options:{type:"div"}}},[c])])]),y=[e("span",{class:Ia},[d])];return this.isOnlyScoreMode||y.push(h),y}},{key:"validateFormRef",value:function(){var e=this;return new Promise((function(t){var a;null===(a=e.formModelRef)||void 0===a||a.validate((function(e){t(e)}))}))}},{key:"renderRealNameInput",get:function(){var e=this,t=this.$createElement,a=this.store.getConditionInfo,r=a.isCombination,n=a.showRealNameInput,i=a.showRealNameInputFreeze,s=this.t,l=Q.sG.FuncRender.createFormModelItem.call(this);return r?[t("p",{class:ya},[t("span",{class:xa},[s("lobby.modal.pay.realNameRemark")])]),l.custom({prop:"realName",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return n&&!t?(a(s("lobby.modal.pay.realNameRequired").toString()),!1):(a(),!0)}})]}},render:function(){return[t(Dt.Z,{attrs:(0,o.Z)((0,o.Z)({preIcon:ta(),isRequire:!0,allowClear:!0},{maxLength:100}),{},{disabled:!!e.store.globalRealName&&i,placeholder:s(i?"lobby.modal.pay.realNameFreezePlaceholder":"lobby.modal.pay.realNamePlaceholder").toString()}),class:ka,model:{value:e.store.validateForm.realName,callback:function(t){e.$set(e.store.validateForm,"realName",t)}}})]}})]:[t("p",{class:ya},[t("span",{class:xa},[s("lobby.modal.pay.realNameRemark")])]),t(Dt.Z,{attrs:(0,o.Z)((0,o.Z)({preIcon:ta(),isRequire:!0,allowClear:!0,disabled:!!this.store.globalRealName&&i},{maxLength:100}),{},{placeholder:s(i?"lobby.modal.pay.realNameFreezePlaceholder":"lobby.modal.pay.realNamePlaceholder").toString()}),class:ka,model:{value:e.store.validateForm.realName,callback:function(t){e.$set(e.store.validateForm,"realName",t)}}})]}},{key:"renderWalletAddressInput",get:function(){var e=this,t=this.$createElement,a=this.store.getConditionInfo,r=a.isCombination,n=a.payWalletAddressValid,o=this.t,i=Q.sG.FuncRender.createFormModelItem.call(this);return r?[i.custom({prop:"walletAddress",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return n&&!t?(a(o("lobby.modal.pay.walletAddressRequired").toString()),!1):(a(),!0)}})]}},render:function(){return[t(Lt.Z,{class:[ka,Za,Ra],attrs:{allowClear:!0,isRequire:n,placeholder:o("lobby.modal.pay.walletAddressPlaceholder").toString()},on:{blur:e.lockWalletAddress},model:{value:e.store.validateForm.walletAddress,callback:function(t){e.$set(e.store.validateForm,"walletAddress",t)}}})]}})]:[t("div",{class:Ca},[t("p",{class:ya},[t("span",{class:xa},[o("lobby.modal.pay.walletAddressRemark")])]),t(Lt.Z,{class:[ka,Ra],attrs:{isRequire:n,allowClear:!0,placeholder:o("lobby.modal.pay.walletAddressPlaceholder").toString()},on:{blur:this.lockWalletAddress},model:{value:e.store.validateForm.walletAddress,callback:function(t){e.$set(e.store.validateForm,"walletAddress",t)}}})])]}},{key:"renderPlatformPayMethodPayCondition",get:function(){var e=this,t=this.$createElement;if(!this.store.activePlatformMethod)return t("div");var a=this.store.activePlatformMethod,r=this.t,n=this.store.multipleCurrencyCondition,o=n.channelCurrencyCode,s=n.channelCurrencySign,l=n.channelCurrencyTypeIsCrypto,c=n.userCurrencyGameRate,u=this.store.getPayLimit,d=u.max,p=u.min,m=(0,i.Z)(this.renderInputSymbol,2),h=m[0],y=m[1],f=this.store.getConditionInfo,b=f.recommendList,C=f.showMoneyInput,g=f.showPayWalletAddress,k=f.showRealNameInput,R=f.showEmail,Z=f.showPhone,I=f.remark,_=f.payEmailValid,N=f.payPhoneValid,E=f.isCombination,S=f.isSIMCard,w=f.isWallet,x=f.isOnlineBank,P="";a.walletConfig&&(P=a.walletConfig.text.replace("*","<span>".concat(a.walletConfig.chargeRate,"</span>")));var T=Q.sG.FuncRender.createFormModelItem.call(this),A=b.some((function(e){return e.bonus}));return t("section",{class:ha},[t("div",{class:ba},[t("div",{class:ya},[this.isScoreMode?r("lobby.modal.pay.payScore"):r("lobby.modal.pay.payMoney"),(null==b?void 0:b.length)>0&&A&&t(G.u.Tsx,{attrs:{placement:"topRight",trigger:"click",overlayClassName:qa}},[t("template",{slot:"title"},[r("lobby.modal.pay.giveInfo")]),t("div",{class:fa},[r("lobby.modal.pay.giveTip")])])]),(null==b?void 0:b.length)>0&&t("ul",{class:Pa},[b.map((function(a,r){var n=a.amount,i=a.amount;if(e.isScoreMode)if(e.isOnlyScoreMode){if(l){var u=Number(W.Z.formGameRateMoney(W.Z.div(W.Z.div(+a.amount,e.store.exchangeRate),c)));n=u>Number(e.store.getPayLimit.max)?Math.floor(u).toString():Math.ceil(u).toString()}else n=W.Z.formGameRateMoney(W.Z.div(+a.amount,c));i=n}else i=ye.codeIsVND(o)?"".concat(a.amount).concat(s):a.amount;var d=e.isScoreMode;e.isOnlyScoreMode&&(d=!1);var p=a.chargeRate,m="";return p&&a.bonus?(p+="+".concat(a.bonus),m=e.t("lobby.modal.pay.give",{num:"".concat(p)})):a.bonus&&(m=p="+".concat(a.bonus)),t("li",{class:(0,v.Z)({},la,e.activeMoneyBtnIndex===r&&!d),on:{click:function(){return e.handleClickPlatformPayMoneyBtn(n,r)}},attrs:{disabled:d}},[t("auto-text",{attrs:{maxSize:e.maxFontSize,mode:"inline"}},[i,e.activeMoneyBtnIndex===r&&!d&&t(Ot.Z)]),m&&t(Ft.Z,{attrs:{charge:p,top:V.ZP.px2rem("-18px"),text:m},class:Ta})])}))]),C&&t("div",{class:ga},[[t(G.II.Tsx,{class:(0,v.Z)({},ka,!0),attrs:{allowClear:!0,prefix:h,placeholder:r("lobby.modal.pay.placeholder",{a:p,b:d})},on:{change:this.moneyInputChange},model:{value:e.store.money,callback:function(t){e.$set(e.store,"money",t)}}}),y]]),this.renderMultipleCurrencyCondition,w&&t("ul",{class:Aa},[t("li",{class:[Da,La]},[t("span",{class:Oa,domProps:{innerHTML:P}}),t("span",{class:Fa,on:{click:this.handleDownload}},[t("icon-sprite",{class:Na,attrs:{sprite:Ht()}}),r("lobby.modal.pay.download")])])]),a.downloadUrl&&a.downloadUrl.text&&t("ul",{class:Aa},[t("li",{class:[Ma,La]},[t("span",{on:{click:function(){e.handleCustomLink(a.downloadUrl.url)}}},[t("icon-sprite",{class:Na,attrs:{sprite:Ht()}}),a.downloadUrl.text])])])]),k&&!E&&t("div",{class:Ca},[this.renderRealNameInput]),g&&!E&&this.renderWalletAddressInput,t(G.au.Tsx,Ue()([{ref:"formModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.store.validateForm}}]),[(R||Z)&&t("div",{class:Ca},[t("p",{class:ya},[t("span",{class:xa},[r("lobby.modal.pay.personalInfoRemark")])]),Z&&[T.custom({prop:"phone",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return N&&!t?(a(r("lobby.modal.pay.personalPhoneInfoRequired").toString()),!1):(a(),!0)}})]}},render:function(){return[t(Lt.Z,{attrs:{preIcon:ra(),isRequire:N,allowClear:!0,placeholder:r("lobby.modal.pay.personalPhoneInfoPlaceholder").toString()},class:[ka,Za],on:{blur:e.lockNumber},model:{value:e.store.validateForm.phone,callback:function(t){e.$set(e.store.validateForm,"phone",t)}}})]}})],R&&[T.custom({prop:"email",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return _&&!Ut.Z.isEmail(t)?(a(r("lobby.modal.pay.personalEmailInfoError").toString()),!1):(a(),!0)}})]}},render:function(){return[t(Lt.Z,{attrs:{preIcon:jt(),isRequire:_,allowClear:!0,placeholder:r("lobby.modal.pay.personalEmailInfoPlaceholder").toString()},class:[ka,Za],on:{blur:e.lockEmail},model:{value:e.store.validateForm.email,callback:function(t){e.$set(e.store.validateForm,"email",t)}}})]}})],g&&[this.renderWalletAddressInput],k&&[this.renderRealNameInput]]),S&&t("div",{class:Ca},[[T.custom({prop:"cardNumber",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return t?(a(),!0):(a(r("lobby.modal.pay.combination.cardNoRequired").toString()),!1)}})]}},render:function(){return[t(Lt.Z,{attrs:{preIcon:Qt(),isRequire:!0,allowClear:!0,maxLength:100,placeholder:r("lobby.modal.pay.combination.cardNoPlaceholder").toString()},class:[ka,Za],on:{change:e.lockCardNumber},model:{value:e.store.validateForm.cardNumber,callback:function(t){e.$set(e.store.validateForm,"cardNumber",t)}}})]}})],[T.custom({prop:"cardPassword",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return t?(a(),!0):(a(r("lobby.modal.pay.combination.cardPassRequired").toString()),!1)}})]}},render:function(){return[t(Lt.Z,{attrs:{preIcon:ra(),isRequire:!0,allowClear:!0,maxLength:100,placeholder:r("lobby.modal.pay.combination.cardPassPlaceholder").toString()},class:[ka,Za],model:{value:e.store.validateForm.cardPassword,callback:function(t){e.$set(e.store.validateForm,"cardPassword",t)}}})]}})],[T.custom({prop:"networkMerch",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return t?(a(),!0):(a(r("lobby.modal.pay.combination.networkMerchRequired").toString()),!1)}})]}},render:function(){var n;return[t(Mt.Z,{attrs:{preIcon:Xa(),isRequire:!0,preIconClass:Qa,placeholder:r("lobby.modal.pay.combination.networkMerchPlaceholder").toString()},class:[ka,Za,Ka],model:{value:e.store.validateForm.networkMerch,callback:function(t){e.$set(e.store.validateForm,"networkMerch",t)}}},[null===(n=a.operators)||void 0===n?void 0:n.map((function(e){return t(G.Ph.Option.Tsx,{key:e,attrs:{value:e}},[e])}))])]}})],k&&[this.renderRealNameInput]]),x&&t("div",{class:Ca},[k&&[this.renderRealNameInput],[T.custom({prop:"bankSysCode",model:this.store.validateForm,formModelItemTsxData:{props:{rules:[Q.sG.Rules.create({trigger:["blur"],validator:function(e,t,a){return t?(a(),!0):(a(r("lobby.modal.pay.combination.onlineBankRequired").toString()),!1)}})]}},render:function(){var a,n=e.isWeb?40:50,o=function(e){return t(At.Z,{attrs:{width:n,height:n,el:e}})};return[t(Mt.Z,{attrs:{preIcon:Bt(),isRequire:!0,preIconClass:Qa,dropdownClassName:Ka,showSearch:!0,filterOption:function(t,a){return e.bankList.some((function(e){return e.sysCode===a.key&&e.bankName.includes(t)}))},placeholder:r("lobby.modal.pay.combination.onlineBankPlaceholder").toString()},class:[ka,Za,Ka],model:{value:e.store.validateForm.bankSysCode,callback:function(t){e.$set(e.store.validateForm,"bankSysCode",t)}}},[null===(a=e.bankList)||void 0===a?void 0:a.map((function(e){return t(G.Ph.Option.Tsx,{key:e.sysCode,attrs:{value:e.sysCode,customerRender:[t("div",{class:za},[o(t("my-img",{attrs:{src:e.imgId,width:n,baseScale:.8}})),",",t("span",{class:Oa},[e.bankName])])]}},[t("div",{class:za},[o(t("my-img",{attrs:{src:e.imgId,width:n,baseScale:.8,options:{lazy:!1}}})),t("span",{class:Oa},[e.bankName])])])}))])]}})]])]),!!I&&t("div",{class:xa},[t("p",{class:va},[r("lobby.modal.pay.mark")]),t("p",[I])])])}},{key:"handleDownload",value:function(){var e=(0,B.QT)().t;this.downloadUrl&&(0,Ce.CB)(this.downloadUrl)?(0,Ce.MI)(this.downloadUrl):Oe.Z.error(e("lobby.finance.noUrlErrorTip").toString())}},{key:"handleCustomLink",value:function(e){e&&(0,Ce.MI)(e)}},{key:"lockNumber",value:function(e){var t=e.target.value.replace(/\D/g,"");this.store.validateForm.phone=t}},{key:"lockCardNumber",value:function(e){var t=e.target.value.replace(/[^a-zA-Z0-9]/g,"");this.store.validateForm.cardNumber=t}},{key:"lockEmail",value:function(e){var t=e.target.value;this.store.validateForm.email=t}},{key:"lockWalletAddress",value:function(e){var t=e.target.value.replace(/\W/g,"");this.store.validateForm.walletAddress=t}},{key:"moneyInputChange",value:function(e){var t,a=e.target.value;(this.resetActiveMoneyButton(),this.store.multipleCurrencyCondition.userCurrencyIsGameRateSpec&&this.isScoreMode)?a=W.Z.formGameRateMoney(a):a=null!==(t=this.store.processMoney(a,!1))&&void 0!==t?t:"";W.Z.checkInputMoneyLimit(a)?this.store.money=a:this.store.money=W.Z.getInputMoneyLimit(a)}},{key:"handleClickPlatformPayMoneyBtn",value:(t=(0,c.Z)((0,l.Z)().mark((function e(t,a){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.money=t,this.activeMoneyBtnIndex=a;case 2:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"resetActiveMoneyButton",value:function(){this.activeMoneyBtnIndex=null}},{key:"errorToast",value:function(e){Q.sG.Modal.message({type:"error",content:e})}},{key:"postprocessSuccess",value:function(){this.store.getConditionInfo.showRealNameInputFreeze&&(0,z.h)().updateUserVipInfosRealName(this.store.validateForm.realName),this.resetPayData()}}]),g}(C.XY),et=(0,f.Z)($e.prototype,"formModelRef",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,f.Z)($e.prototype,"updateFeeRateDeduction",[Ke,ze,Ve],Object.getOwnPropertyDescriptor($e.prototype,"updateFeeRateDeduction"),$e.prototype),(0,f.Z)($e.prototype,"handleClickPlatformCard",[Ye],Object.getOwnPropertyDescriptor($e.prototype,"handleClickPlatformCard"),$e.prototype),(0,f.Z)($e.prototype,"handleClickPlatformMethodCard",[qe],Object.getOwnPropertyDescriptor($e.prototype,"handleClickPlatformMethodCard"),$e.prototype),(0,f.Z)($e.prototype,"handleChangeActiveCurrency",[He,Xe],Object.getOwnPropertyDescriptor($e.prototype,"handleChangeActiveCurrency"),$e.prototype),(0,f.Z)($e.prototype,"handleCustomLink",[je],Object.getOwnPropertyDescriptor($e.prototype,"handleCustomLink"),$e.prototype),Je=$e))||Je),Ja=a(84418),$a=a(60071),er=(0,C.wA)({name:"OnlinePayComp"})(tt=function(e){(0,h.Z)(r,e);var t,a=(0,y.Z)(r);function r(){var e,t,n,o,i;(0,d.Z)(this,r);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a.call.apply(a,[this].concat(l)),(0,v.Z)((0,m.Z)(i),"cachePlatformKey",Q.CM.CacheNameSpace.FinancePayOnlinePlatformExpand(null!==(e=null===(t=(0,z.h)().userInfos)||void 0===t?void 0:t.username)&&void 0!==e?e:""+i.store.rootCategoryIndex)),(0,v.Z)((0,m.Z)(i),"cacheChannelKey",Q.CM.CacheNameSpace.FinancePayOnlineChannelExpand(null!==(n=null===(o=(0,z.h)().userInfos)||void 0===o?void 0:o.username)&&void 0!==n?n:""+i.store.rootCategoryIndex)),i}return(0,p.Z)(r,[{key:"needExpandBtn",get:function(){return this.store.onlineChannelList.length>6}},{key:"renderList",get:function(){return!this.isChannelExpand&&this.needExpandBtn?this.store.onlineChannelList.slice(0,6):this.store.onlineChannelList}},{key:"renderOnlinePayChannelList",get:function(){var e=this,t=this.$createElement;if(this.isMerged||0===this.store.onlineChannelList.length)return[t("div")];var a=[t("ul",{class:ua,attrs:{"data-no-border":this.needExpandBtn}},[this.renderList.map((function(a,r){return t("li",{key:r,on:{click:function(){return e.handleClickPlatformMethodCard(a,r)}},class:(0,v.Z)({},la,e.activeMethodIndex===r)},[t("p",{class:da},[a.merch_desc]),e.activeMethodIndex===r&&t(Ot.Z),a.chargeRateConfig&&t(Ft.Z,{attrs:{text:e.t("lobby.modal.pay.give",{num:a.chargeRateConfig.chargeRate}),top:V.ZP.px2rem("-18px"),charge:a.chargeRateConfig.chargeRate}})])}))])];return this.needExpandBtn&&a.push(t("div",{on:{click:function(){return e.setChannelExpand(!e.isChannelExpand)}},class:ca},[this.isChannelExpand?t("p",[t("span",[this.t("lobby.modal.pay.putAway")]),t("span",{class:Ga})]):t("p",[t("span",[this.t("lobby.modal.pay.expand")]),t("span",{class:Ba})])])),a}},{key:"genOrderSign",value:function(e,t,a){var r="";return e.username&&(r+="username="+e.username),e.amount&&(r+="&amount="+e.amount),null==e.paytype&&null==e.paytype||(r+="&paytype="+e.paytype),a||e.payplatformid&&(r+="&payplatformid="+e.payplatformid),e.time&&(r+="&time="+e.time),a&&(e.payplatformids&&(r+="&payplatformids="+e.payplatformids),e.id&&(r+="&id="+e.id)),e.currencyCode&&(r+="&currencyCode="+e.currencyCode),e.mobilePhone&&(r+="&mobilePhone="+e.mobilePhone),e.email&&(r+="&email="+e.email),e.cardNumber&&(r+="&cardNumber="+e.cardNumber),e.cardPassword&&(r+="&cardPassword="+e.cardPassword),e.networkMerch&&(r+="&networkMerch="+e.networkMerch),e.bankCode&&(r+="&bankCode="+e.bankCode),e.bankName&&(r+="&bankName="+e.bankName),e.merchCode&&(r+="&merchCode="+e.merchCode),r+="&key="+t,$a.Z.md5(r)}},{key:"submit",value:(t=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,o,i,s,c,u,d,p,m,h,y,v,f,b,C,g,k,R,Z,I,_,N,E,S,w,x,P,T,A,L,M,D,O,F=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.$createElement,s=this.store.activePlatformParent,c=this.store.activePlatformCategory,u=this.store.activePlatformMethod,(d=this.store.getConditionInfo).isWallet,p=d.showEmail,m=d.showRealNameInput,h=d.showPayWalletAddress,y=d.showPhone,v=d.isSIMCard,f=d.isNonePayPage,b=d.isOnlineBank,!d.isZFBPay){e.next=8;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.toast.payZFBError")}),e.abrupt("return");case 8:if(C=(0,z.h)(),g={username:null!==(t=null===(a=C.userInfos)||void 0===a?void 0:a.username.toString())&&void 0!==t?t:"",amount:null!==(r=this.store.money)&&void 0!==r?r:"",time:Ja.Z.timestamp(),language:Q.CM.ServiceLanguageMap[C.language],paytype:null!==(n=null==c?void 0:c.paymentid.toString())&&void 0!==n?n:"",siteCode:C.siteCode,currencyCode:this.store.isScoreMode?"":this.store.activeCurrencyCode,source:"web"},(k=this.store.isMerged)?(g.payplatformids=null==c||null===(R=c.payment_ids)||void 0===R?void 0:R.slice(1,-1),g.id=null==s?void 0:s.payplatformid,Z=(null==c?void 0:c.list.map((function(e){return e.merchCode})))||[],g.merchCode=Z.join(",")):(g.payplatformid=null==u?void 0:u.payplatformid.toString(),g.merchCode=null==u?void 0:u.merchCode),m&&this.store.validateForm.realName&&(g.payRealName=this.store.validateForm.realName),p&&this.store.validateForm.email&&(g.email=this.store.validateForm.email),h&&this.store.validateForm.walletAddress&&(g.payAddress=this.store.validateForm.walletAddress),y&&this.store.validateForm.phone&&(g.mobilePhone=this.store.validateForm.phone),v&&(g.cardNumber=this.store.validateForm.cardNumber,g.cardPassword=this.store.validateForm.cardPassword,g.networkMerch=this.store.validateForm.networkMerch),b&&(_=null!==(I=this.bankList.find((function(e){return e.sysCode===F.store.validateForm.bankSysCode})))&&void 0!==I?I:{},N=_.bankName,E=_.bankCode,g.bankName=N,g.bankCode=E),g.sign=this.genOrderSign(g,null!==(o=this.store.signKey)&&void 0!==o?o:"",k),g.webUrl=encodeURI(window.location.href),S=null,w=function(e){var t,a,r=(null===(t=(0,z.h)())||void 0===t||null===(a=t.siteConfig)||void 0===a?void 0:a.siteCode)||"";["510","587","573"].includes(r)?window.open(e):(0,Ce.MI)(e)},!(v||f||k)){e.next=39;break}return navigator.userAgent.toLowerCase().includes("iphone")&&!(window.Android||window.PlatNative||window.jsBridge)&&(S=window.open("","_blank")),e.next=27,(0,Se.Jb)(null!==(x=null==c?void 0:c.url)&&void 0!==x?x:"'/pay/paysubmit/".concat(g.siteCode),g);case 27:if(!(P=e.sent).data.data||!P.data.data.success){e.next=32;break}k?S?S.location=P.data.data.data:w(P.data.data.data):this.store.openDetailsModal(P.data.data.orderNo,0),e.next=37;break;case 32:return null===(T=S)||void 0===T||T.close(),L=null===(A=P.data.data)||void 0===A?void 0:A.orderNo,M=i("div",[i("p",[this.t("lobby.modal.pay.toast.payFailed")]),i("p",[this.t("lobby.modal.pay.details.orderNo"),L])]),Q.sG.Modal.message({type:"error",content:L?M:P.data.msg}),e.abrupt("return");case 37:e.next=41;break;case 39:O=Q.Uh.getUri({url:null!==(D=null==c?void 0:c.url)&&void 0!==D?D:"/pay/paysubmit/".concat(g.siteCode),params:g}),w(O);case 41:this.postprocessSuccess();case 42:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=arguments[0];return e("div",{class:na},[[this.renderPlatformCardList,this.renderOnlinePayChannelList,this.renderPlatformPayMethodPayCondition]])}}]),r}((0,C.Wr)(ja)))||tt,tr=a(34717),ar="SEAQbEIvPJTlEpPe6wFK",rr="jX5djzPMggpRCr4FQ3De",nr="QUbJMyT39yg1wbYJCBkO",or="q45bFzWKmuN7cKYiXpeA",ir="_ZtqEkCzKMsDpah606br",sr="nuBFknGMXDdZk6dGtJLt",lr="RRTX3gmtCdFfNddI0cLH",cr="PiPDwj0D2OzcYnKkCmSp",ur="c8uT1aNTYt3dPlJ0LDD7",dr="W8PN6SI8Nto4kx31wVzZ",pr="OarFNs3QOB4jvp7_xOqx",mr="ix5u0894D1maorh5gvDw",hr="iHM6ve_Bs85LOu2sm2wM",yr="Cp5Zl4LGe28DRRIdc9lt",vr="X72XiAUzJMMUaDctV2yq",fr="g8XCIVIxlsc13S6XVJlx",br="Y6tyjMd9D707Xrj0vbN0",Cr=[tr.Rd.TODAY,tr.Rd.YESTERDAY,tr.Rd.LAST_SEVEN_DAY,tr.Rd.LAST_FIFTEEN_DAY,tr.Rd.LAST_THIRTY_DAY,tr.Rd.ALL],gr=(at=(0,C.wA)({name:"OrderRecordComp"}),rt=(0,C.Rl)(),nt=(0,C.RL)("store.tableQueryTrigger"),at((it=function(e){(0,h.Z)(r,e);var t,a=(0,y.Z)(r);function r(){var e;(0,d.Z)(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=a.call.apply(a,[this].concat(n)),(0,v.Z)((0,m.Z)(e),"store",Ae()),(0,v.Z)((0,m.Z)(e),"state",{condition:{dateType:tr.Rd.TODAY},total:0}),(0,u.Z)((0,m.Z)(e),"tableCompRef",st,(0,m.Z)(e)),e}return(0,p.Z)(r,[{key:"initQuery",value:function(){var e;null===(e=this.tableCompRef)||void 0===e||e.onConditionChange()}},{key:"query",value:(t=(0,c.Z)((0,l.Z)().mark((function e(t,a,r){var n,o,s,c,u,d,p,m,h,y;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Pe.Z)((0,Se.D3)({page:t,time_type:r.dateType,size:a}));case 2:if(p=e.sent,m=(0,i.Z)(p,2),h=m[0],y=m[1],!h){e.next=8;break}return e.abrupt("return",{data:[],total:0});case 8:return this.state.total=null!==(n=null===(o=y.data.data)||void 0===o?void 0:o.total_amount)&&void 0!==n?n:0,e.abrupt("return",{data:null!==(s=null===(c=y.data.data)||void 0===c?void 0:c.list)&&void 0!==s?s:[],total:null!==(u=null===(d=y.data.data)||void 0===d?void 0:d.total)&&void 0!==u?u:20});case 10:case"end":return e.stop()}}),e,this)}))),function(e,a,r){return t.apply(this,arguments)})},{key:"tableColumnConfigs",get:function(){var e=this,t=this.$createElement,a=(0,B.QT)().t;return[{title:a("lobby.modal.pay.table.time"),dataIndex:"createtime",key:"createtime",width:200,customRender:function(e){return t("span",[V.ZP.format(e)])}},{title:a("lobby.modal.pay.table.method"),dataIndex:"payment_name",key:"payment_name"},{title:a("lobby.modal.pay.table.amount"),dataIndex:"amount",key:"amount",customRender:function(e){return t("span",{class:ir},[e])}},{title:a("lobby.modal.pay.table.status"),dataIndex:"status_name",key:"status_name",customRender:function(e,a){var r=ir;return a.status===M.SUCCESS?r=sr:a.status!==M.FAILED&&a.status!==M.TIMEOUT||(r=lr),t("span",{class:r},[e])}},{title:a("lobby.modal.pay.table.action"),key:"action",customRender:function(r,n){return t("div",{on:{click:function(){return e.handleOpenDetailsModal(n)}},class:cr},[a("lobby.modal.pay.table.details")])}}]}},{key:"handleOpenDetailsModal",value:function(e){this.store.openDetailsModal(e.order_no,0)}},{key:"renderListItem",value:function(e){var t,a=this,r=this.$createElement,n=ye.getIconByRechargeIconType(+e.payicon),o=this.store.multipleCurrencyCondition,s=o.userCurrencySign,l=o.userCurrencyIsGameRateSpec,c=ye.getColor(e.status),u=r("span",{class:(0,i.Z)(c,2)[1]},[e.status_name]);return r("div",{class:ur,on:{click:function(){return a.handleOpenDetailsModal(e)}}},[r("div",{class:dr},[r("div",{class:pr},[e.icon_url?r("my-img",{attrs:{src:e.icon_url,width:60,height:60}}):r("icon-sprite",{attrs:{sprite:n,scale:60/(null!==(t=n.width)&&void 0!==t?t:60)}})]),r("p",{class:mr},[r("p",{class:br},[e.payment_name]),r("p",{class:hr},[V.ZP.format(e.createtime)])])]),r("div",{class:yr},[r("p",{class:vr},[(0,W.o)(e.amount,{separator:"",symbol:l?"":s})]),r("p",{class:fr},[u])])])}},{key:"isWeb",get:function(){return(0,z.h)().isWeb}},{key:"render",value:function(){var e=this,t=arguments[0],a=(0,B.QT)(),r=a.t,n=this.store.multipleCurrencyCondition,o=n.userCurrencySign,i=n.userCurrencyIsGameRateSpec;return t("section",{class:ar},[t("div",{class:rr},[t(b.Ci,{attrs:{radioList:Cr,selectMode:!0},model:{value:e.state.condition.dateType,callback:function(t){e.$set(e.state.condition,"dateType",t)}}}),t("div",{class:nr},[r("lobby.modal.pay.total"),t("span",[(0,W.o)(this.state.total,{separator:"",symbol:i?"":o})])])]),t("div",[t(b.FN,{ref:"tableCompRef",class:or,attrs:{query:this.query,reverseBgInListMode:!0,condition:this.state.condition,rowKey:"order_no",listMode:!0,listScrollHeight:this.isWeb?V.ZP.px2rem(590):"calc(calc(var(--vh, 1vh) * 100) - 2.62rem)",listRenderItem:this.renderListItem}})])])}}]),r}(C.XY),st=(0,f.Z)(it.prototype,"tableCompRef",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,f.Z)(it.prototype,"initQuery",[nt],Object.getOwnPropertyDescriptor(it.prototype,"initQuery"),it.prototype),ot=it))||ot),kr=(a(54747),a(26833),a(43290),a(50915),a(83762),a(94899)),Rr=function(){function e(){(0,d.Z)(this,e)}var t;return(0,p.Z)(e,null,[{key:"handleUpload",value:function(e){var t=e.file,a=e.error;return new Promise((function(e){if(a)return(0,kr.y)(a),void e([void 0,void 0]);var r=new FileReader;r.onload=function(a){var r,n,o,i=null!==(r=null==a||null===(n=a.target)||void 0===n||null===(o=n.result)||void 0===o?void 0:o.toString())&&void 0!==r?r:"";e([t,i])},r.readAsDataURL(t)}))}},{key:"uploadImage",value:(t=(0,c.Z)((0,l.Z)().mark((function e(t){var a,r,n,o,s,c,u,d,p;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,B.QT)(),o=n.t,t){e.next=4;break}return Q.sG.Modal.message({type:"error",content:o("lobby.finance.withdraw.add.fileNull")}),e.abrupt("return",void 0);case 4:return(s=new FormData).append("uploadfile",t),e.next=8,(0,Pe.Z)((0,Se.nx)(s));case 8:if(c=e.sent,u=(0,i.Z)(c,2),d=u[0],p=u[1],!d){e.next=14;break}return e.abrupt("return",void 0);case 14:return e.abrupt("return",null!==(a=null===(r=p.data.data)||void 0===r?void 0:r.successLinks[0])&&void 0!==a?a:"");case 15:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Zr=a(50116),Ir=a(98796),_r=a(20144),Nr=a(13201),Er=a.n(Nr),Sr=a(32562),wr=a.n(Sr),xr=a(93327),Pr=a.n(xr),Tr="Hfvvqwvpm6Tkbvb_F1sB",Ar="XxSp2jfZGaCg0TUQsuQF",Lr="ZuH_ScCMVJniUgRVbMYP",Mr="tuRjCTXnTWkL_i9vt2iw",Dr="ayEjCEx1ME0V4J1KADSr",Or="qtZsliYCCWVhN5CfcpO8",Fr="Af00U5d1Agov3h3APWWy",Ur="Ws41sKWhgAokGuvJ_MlY",Wr="ZW0TS4NWMAEoP518iYjn",Br="ALX5kJoen9mDZyNYjLa7",Gr="lThA_LJkT5MtIFtQIqdT",Qr="JVl80JzuBFBnU8p9KITK",Kr="aK4yzkqkjbNBciqELY7Z",zr="gmdpcdXqViGZvN7jZrZb",Vr="luRX9yeX_ZZCGBCt7oSl",Yr="G0ZGu9dUy66Tdas8RcOP",qr="xzfnK0Je9RQ5s0s8v1YL",Hr="B96lsr68eHh2a5AW5LkP",Xr="BF3aur_K3qcbjkUbrz0e",jr="PviExjG3rnbnJOz4NcD0",Jr="C6szK28HCUZMtYvtdrrw",$r="tMMRbhMaHjAuJQJpoqLQ",en="Z6RP2duen8MFREsFYnQC",tn="doE1FOUfF5g7hhhNbIOU",an="KSxesBCIfuIW7VEMq5fZ",rn="sEwMibnlZRjG4MazlnR9",nn="QHDLrjergVRlOenW65lQ",on="vpcrgt24nEjepurxaDO9",sn="Fh7R7yuK7Xk20dNzwfCA",ln="VYnaZ8hCBazBnptji_PA",cn="yCb37qMAzVXzhJt6KN9Q",un="llaxXhl8hEzJX3qqQICp",dn="zRu5GbS4Mwa5AH5xHnIt",pn="X2ay04r1Bb0PTj9rH5ud",mn="_rElVPD4gX4lKTBqc_oW",hn="kkdkmIGG0DAVIW74mGDs",yn="QGY9udiPClp7TODxTO14",vn=(lt=(0,C.wA)({name:"PayDetailsModalComp"}),ct=(0,C.RL)("store.visible"),ut=(0,De.K4)(800),lt((pt=function(e){(0,h.Z)(u,e);var t,a,n,s=(0,y.Z)(u);function u(){var e;(0,d.Z)(this,u);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=s.call.apply(s,[this].concat(a)),(0,v.Z)((0,m.Z)(e),"store",Ae()),(0,v.Z)((0,m.Z)(e),"loading",!1),(0,v.Z)((0,m.Z)(e),"realName",""),(0,v.Z)((0,m.Z)(e),"utr",""),(0,v.Z)((0,m.Z)(e),"remark",""),(0,v.Z)((0,m.Z)(e),"visibleCardPass",!1),(0,v.Z)((0,m.Z)(e),"transferCertificateData",{url:"",previewUrl:"",file:void 0}),(0,v.Z)((0,m.Z)(e),"detailsMap",{}),e}return(0,p.Z)(u,[{key:"resetData",value:function(){this.transferCertificateData={url:"",previewUrl:"",file:void 0},this.utr="",this.remark="",this.visibleCardPass=!1}},{key:"orderNoListener",value:(n=(0,c.Z)((0,l.Z)().mark((function e(t){var a,r,n,o,s,c=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.store.orderNo)&&t){e.next=3;break}return e.abrupt("return");case 3:return this.loading=!0,e.next=6,(0,Pe.Z)((0,Se.je)({order_no:a}));case 6:if(r=e.sent,n=(0,i.Z)(r,2),o=n[0],s=n[1],!o){e.next=14;break}return console.error("finance pay modal record comp has error:",o),this.setState({loading:!1}),e.abrupt("return");case 14:this.loading=!1,this.$set(this.detailsMap,a,_r.default.observable({data:s.data.data,count:this.store.countdown})),this.realName=this.detailsMap[a].data.orderName||this.store.validateForm.realName,this.store.startCount&&0!==this.store.countdown&&(this.store.startCount=!1,this.detailsMap[a].timer=setInterval((function(){c.detailsMap[a].count=c.detailsMap[a].count-1,0===c.detailsMap[a].count&&(clearInterval(c.detailsMap[a].timer),c.detailsMap[a].timer=void 0)}),1e3));case 18:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"beforeDestroy",value:function(){Object.values(this.detailsMap).forEach((function(e){e.timer&&clearTimeout(e.timer)}))}},{key:"detailsData",get:function(){var e;return this.detailsMap[null!==(e=this.store.orderNo)&&void 0!==e?e:"unknown"]}},{key:"isWallet",get:function(){var e;return+(null===(e=this.detailsData.data)||void 0===e?void 0:e.payment_type)===Z.WALLET}},{key:"isSIMCard",get:function(){var e;return+(null===(e=this.detailsData.data)||void 0===e?void 0:e.payment_type)===Z.SIM}},{key:"isHasFee",get:function(){return!!this.detailsData.data.fee&&"0"!==this.detailsData.data.fee}},{key:"isOnlinePay",get:function(){var e,t,a;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.pay_kind)===r.ONLINE||(null===(t=this.detailsData.data)||void 0===t?void 0:t.pay_kind)===r.UNKNOWN||(null===(a=this.detailsData.data)||void 0===a?void 0:a.pay_kind)===r.ARTIFICIAL}},{key:"isTransfer",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.pay_kind)===r.TRANSFER}},{key:"isShowRealNameInput",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.realNameSwitch)!==_.CLOSE}},{key:"isRealNameInputDisable",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.realNameSwitch)===_.FREEZE}},{key:"isShowUTRInput",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.utrSwitch)!==N.CLOSE}},{key:"isUTRLast4Input",get:function(){var e,t;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.utrSwitch)===N.NOT_REQUIRED_LAST4||(null===(t=this.detailsData.data)||void 0===t?void 0:t.utrSwitch)===N.REQUIRED_LAST4}},{key:"isUTRLast6Input",get:function(){var e,t;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.utrSwitch)===N.NOT_REQUIRED_LAST6||(null===(t=this.detailsData.data)||void 0===t?void 0:t.utrSwitch)===N.REQUIRED_LAST6}},{key:"isUTRInputRequired",get:function(){var e,t,a;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.utrSwitch)===N.REQUIRED||(null===(t=this.detailsData.data)||void 0===t?void 0:t.utrSwitch)===N.REQUIRED_LAST4||(null===(a=this.detailsData.data)||void 0===a?void 0:a.utrSwitch)===N.REQUIRED_LAST6}},{key:"isShowRemarkInput",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.remarkSwitch)!==E.CLOSE&&this.detailsData.data.status===M.WAIT}},{key:"isRemarkInputRequired",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.remarkSwitch)===E.REQUIRED}},{key:"isTransferCertificateOpen",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.transferCertificateSwitch)!==A.CLOSE}},{key:"isTransferCertificateRequired",get:function(){var e;return(null===(e=this.detailsData.data)||void 0===e?void 0:e.transferCertificateSwitch)===A.VALID}},{key:"confirmTransfer",value:(a=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,o,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,B.QT)(),a=t.t,!this.isShowRealNameInput||this.realName){e.next=4;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.realNameRequired")}),e.abrupt("return");case 4:if(!this.isShowUTRInput){e.next=15;break}if(!this.isUTRInputRequired){e.next=15;break}if(!this.isUTRLast4Input||4===this.utr.length){e.next=9;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.details.UTRToast",{num:4})}),e.abrupt("return");case 9:if(!this.isUTRLast6Input||6===this.utr.length){e.next=12;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.details.UTRToast",{num:6})}),e.abrupt("return");case 12:if(this.utr&&!(this.utr.length<4)){e.next=15;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.details.UTRPlaceholder")}),e.abrupt("return");case 15:if(!this.isShowRemarkInput||!this.isRemarkInputRequired||this.remark){e.next=18;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.details.transferRemkToast")}),e.abrupt("return");case 18:if(this.loading=!0,!this.isTransferCertificateOpen){e.next=32;break}if(!this.isTransferCertificateRequired||this.transferCertificateData.file){e.next=24;break}return Q.sG.Modal.message({type:"error",content:a("lobby.modal.pay.details.uploadTransferCertificateRequired")}),this.loading=!1,e.abrupt("return");case 24:if(!this.transferCertificateData.file){e.next=32;break}return e.next=27,Rr.uploadImage(this.transferCertificateData.file);case 27:if(r=e.sent){e.next=31;break}return this.loading=!1,e.abrupt("return");case 31:this.transferCertificateData.url=r;case 32:return e.next=34,(0,Pe.Z)((0,Se.Mu)({order_no:this.store.orderNo,name:this.isShowRealNameInput?this.realName:"",utrCode:this.utr,payRemark:this.remark,transferCertificate:this.transferCertificateData.url}));case 34:if(n=e.sent,o=(0,i.Z)(n,1),s=o[0],this.loading=!1,!s){e.next=41;break}return console.error("confirmTransfer error:",s),e.abrupt("return");case 41:return this.utr="",this.remark="",this.$delete(this.detailsMap,this.store.orderNo),e.next=46,this.orderNoListener(!0);case 46:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"handleBackPay",value:function(){this.store.visible=!1,this.store.orderNo=void 0}},{key:"cancelOrder",value:(t=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,o,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!==(t=this.store.orderNo)&&void 0!==t?t:"unknown",this.store.loading=!0,e.next=4,(0,Pe.Z)((0,Se.Sx)({order_no:a}));case 4:if(r=e.sent,n=(0,i.Z)(r,2),o=n[0],s=n[1],!o){e.next=11;break}return console.error("finance transfer cancel error:",o),e.abrupt("return");case 11:s.data.data&&(this.detailsMap[null!=a?a:"unknown"].data=s.data.data),this.store.releaseTableQuery(),this.store.loading=!1;case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"goToWallet",value:function(e){(0,Ce.MI)(e)}},{key:"lockUTR",value:function(e){var t=e.target;this.utr=t.value.replace(/[\W]/g,"")}},{key:"doObfuscator",value:function(e){var t=e.length;return new Array(t).fill("*").join("")}},{key:"changeCardPassVisible",value:function(){this.visibleCardPass=!this.visibleCardPass}},{key:"renderStatusIconArea",get:function(){var e,t,a,r=this.$createElement,n=(0,B.QT)().t,o=null!==(e=this.detailsData.data)&&void 0!==e?e:{},s=ye.getColor(null==o?void 0:o.status),l=(0,i.Z)(s,2),c=l[0],u=l[1],d=ye.getStatusIconByIconType(null!==(t=null==o?void 0:o.status)&&void 0!==t?t:0),p=(0,z.h)().getCurrencyInfoByCode(null==o?void 0:o.payCurrency),m=null==p?void 0:p.currencySign,h="VND"===o.payCurrency?"".concat(W.Z.autoAddTwoZero(null==o?void 0:o.channelAmount)).concat(m):"".concat(m).concat(W.Z.autoAddTwoZero(null==o?void 0:o.channelAmount));(null==p?void 0:p.currencyType)===g.Tl.CRYPTO&&(h="".concat(W.Z.autoAddTwoZero(null==o?void 0:o.channelAmount),"<span>").concat(null==o?void 0:o.payCurrency,"</span>"));var y=(0,W.o)(null!==(a=null==o?void 0:o.amount)&&void 0!==a?a:"",{symbol:""}),v=(this.isWeb?70:110)/d.width;return r("div",{class:Lr},[r("div",{class:[Mr,c]},[r("icon-sprite",{attrs:{scale:v,sprite:d}})]),r("p",{class:[Dr,u]},[o.status_name]),r("p",{class:[Or]},[r("span",{domProps:{innerHTML:h}}),r(b.RK,{class:pn,attrs:{text:o.channelAmount}})]),function(){var e,t=(0,z.h)().getCurrencyInfoByCode(null==o?void 0:o.memberCurrency),a=1!==(null==t?void 0:t.gameRate),i=o.payCurrency!==o.memberCurrency&&!!o.exchangeRate&&1!==o.exchangeRate,s=null!=o&&o.currencyRate?"".concat(n("lobby.modal.pay.rate"),"  ").concat(null==o?void 0:o.currencyRate," ,"):null;if(!a&&i)return r("div",{class:Fr},[s," ",n("lobby.modal.pay.title2"),r("span",["".concat(t.currencySign).concat(y)])]);if(!a&&i)return null;if(a&&!i)return r("div",{class:Ur},[r("p",[W.Z.getGameRateProportion(null!==(e=null==t?void 0:t.currencySign)&&void 0!==e?e:"CNY",null==t?void 0:t.gameRate),", ",n("lobby.modal.pay.title2"),r("span",[y])])]);if(a&&i){var l,c="VND"===o.memberCurrency;return r("div",{class:Ur},[r("p",[s," ≈",c?null:null==t?void 0:t.currencySign,W.Z.formatMoney(W.Z.times(+o.channelAmount*o.exchangeRate),o.memberCurrency),c?null==t?void 0:t.currencySign:null]),r("p",[W.Z.getGameRateProportion(null!==(l=null==t?void 0:t.currencySign)&&void 0!==l?l:"CNY",null==t?void 0:t.gameRate),","," ",n("lobby.modal.pay.title2"),r("span",[y])])])}}()])}},{key:"renderFeeArea",get:function(){var e,t=this.$createElement,a=(0,B.QT)().t,r=null!==(e=this.detailsData.data)&&void 0!==e?e:{};if(this.isOnlinePay&&this.isHasFee){var n=(0,W.o)(Number(null==r?void 0:r.amount)-Number(r.realFee),{symbol:""});return t("ul",{class:[Wr,this.isSIMCard?jr:Jr]},[t("li",[t("span",[a("lobby.modal.pay.feeRate")]),t("span",[r.feeRate])]),t("li",[t("span",[a("lobby.modal.pay.fee")]),t("span",[(0,W.o)(r.fee)])]),t("li",[t("span",[a("lobby.modal.pay.deduction")]),t("span",[(0,W.o)(r.reduceFee)])]),t("li",[t("span",[a("lobby.modal.pay.realFee")]),t("span",[(0,W.o)(r.realFee)])]),t("li",{class:Xr},[t("span",[a("lobby.modal.pay.realScore")]),t("span",[(0,W.o)(n)])])])}}},{key:"renderSIMCardArea",get:function(){var e,t,a,r,n=this.$createElement,o=(0,B.QT)().t,i=null!==(e=this.detailsData.data)&&void 0!==e?e:{};if(this.isOnlinePay&&this.isSIMCard)return[n("ul",{class:[Wr,jr]},[n("li",[n("span",[o("lobby.modal.pay.combination.cardNo")]),n("span",{class:Gr},[i.cardNumber,n(b.RK,{class:pn,attrs:{text:null!==(t=i.cardNumber)&&void 0!==t?t:""}})])]),n("li",[n("span",{on:{click:this.changeCardPassVisible},class:(0,v.Z)({},Gr,!0)},[o("lobby.modal.pay.combination.cardPass"),this.visibleCardPass?n("icon-sprite",{class:[Vr],attrs:{sprite:wr()}}):n("icon-sprite",{class:[Vr],attrs:{sprite:Er()}})]),n("span",{class:Gr},[this.visibleCardPass?i.cardPassword:this.doObfuscator(i.cardPassword),n(b.RK,{class:pn,attrs:{text:null!==(a=i.cardPassword)&&void 0!==a?a:""}})])]),n("li",[n("span",[o("lobby.modal.pay.combination.networkMerch")]),n("span",{class:Gr},[i.networkMerch,n(b.RK,{class:pn,attrs:{text:null!==(r=i.networkMerch)&&void 0!==r?r:""}})])])]),this.renderFeeArea]}},{key:"renderOnlineArea",get:function(){var e,t=this,a=this.$createElement,r=(0,B.QT)().t,n=null!==(e=this.detailsData.data)&&void 0!==e?e:{};if(this.isOnlinePay)return[a("ul",{class:Wr},[a("li",[a("span",[r("lobby.modal.pay.details.transaction")]),a("span",[n.order_type_name])]),a("li",[a("span",{class:(0,v.Z)({},Gr,!1)},[r("lobby.modal.pay.details.method")]),a("span",{class:(0,v.Z)({},Gr,!1)},[n.payment_name])]),a("li",[a("span",{class:(0,v.Z)({},Gr,!1)},[r("lobby.modal.pay.details.channel")]),a("span",{class:(0,v.Z)({},Gr,!1)},[n.bank_name])]),a("li",[a("span",[r("lobby.modal.pay.details.createTime")]),a("span",[V.ZP.format(n.createtime)])]),n.status===M.SUCCESS&&a("li",[a("span",[r("lobby.modal.pay.details.payedTime")]),a("span",[V.ZP.format(n.payedtime)])]),a("li",[a("span",[r("lobby.modal.pay.details.orderNo")]),a("span",{class:Gr},[n.order_no,a(b.RK,{class:pn,attrs:{text:n.order_no}})])]),n.frontRemark&&a("li",[a("span",{class:Br},[r("lobby.modal.pay.details.frontRemark")]),a("span",{class:Gr},[n.frontRemark,a(b.RK,{class:pn,attrs:{text:n.frontRemark}})])])]),n.status===M.WAIT&&this.isWallet&&a("div",{class:mn},[a("div",{class:[Ir.Z.CssClassName.Lobby.Color.Red,hn]},[r("lobby.modal.pay.details.noWalletRemark")]),a(G.zx.Tsx,{on:{click:function(){return t.goToWallet(n.wallet_url)}},attrs:{type:"finance"},class:[ln]},[a("p",[r("lobby.modal.pay.details.goToWallet")])])])]}},{key:"renderTransferArea",get:function(){var e,t,a,r=this,n=this.$createElement,s=null!==(e=this.detailsData.data)&&void 0!==e?e:{};if(this.isTransfer){var u=(0,B.QT)().t,d=(null===(t=(0,z.h)().getCurrencyInfoByCode(null==s?void 0:s.payCurrency))||void 0===t?void 0:t.currencyType)===g.Tl.CRYPTO,p=+(null==s?void 0:s.payicon)===R.PIX,m=+(null==s?void 0:s.payicon)===R.YH,h=ye.getIconByRechargeIconType(+(null==s?void 0:s.payicon)),y=ye.getIconByRechargeCurrencyCode(null==s?void 0:s.payCurrency),f=d?y:h,C=n("my-img",{attrs:{src:s.icon_url,width:36,height:36},class:yn}),k=s.icon_url?C:n("icon-sprite",{class:yn,attrs:{sprite:f,scale:36/(null!==(a=f.width)&&void 0!==a?a:36)}});return[n("ul",{class:Wr},[!d&&n("li",[n("span",[u("lobby.modal.pay.details.name")]),n("span",{class:Gr},[s.bank_user,n(b.RK,{class:pn,attrs:{text:s.bank_user}})])]),p&&n("li",[n("span",[u("lobby.modal.pay.details.cpf")]),n("span",{class:Gr},[s.extendValue,n(b.RK,{class:pn,attrs:{text:s.extendValue}})])]),!d&&n("li",[n("span",[u("lobby.modal.pay.details.no")]),n("span",{class:Gr},[s.bank_no,n(b.RK,{class:pn,attrs:{text:s.bank_no}})])]),p&&n("li",[n("span",[u("lobby.modal.pay.details.accountType")]),n("span",{class:Gr},[s.bank_code,n(b.RK,{class:pn,attrs:{text:s.bank_code}})])]),!d&&n("li",[n("span",{class:Gr},[u("lobby.modal.pay.details.bankName")]),n("span",{class:Gr},[k,s.bank_name,n(b.RK,{class:pn,attrs:{text:s.bank_name}})])]),m&&s.extendName&&s.extendValue&&n("li",[n("span",[s.extendName]),n("span",[s.extendValue])]),!d&&s.qrcode_url&&n("li",{class:qr},[n("span",[u("lobby.modal.pay.details.qrCode")]),n("my-img",{class:Hr,attrs:{width:150,height:150,src:s.qrcode_url}})]),n("li",[n("span",{class:(0,v.Z)({},Gr,d)},[u("lobby.modal.pay.details.method")]),n("span",{class:(0,v.Z)({},Gr,d)},[d&&k,s.payment_name])]),d&&n("li",[n("span",{class:Qr},[u("lobby.modal.pay.details.usdtType")]),n("span",[s.payCurrency])]),d&&n("li",[n("span",{class:Qr},[u("lobby.modal.pay.details.proto")]),n("span",[s.cryptoProtocol])]),d&&n("li",{class:Yr},[n("span",{class:Kr},[u("lobby.modal.pay.details.address")]),n("span",{class:[zr,Gr]},[s.bank_no,n(b.RK,{class:pn,attrs:{text:s.bank_no}})])]),d&&s.bank_no&&s.qrcode_url&&n("li",{class:qr},[n("span",[u("lobby.modal.pay.details.qrCode")]),n("my-img",{class:Hr,attrs:{width:150,height:150,src:s.qrcode_url}})]),n("li",[n("span",[u("lobby.modal.pay.details.createTime")]),n("span",[V.ZP.format(s.createtime)])]),n("li",[n("span",[u("lobby.modal.pay.details.orderNo")]),n("span",{class:Gr},[s.order_no,n(b.RK,{class:pn,attrs:{text:s.order_no}})])]),s.postscript&&n("li",[n("span",[u("lobby.modal.pay.details.transferRemark")]),n("span",{class:Gr},[s.postscript,n(b.RK,{class:pn,attrs:{text:s.postscript}})])]),s.frontRemark&&n("li",[n("span",{class:Br},[u("lobby.modal.pay.details.frontRemark")]),n("span",{class:Gr},[s.frontRemark,n(b.RK,{class:pn,attrs:{text:s.frontRemark}})])])]),this.isShowRealNameInput&&n("div",{class:tn},[n("p",[n("span",{class:rn},[u("lobby.modal.pay.realNameRemark")])]),n(Dt.Z,{attrs:(0,o.Z)((0,o.Z)({preIcon:ta(),isRequire:!0,allowClear:!0},{maxLength:100}),{},{disabled:!!this.store.globalRealName&&this.isRealNameInputDisable,placeholder:u("lobby.modal.pay.details.placeHolder2")}),class:$r,model:{value:r.realName,callback:function(e){r.realName=e}}})]),this.isShowUTRInput&&n("div",{class:tn},[n("p",[n("span",{class:rn},[this.isUTRLast4Input?u("lobby.modal.pay.details.UTRRemarkLast4"):this.isUTRLast6Input?u("lobby.modal.pay.details.UTRRemarkLast6"):u("lobby.modal.pay.details.UTRRemark")])]),n(Lt.Z,{attrs:{preIcon:Pr(),allowClear:!0,maxLength:this.isUTRLast4Input?4:this.isUTRLast6Input?6:100,isRequire:this.isUTRInputRequired,placeholder:this.isUTRLast4Input?u("lobby.modal.pay.details.UTRPlaceholderLast4"):this.isUTRLast6Input?u("lobby.modal.pay.details.UTRPlaceholderLast6"):u("lobby.modal.pay.details.UTRPlaceholder")},class:$r,on:{change:this.lockUTR},model:{value:r.utr,callback:function(e){r.utr=e}}})]),this.isShowRemarkInput&&n("div",{class:tn},[n("p",[n("span",{class:rn},[u("lobby.modal.pay.details.transferRemkTip")])]),n(Lt.Z,{attrs:{preIcon:Pr(),isRequire:this.isRemarkInputRequired,allowClear:!0,maxLength:100,placeholder:u("lobby.modal.pay.details.transferRemkPlaceholder")},class:$r,model:{value:r.remark,callback:function(e){r.remark=e}}})]),this.isTransferCertificateOpen&&n("div",{class:tn},[n("p",[n("span",[u("lobby.modal.pay.details.uploadTransferCertificate"),this.isTransferCertificateRequired&&n("span",{class:an},["*"])])]),n("my-img",{directives:[{name:"show",value:s.transferCertificate}],attrs:{src:s.transferCertificate,width:125,height:125}}),n("div",{class:nn},[n(Zr.ZP,{on:{change:function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var a,n,o,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.handleUpload(t);case 2:if(a=e.sent,n=(0,i.Z)(a,2),o=n[0],s=n[1],o&&s){e.next=8;break}return e.abrupt("return");case 8:r.transferCertificateData.file=o,r.transferCertificateData.previewUrl=s;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},directives:[{name:"show",value:!s.transferCertificate}],attrs:{supportTypeList:["image/png","image/jpeg","image/jpg"],btnCenter:!0,previewUrl:this.transferCertificateData.previewUrl,text:u("lobby.finance.withdraw.add.retry").toString(),uploadShape:this.transferCertificateData.previewUrl?Zr.x.BUTTON:Zr.x.ICON}},[n("div",{class:on,slot:"btnText"},[n("p",[this.transferCertificateData.previewUrl?u("lobby.modal.pay.details.uploadTransferCertificateRemark4"):u("lobby.modal.pay.details.uploadTransferCertificateRemark1")]),n("p",[u("lobby.modal.pay.details.uploadTransferCertificateRemark2")]),n("p",{directives:[{name:"show",value:!this.transferCertificateData.previewUrl}]},[u("lobby.modal.pay.details.uploadTransferCertificateRemark3")])])])])]),d&&n("ul",{class:en},[n("li",[u("lobby.modal.pay.details.usdtRemark1")]),n("li",[u("lobby.modal.pay.details.usdtRemark2")]),n("li",[u("lobby.modal.pay.details.usdtRemark3")])]),s.status===M.WAIT&&n("div",{class:sn},[n(G.zx.Tsx,{on:{click:this.cancelOrder},attrs:{type:"default"},class:[un,ln]},[n("p",[u("lobby.modal.pay.details.cancel")])]),n(G.zx.Tsx,{attrs:{disabled:!!this.detailsData.timer,type:"primary"},on:{click:this.confirmTransfer},class:ln},[n("p",[u("lobby.modal.pay.details.confirm")]),this.detailsData.timer&&n("p",{class:cn},["(",u("lobby.modal.pay.details.confirmRemark",{seconds:this.detailsData.count})+" "])])]),(s.status===M.NEED_TODO||s.status===M.NEED_TOW||s.status===M.CONFIRMED)&&n("div",{class:sn},[n(G.zx.Tsx,{attrs:{disabled:!0,type:"default"},class:[ln,dn]},[n("p",[u("lobby.modal.pay.details.auditBtn")])]),n(G.zx.Tsx,{attrs:{type:"primary"},on:{click:this.handleBackPay},class:ln},[n("p",[u("lobby.modal.pay.details.toPayBtn")])])])]}}},{key:"isWeb",get:function(){return(0,z.h)().isWeb}},{key:"modalCondition",get:function(){return{w:this.isWeb?V.ZP.px2rem(600):V.ZP.px2rem(710)}}},{key:"render",value:function(){var e,t=this,a=arguments[0],r=(0,B.QT)(),n=r.t,o=this.detailsMap[null!==(e=this.store.orderNo)&&void 0!==e?e:"unknown"],i=null==o?void 0:o.data;return a("div",[a(G.u_.Tsx,{class:Tr,attrs:{centered:!0,maskClosable:!1,footer:null,width:this.modalCondition.w,title:n("lobby.modal.pay.details.title"),afterClose:this.resetData},model:{value:t.store.visible,callback:function(e){t.$set(t.store,"visible",e)}}},[a(b.gE,{attrs:{spinning:this.loading}},[i?a("section",{class:Ar},[this.renderStatusIconArea,this.renderSIMCardArea,this.renderOnlineArea,!this.isSIMCard&&this.renderFeeArea,this.renderTransferArea]):a("section",{class:Ar})])])])}}]),u}(C.XY),(0,f.Z)(pt.prototype,"orderNoListener",[ct],Object.getOwnPropertyDescriptor(pt.prototype,"orderNoListener"),pt.prototype),(0,f.Z)(pt.prototype,"cancelOrder",[De.WY,ut],Object.getOwnPropertyDescriptor(pt.prototype,"cancelOrder"),pt.prototype),dt=pt))||dt),fn=(0,C.wA)({name:"TransferComp"})(mt=function(e){(0,h.Z)(r,e);var t,a=(0,y.Z)(r);function r(){var e,t,n,o,i;(0,d.Z)(this,r);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=a.call.apply(a,[this].concat(l)),(0,v.Z)((0,m.Z)(i),"cachePlatformKey",Q.CM.CacheNameSpace.FinancePayTransferPlatformExpand(null!==(e=null===(t=(0,z.h)().userInfos)||void 0===t?void 0:t.username)&&void 0!==e?e:"")),(0,v.Z)((0,m.Z)(i),"cacheChannelKey",Q.CM.CacheNameSpace.FinancePayTransferChannelExpand(null!==(n=null===(o=(0,z.h)().userInfos)||void 0===o?void 0:o.username)&&void 0!==n?n:"")),i}return(0,p.Z)(r,[{key:"needExpandBtn",get:function(){return this.store.transferChannelList.length>4}},{key:"renderList",get:function(){return!this.isChannelExpand&&this.needExpandBtn?this.store.transferChannelList.slice(0,4):this.store.transferChannelList}},{key:"renderTransferPayChannelList",get:function(){var e=this,t=this.$createElement;if(this.isMerged||0===this.store.transferChannelList.length)return[t("div")];var a=[t("ul",{class:ua,attrs:{"data-no-border":this.needExpandBtn}},[this.renderList.map((function(a,r){var n,o,i,s,l=(null===(n=(0,z.h)().getCurrencyInfoByCode(a.payCurrency))||void 0===n?void 0:n.currencyType)===g.Tl.CRYPTO,c=!!a.min_recharge_limit&&!!a.max_recharge_limit&&!l,u=ye.isUPIChannel(a.paymentid);return t("li",{key:r,on:{click:function(){return e.handleClickPlatformMethodCard(a,r)}},class:(o={},(0,v.Z)(o,la,e.activeMethodIndex===r),(0,v.Z)(o,pa,!0),o)},[t("p",{class:da},[a.bankDisplayName||a.bank_name,"(",u?e.t("lobby.modal.pay.firstNo",{no:null===(i=a.bank_no)||void 0===i?void 0:i.slice(0,4)}):e.t("lobby.modal.pay.lastNo",{no:null===(s=a.bank_no)||void 0===s?void 0:s.slice(-4)}),")"]),c&&t("p",{class:ma},[e.t("lobby.modal.pay.channelLimit",{a:a.min_recharge_limit,b:a.max_recharge_limit})]),e.activeMethodIndex===r&&t(Ot.Z),a.chargeRateConfig&&t(Ft.Z,{attrs:{text:e.t("lobby.modal.pay.give",{num:a.chargeRateConfig.chargeRate}),top:V.ZP.px2rem("-18px"),charge:a.chargeRateConfig.chargeRate}})])}))])];return this.needExpandBtn&&a.push(t("div",{on:{click:function(){return e.setChannelExpand(!e.isChannelExpand)}},class:ca},[this.isChannelExpand?t("p",[t("span",[this.t("lobby.modal.pay.putAway")]),t("span",{class:Ga})]):t("p",[t("span",[this.t("lobby.modal.pay.expand")]),t("span",{class:Ba})])])),a}},{key:"submit",value:(t=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,o,s,c,u,d,p,m,h,y;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.store.activePlatformMethod,s=this.store.activePlatformCategory,c=this.store.getConditionInfo.showRealNameInput,u=this.store.isMerged,this.store.loading=!0,e.next=7,(0,Pe.Z)((0,Se.CL)({paymentid:u?null!==(t=null==s?void 0:s.paymentid)&&void 0!==t?t:0:o.paymentid,receive_id:u?0:o.id,money:this.store.money,payCurrency:this.store.isScoreMode?"":this.store.activeCurrencyCode,name:c?this.store.validateForm.realName:"",payAddress:this.store.validateForm.walletAddress,mergeStatus:u?1:0}));case 7:if(d=e.sent,p=(0,i.Z)(d,2),m=p[0],h=p[1],this.store.loading=!1,!m){e.next=15;break}return console.error("transfer error:",m),e.abrupt("return");case 15:(y=null===(a=h.data.data)||void 0===a?void 0:a.order_no)&&this.store.openDetailsModal(y,null!==(r=null===(n=h.data.data)||void 0===n?void 0:n.payOrderCountdown)&&void 0!==r?r:0),(0,z.h)().getRewardBindData(!1,[g.sF.FirstDeposit]),this.postprocessSuccess();case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=arguments[0];return e("div",{class:na},[[this.renderPlatformCardList,this.renderTransferPayChannelList,this.renderPlatformPayMethodPayCondition]])}}]),r}((0,C.Wr)(ja)))||mt,bn=(ht=(0,C.wA)({name:"PayModal"}),yt=(0,C.Rl)(),vt=(0,C.Rl)(),ft=(0,C.Rl)(),bt=(0,C.Rl)(),Ct=(0,C.RL)("mainStore.vipInfos",{deep:!0}),gt=(0,De.WY)(),kt=(0,De.K4)(800),ht((Zt=function(e){(0,h.Z)(Z,e);var t,a,n,f,C,k,R=(0,y.Z)(Z);function Z(){var e;(0,d.Z)(this,Z);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=R.call.apply(R,[this].concat(a)),(0,v.Z)((0,m.Z)(e),"autoresize",!0),(0,v.Z)((0,m.Z)(e),"mainStore",(0,z.h)()),(0,v.Z)((0,m.Z)(e),"store",Ae()),(0,v.Z)((0,m.Z)(e),"state",{submitLoading:!1}),(0,v.Z)((0,m.Z)(e),"t",(0,B.QT)().t),(0,v.Z)((0,m.Z)(e),"accountTotal",0),(0,u.Z)((0,m.Z)(e),"scrollContainer",It,(0,m.Z)(e)),(0,u.Z)((0,m.Z)(e),"onlinePayComp",_t,(0,m.Z)(e)),(0,u.Z)((0,m.Z)(e),"cryptoPayComp",Nt,(0,m.Z)(e)),(0,u.Z)((0,m.Z)(e),"transferComp",Et,(0,m.Z)(e)),e}return(0,p.Z)(Z,[{key:"updateRealName",value:function(){var e;this.store.validateForm.realName=null===(e=this.mainStore.vipInfos)||void 0===e?void 0:e.realname}},{key:"open",value:(k=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.baseOpen();case 2:return e.next=4,Promise.all([this.store.initPayConfig(),this.mainStore.getRewardBindData()]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"resetAllCompIndex",value:function(){var e,t,a;null===(e=this.transferComp)||void 0===e||e.resetAllIndex(),null===(t=this.onlinePayComp)||void 0===t||t.resetAllIndex(),null===(a=this.cryptoPayComp)||void 0===a||a.resetAllIndex()}},{key:"afterClose",value:function(){this.resetAllCompIndex()}},{key:"defaultTabsConfig",get:function(){var e=this.$createElement;if(0===this.store.rootCategoryList.length)return[];var t,a=[],n=this.isWeb?"-14px":"-2px",o=(this.isWeb,"15px"),i=(0,s.Z)(this.store.rootCategoryList);try{for(i.s();!(t=i.n()).done;){var l=t.value;a.push({label:e("div",{class:[se,le]},[l.name,e(Ft.Z,{attrs:{charge:l.charge_rate,top:V.ZP.px2rem(n),left:V.ZP.px2rem(o),text:this.t("lobby.modal.pay.give",{num:"".concat(l.charge_rate)})}})]),value:l.type})}}catch(c){i.e(c)}finally{i.f()}return a.concat({label:e("div",{class:le},[this.t("lobby.modal.pay.record")]),value:r.ORDER_LIST})}},{key:"queryAccountTotal",value:(C=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,o,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Pe.Z)((0,U.YA)({time:"0",platform_id:"0",cate_id:"0",type:"0"}));case 2:r=e.sent,n=(0,i.Z)(r,2),o=n[0],s=n[1],o&&console.error("pay modal [queryAccountTotal] error:",o),this.accountTotal=null!==(t=null==s||null===(a=s.data.data)||void 0===a?void 0:a.balance)&&void 0!==t?t:0;case 8:case"end":return e.stop()}}),e,this)}))),function(){return C.apply(this,arguments)})},{key:"renderTabsFooter",get:function(){var e=this.$createElement;return e("span",{class:ee},[e("span",[this.t("lobby.modal.pay.accountTotal")]),e("span",{class:te},[(0,W.o)(this.accountTotal)])])}},{key:"renderFooter",get:function(){var e=this.$createElement,t=this.state.submitLoading;return e(G.zx.Tsx,{attrs:{type:"primary",loading:t},class:ie,on:{click:this.switchSubmit}},[e(b.L4,{attrs:{selfKey:!0,rewardId:g.sF.FirstDeposit,right:V.ZP.px2rem(0),top:V.ZP.px2rem("-18px")}}),this.t("lobby.modal.pay.payBtn")])}},{key:"captchaValidate",value:(f=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,r,n,i,s,c=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.loading=!0,t=(0,z.h)(),!Q.sG.User.checkGeetestRestricted()){e.next=5;break}return this.store.loading=!1,e.abrupt("return",Promise.reject());case 5:return a=t.systemInfos,e.next=8,Q.sG.User.initGeetest({geetestConfig:{captchaId:(null==a?void 0:a.geetest_captcha_id.recharge)||""}});case 8:return r=e.sent,e.next=11,new Promise((function(e,a){null==r||r.onSuccess((function(){e(r.getValidate())})).onClose((function(){r.destroy(),c.store.loading=!1,a()})).onError((function(e){if(r.destroy(),c.store.loading=!1,a(),"error_12"==e.error_code||"error_01"==e.error_code){var n=Q.sG.Site.getTime();t.$patch({geetestRestrictedTime:n}),Q.sG.User.checkGeetestRestricted()}}))}));case 11:if(!(n=e.sent)){e.next=18;break}return e.next=15,Q.sG.User.validateGeetest((0,o.Z)({account:null!==(i=null===(s=t.userInfos)||void 0===s?void 0:s.username.toString())&&void 0!==i?i:""},n));case 15:return e.abrupt("return",!0);case 18:return this.store.loading=!1,e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"errorToast",value:function(e){Q.sG.Modal.message({type:"error",content:e})}},{key:"switchSubmit",value:(n=(0,c.Z)((0,l.Z)().mark((function e(){var t,a,n,o,s,c,u,d,p,m,h,y,v,f,b=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.store.getConditionInfo,n=a.payWalletAddressValid,o=a.showRealNameInput,s=a.payCaptchaValidateSwitch,c=a.payEmailValid,u=a.payPhoneValid,d=a.isCombination,p=this.onlinePayComp,e.t0=this.store.rootCategoryIndex,e.next=e.t0===r.ONLINE?5:e.t0===r.CRYPTO?7:e.t0===r.TRANSFER?9:11;break;case 5:return p=this.onlinePayComp,e.abrupt("break",11);case 7:return p=this.cryptoPayComp,e.abrupt("break",11);case 9:return p=this.transferComp,e.abrupt("break",11);case 11:if(this.store.money){e.next=14;break}return this.errorToast(this.t("lobby.modal.pay.toast.moneyNotNull").toString()),e.abrupt("return");case 14:if(!this.store.checkMoneyFalse){e.next=17;break}return this.errorToast(this.t("lobby.modal.pay.toast.moneyError",{a:this.store.getPayLimit.min,b:this.store.getPayLimit.max}).toString()),e.abrupt("return");case 17:if(!d){e.next=25;break}return e.next=20,null===(m=p)||void 0===m?void 0:m.validateFormRef();case 20:if(e.sent){e.next=23;break}return e.abrupt("return");case 23:e.next=37;break;case 25:if(!o||!this.store.money||this.store.validateForm.realName){e.next=28;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.realNameRequired")}),e.abrupt("return");case 28:if(!n||!this.store.money||this.store.validateForm.walletAddress){e.next=31;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.walletAddressRequired")}),e.abrupt("return");case 31:if(!u||!this.store.money||this.store.validateForm.phone){e.next=34;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.personalPhoneInfoRequired")}),e.abrupt("return");case 34:if(!c||!this.store.money||this.store.validateForm.email){e.next=37;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.personalEmailInfoRequired")}),e.abrupt("return");case 37:if(!(this.store.money&&this.store.validateForm.email&&c)||Ut.Z.isEmail(this.store.validateForm.email)){e.next=40;break}return Q.sG.Modal.message({type:"error",content:this.$t("lobby.modal.pay.personalEmailInfoError")}),e.abrupt("return");case 40:if(!s){e.next=50;break}return e.next=43,(0,Pe.Z)(this.captchaValidate());case 43:if(h=e.sent,y=(0,i.Z)(h,2),v=y[0],f=y[1],!v&&f){e.next=50;break}return this.store.loading=!1,e.abrupt("return");case 50:return(0,V.C1)("rechargeClick"),this.setState({submitLoading:!0}),this.store.loading=!0,e.next=55,null===(t=p)||void 0===t?void 0:t.submit();case 55:setTimeout((function(){b.store.loading=!1,b.setState({submitLoading:!1})}),3e3);case 56:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleTrigger",value:(a=(0,c.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.loading=!0,this.resetAllCompIndex(),this.store.$patch({activePlatformCategory:void 0,activePlatformMethod:void 0,money:void 0}),e.next=5,this.store.getPayType(this.store.rootCategoryIndex);case 5:null===(t=this.scrollContainer)||void 0===t||t.scrollTo(0,0),this.store.loading=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"sectionWrapper",value:function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.$createElement,o=r?e:n("my-scroll",{attrs:{direction:"y"},on:{scroll:function(){Q.xN.dispatch({type:"ANTD_POPUP_INVISIBLE"})}}},[e,t&&n("div",{class:oe},[t])]);return n("section",{class:ae},[n("div",{class:(a={},(0,v.Z)(a,re,!0),(0,v.Z)(a,ne,!t),a),ref:"scrollContainer",attrs:{"no-bg":r}},[o])])}},{key:"handleCurrencyChange",value:(t=(0,c.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.store.payCurrencyCategory){e.next=2;break}return e.abrupt("return");case 2:return this.store.loading=!0,this.store.payCurrencyCategory=t,e.next=6,Promise.all([this.store.initPayConfig()]);case 6:return e.next=8,this.handleTrigger();case 8:this.store.loading=!1;case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"renderTitle",get:function(){var e,t,a=this.$createElement,r=this.t;[""].concat(null!==(e=null===(t=this.store.getPayPlatform)||void 0===t?void 0:t.payCurrency)&&void 0!==e?e:[]),ye.getCurrencyIcon.bind(this);return a("div",{class:J},[!1,a("div",[r("lobby.modal.pay.title")])])}},{key:"isWeb",get:function(){return this.mainStore.isWeb}},{key:"render",value:function(){var e=this,t=arguments[0];return this.renderModal({modalConfig:{class:[j],props:{width:this.isWeb?V.ZP.px2rem(600):"100vw",title:this.renderTitle},isFullScreen:!0},renderContent:function(){return t(b.gE,{attrs:{spinning:e.store.loading}},[t("section",{class:X},[t(b.EH,{attrs:{persistedActiveName:"",renderList:e.defaultTabsConfig,itemHeight:e.isWeb?40:72,isScrollX:!0,itemListWrapperClassName:$},on:{trigger:e.handleTrigger},scopedSlots:{default:function(a){var n=a.value;return function(){switch(n){case r.ONLINE:return e.sectionWrapper(t(er,{ref:"onlinePayComp"}),e.renderFooter);case r.TRANSFER:return e.sectionWrapper(t(fn,{ref:"transferComp"}),e.renderFooter);case r.CRYPTO:return e.sectionWrapper(t(er,{ref:"cryptoPayComp"}),e.renderFooter);case r.ARTIFICIAL:return e.sectionWrapper(t(Le));case r.ORDER_LIST:return e.sectionWrapper(t(gr),void 0,!0)}}()}},model:{value:e.store.rootCategoryIndex,callback:function(t){e.$set(e.store,"rootCategoryIndex",t)}}}),t(vn)])])}})}}]),Z}(Me.Z),It=(0,f.Z)(Zt.prototype,"scrollContainer",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=(0,f.Z)(Zt.prototype,"onlinePayComp",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=(0,f.Z)(Zt.prototype,"cryptoPayComp",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=(0,f.Z)(Zt.prototype,"transferComp",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,f.Z)(Zt.prototype,"updateRealName",[Ct],Object.getOwnPropertyDescriptor(Zt.prototype,"updateRealName"),Zt.prototype),(0,f.Z)(Zt.prototype,"switchSubmit",[gt,kt],Object.getOwnPropertyDescriptor(Zt.prototype,"switchSubmit"),Zt.prototype),Rt=Zt))||Rt)},19392:function(e,t,a){"use strict";e.exports=a.p+"assets/mask.80a20030e6e9a2b3ca71.png"},31210:function(e,t,a){"use strict";e.exports=a.p+"assets/tips_border.2831b51c5c02d668b2f4.png"},35379:function(e,t,a){"use strict";e.exports=a.p+"assets/tips_no_border.97ca6fd784f77bcbc2bc.png"}}]);