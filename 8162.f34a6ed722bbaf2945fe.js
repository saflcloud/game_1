(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[8162],{94281:function(t){t.exports={id:"icon_dtfl_2zh_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_2zh_0--sprite",toString:function(){return this.url}}},58858:function(t){t.exports={id:"icon_dtfl_by_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_by_0--sprite",toString:function(){return this.url}}},74716:function(t){t.exports={id:"icon_dtfl_cp_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_cp_0--sprite",toString:function(){return this.url}}},59623:function(t){t.exports={id:"icon_dtfl_douji_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_douji_0--sprite",toString:function(){return this.url}}},59528:function(t){t.exports={id:"icon_dtfl_dz_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_dz_0--sprite",toString:function(){return this.url}}},80649:function(t){t.exports={id:"icon_dtfl_qp_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_qp_0--sprite",toString:function(){return this.url}}},72590:function(t){t.exports={id:"icon_dtfl_ty_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_ty_0--sprite",toString:function(){return this.url}}},31955:function(t){t.exports={id:"icon_dtfl_zr_0--sprite-usage",viewBox:"0 0 37 30",url:"/assets/sprite.c10e6e11446a81e9da57.svg#icon_dtfl_zr_0--sprite",toString:function(){return this.url}}},48162:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Qt}});var n,a,s,i,o,c,u,l,d,p,h,g,f,y,v,m,C,Z,b,_,w=r(21797),L=r(92317),k=r(72283),x=r(20793),S=r(30813),A=r(74492),I=r(7903),N=r(36568),P=r.n(N),K=r(22705),E=r(70970),T=r(2813),B=r(3587),O=r(82345),z=r(17360),G=(r(41320),r(50125)),D=(r(92222),r(41539),r(74916),r(64765),r(9653),r(57327),r(26699),r(32023),r(21249),r(38880),r(90825)),Q=function(t){return D.Uh.post({url:"gameapi/getBalanceList",data:t}).then((function(t){return t.data.data}))},j=r(14577),R=r(95306),W=r(90416),q=r(39730),M=r(12322),V=r(42930),H=r(81764),F=r(98292),U=r(71707),Y="UvjmlmS0Wq9ErvaGeuNd",X="UfssWpVOIAiu0UhQpQ3Z",$="D9mcxFu44QrzCk6DFEyL",J="UE_LoPMV8w4ybjMP58jQ",tt="vCQNmDWUCXiiBJVnw0tl",et="ngkIz4ySF5PG2T1tjSZh",rt=2100016,nt=(n=(0,S.wA)({name:"CardList"}),a=(0,S.fI)({required:!0}),n((i=function(t){(0,k.Z)(r,t);var e=(0,x.Z)(r);function r(){var t;(0,w.Z)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a)),(0,B.Z)((0,O.Z)(t),"cardList",o,(0,O.Z)(t)),t}return(0,L.Z)(r,[{key:"render",value:function(){var t=arguments[0],e=(0,F.h)(),r=e.isWeb,n=(0,H.QT)(),a=n.t;return t("ul",{class:Y},[this.cardList.map((function(e,n){return t("li",{class:X,key:n},[t("div",{class:J},[!(null==e||!e.logoImage)&&t("my-img",{attrs:{width:r?30:40,height:r?30:40,src:e.logoImage}}),t("div",{class:et},[e.platformName])]),(null==e?void 0:e.code)===rt?t("div",{class:tt},[a("lobby.finance.center.wallet.updateError")]):t("div",{class:$},[(null==e?void 0:e.balance)||"0.00"])])}))])}}]),r}(S.XY),o=(0,z.Z)(i.prototype,"cardList",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=i))||s),at=r(6013),st=r.n(at),it=r(58858),ot=r.n(it),ct=r(74716),ut=r.n(ct),lt=r(59623),dt=r.n(lt),pt=r(59528),ht=r.n(pt),gt=r(80649),ft=r.n(gt),yt=r(72590),vt=r.n(yt),mt=r(94281),Ct=r.n(mt),Zt=r(31955),bt=r.n(Zt),_t="x4Gdo3z2XXRaHwJMSdgr",wt="QHu_wcHXAamgqri2TfA0",Lt="vivAVq7rc6GCSjBgv90K",kt="ehasgwVEyhFQN_DGjUkC",xt="KJ1_KcAlk9B2IbcdjSJg",St="Un2rCDphabANa4Bx9pdB",At="G9JHenpYWEhrwkyqb33R",It="GhY3q1Ap6NCY_1TN8hz7",Nt="daV6P29LBSJRZ5JRmzrV",Pt="ZaAWGnvFuhPwlBk40od_",Kt="KDlAZHmejJqiCHsB_AwQ",Et="b1QqY3XqFzWf2aPKuhxO",Tt="UD7WL0pEvQFbkZcLhv7K",Bt="NX60sww973QviellOyPw",Ot="VjRjMtbV7dgrmLz6Zgri",zt=r(41800),Gt=(c={},(0,G.Z)(c,M.ck.ALL,Ct()),(0,G.Z)(c,M.ck.CHESS,ft()),(0,G.Z)(c,M.ck.COCKFIGHTING,dt()),(0,G.Z)(c,M.ck.FISH,ot()),(0,G.Z)(c,M.ck.REAL,bt()),(0,G.Z)(c,M.ck.LOTTERY,ut()),(0,G.Z)(c,M.ck.ELECTRONIC,ht()),(0,G.Z)(c,M.ck.SPORTS,vt()),c),Dt=(u=(0,S.wA)({name:"TabList"}),l=(0,S.Rl)(),d=(0,j.WY)(),p=(0,j.K4)(),h=(0,j.WY)(),g=(0,j.K4)(),f=(0,j.WY)(),y=(0,j.Xo)(300),v=(0,j.K4)(),m=(0,S.RL)("store.language",{immediate:!0}),u((Z=function(t){(0,k.Z)(c,t);var e,r,n,a,s,i,o=(0,x.Z)(c);function c(){var t;(0,w.Z)(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=o.call.apply(o,[this].concat(r)),(0,B.Z)((0,O.Z)(t),"scrollDown",b,(0,O.Z)(t)),(0,G.Z)((0,O.Z)(t),"store",(0,F.h)()),(0,G.Z)((0,O.Z)(t),"state",{menuActiveKey:0,loading:!1,searchValue:"",current:1,totalPage:1,searchLoading:!1,submitLoading:!1,cardList:[]}),t}return(0,L.Z)(c,[{key:"updateCurrency",value:(i=(0,T.Z)((0,E.Z)().mark((function t(){var e,r;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,F.h)(),r=e.updatePrize,t.next=3,r();case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"refreshGold",value:(s=(0,T.Z)((0,E.Z)().mark((function t(){var e,r,n,a,s,i,o,c=this;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,H.QT)(),r=e.t,this.setState({submitLoading:!0}),t.next=4,(0,zt.Z)(D.Uh.post({url:"gameapi/RefreshGold",data:{os_type:3}}).then((function(t){return t.data.data})).finally((function(){c.setState({submitLoading:!1})})));case 4:n=t.sent,a=(0,K.Z)(n,2),s=a[0],i=a[1],!s&&null!=i&&i.game_gold?(this.setState({cardList:[]}),this.updateCurrency(),this.fetchCardList({current:1,categoryId:this.state.menuActiveKey,platformName:this.state.searchValue},!1,!1),D.sG.Modal.message({type:"success",content:r("lobby.finance.center.wallet.refreshGoldSuccessText")})):(null==(o=null==s?void 0:s.data)?void 0:o.code)===D.CM.ServiceCode.CENTER_WALLET_NOT_BALANCE&&D.sG.Modal.message({type:"warning",content:null==o?void 0:o.msg});case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"renderInfo",value:function(){var t=this.$createElement,e=(0,H.QT)().t,r=(0,F.h)(),n=r.userInfos,a=r.isFetchingPrize,s=n.game_gold,i=void 0===s?0:s;return t("section",{class:At},[t("div",[t("section",{class:It},[t("p",[" ",e("lobby.finance.center.wallet.balance")]),t("count-to",{class:Nt,attrs:{value:+i}}),t(R.JO.Tsx,{on:{click:this.updateCurrency},class:[Pt,[(0,G.Z)({},D.CM.CssClassName.Animate.Animated,a),D.CM.CssClassName.Animate.Spin,D.CM.CssClassName.Animate.Repeat.infinite]],attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:st()}})}}}})]),t("div",{class:Kt},[e("lobby.finance.center.wallet.prompt")])]),t(R.zx.Tsx,{on:{click:this.refreshGold},class:Et,attrs:{type:"primary",loading:this.state.submitLoading}},[e("lobby.finance.center.wallet.recycle")])])}},{key:"renderSearch",value:function(){var t=this,e=this.$createElement,r=(0,H.QT)().t,n=(0,F.h)().isWeb;return e("div",{class:Tt},[e("div",[e(R.II.Search.Tsx,P()([{class:Bt,attrs:{placeholder:r("lobby.finance.center.wallet.searchPlatform"),allowClear:!0,value:this.state.searchValue,loading:!n&&this.state.searchLoading},ref:"searchInput"},{on:{pressEnter:function(e){var r=e.target;t.fetchCardList({current:1,categoryId:t.state.menuActiveKey,platformName:r.value},!0,!1)},search:function(e){t.fetchCardList({current:1,categoryId:t.state.menuActiveKey,platformName:e},!0,!1)},change:function(e){var r=e.target;return t.setState({searchValue:r.value})}}}])),n&&e(R.zx.Tsx,{on:{click:function(){return t.fetchCardList({current:1,categoryId:t.state.menuActiveKey,platformName:t.state.searchValue},!0,!1)}},class:Ot,attrs:{type:"primary",loading:this.state.searchLoading}},[r("lobby.game.search")])])])}},{key:"handleContentScroll",value:(a=(0,T.Z)((0,E.Z)().mark((function t(){return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkPosition();case 2:if(!t.sent){t.next=4;break}this.loadingMoreContent();case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"checkPosition",value:(n=(0,T.Z)((0,E.Z)().mark((function t(){var e,r,n,a;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve();case 2:if(e=this.scrollDown,r=document.documentElement.clientHeight,n=null==e?void 0:e.getBoundingClientRect().top,a=e.getBoundingClientRect().height,!(n>-a&&n<=r-50)){t.next=8;break}return t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadingMoreContent",value:function(){var t,e=this.state.current+1;!this.state.loading&&e<=this.state.totalPage&&(this.setState({current:e}),this.fetchCardList({current:e,categoryId:Number(null===(t=this.$route.query)||void 0===t?void 0:t.gameCategoryId)||this.state.menuActiveKey}))}},{key:"renderContent",value:function(){var t=this.$createElement,e=(0,F.h)().isWeb,r=(0,H.QT)().t;return t("div",[this.state.menuActiveKey===M.ck.ALL?this.renderSearch():t("div",{class:kt}),t("my-scroll",{attrs:{direction:"y"},class:Lt,on:{scroll:this.handleContentScroll}},[t(W.gE,{attrs:{spinning:this.state.loading}},[t(nt,{attrs:{cardList:this.state.cardList}}),t("div",{class:St,ref:"scrollDown"}),!this.state.cardList.length&&t("div",{class:xt},[t(R.HY,{attrs:{image:t(q.h,{attrs:{width:e?378:400,height:e?272:289}}),description:r("lobby.modal.noData")}})])])])])}},{key:"fetchCardList",value:(r=(0,T.Z)((0,E.Z)().mark((function t(e,r){var n,a,s,i,o,c=this,u=arguments;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(u.length>2&&void 0!==u[2])||u[2],this.setState({loading:!0,searchLoading:r}),t.next=4,(0,zt.Z)(Q((0,I.Z)((0,I.Z)({},e),{},{pageSize:10})).finally((function(){c.setState({loading:!1,searchLoading:!1})})));case 4:if(a=t.sent,s=(0,K.Z)(a,2),i=s[0],!(o=s[1])){t.next=16;break}return this.setState({current:null==o?void 0:o.currPage,totalPage:null==o?void 0:o.totalPage,cardList:this.state.current>1&&n?[].concat((0,A.Z)(this.state.cardList),(0,A.Z)(o.platformList)):null==o?void 0:o.platformList}),t.next=12,this.checkPosition();case 12:if(!t.sent){t.next=14;break}this.loadingMoreContent();case 14:t.next=17;break;case 16:D.sG.Modal.message({type:"error",content:null==i?void 0:i.message});case 17:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"languageKeyChange",value:(e=(0,T.Z)((0,E.Z)().mark((function t(e,r){var n;return(0,E.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r&&e!==r&&(this.setState({cardList:[]}),this.fetchCardList({current:1,categoryId:Number(null===(n=this.$route.query)||void 0===n?void 0:n.gameCategoryId)||this.state.menuActiveKey}));case 1:case"end":return t.stop()}}),t,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"created",value:function(){var t,e,r;null!==(t=this.$route.query)&&void 0!==t&&t.gameCategoryId&&this.setState({menuActiveKey:Number(null===(r=this.$route.query)||void 0===r?void 0:r.gameCategoryId)});this.fetchCardList({current:this.state.current,categoryId:Number(null===(e=this.$route.query)||void 0===e?void 0:e.gameCategoryId)||this.state.menuActiveKey})}},{key:"tabs",get:function(){var t=this.$createElement,e=(0,V.g)().gameCategoriesAvailable,r=(0,A.Z)(e).filter((function(t){return t.display})).filter((function(t){return![M.ck.CLUB,M.ck.CLUBFRIEND].includes(t.gameCategoryId)})),n=(0,H.QT)().t;return r.unshift({gameCategoryId:M.ck.ALL,gameCategoryName:"".concat(n("lobby.gameMenu.all"))}),r.map((function(e){return{value:e.gameCategoryId,icon:function(){return t("icon-sprite",{attrs:{sprite:Gt[e.gameCategoryId]},class:wt})},label:t("span",[e.gameCategoryName])}}))}},{key:"render",value:function(){var t=this,e=arguments[0],r=(0,H.QT)(),n=r.t,a=(0,F.h)(),s=a.isWeb;return e(W.tK,{attrs:{titleContent:n("lobby.finance.center.wallet.title"),showBack:!0,isShadowContent:!1},class:_t},[this.renderInfo(),e(W.CO,{attrs:{tabsWidth:U.ZP.px2rem(s?"130px":"150px"),tabsHeight:U.ZP.px2rem(s?"60px":"70px"),tabsNavHscopedSlotsiddenForOne:!0,renderList:this.tabs,persistedActiveName:"gameCategoryId",isScrollX:!0},on:{trigger:function(e){t.setState({cardList:[]}),t.fetchCardList({current:1,categoryId:e,platformName:t.state.searchValue})}},scopedSlots:{default:function(){return t.renderContent()}},model:{value:t.state.menuActiveKey,callback:function(e){t.$set(t.state,"menuActiveKey",e)}}})])}}]),c}(S.XY),b=(0,z.Z)(Z.prototype,"scrollDown",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,z.Z)(Z.prototype,"updateCurrency",[d,p],Object.getOwnPropertyDescriptor(Z.prototype,"updateCurrency"),Z.prototype),(0,z.Z)(Z.prototype,"refreshGold",[h,g],Object.getOwnPropertyDescriptor(Z.prototype,"refreshGold"),Z.prototype),(0,z.Z)(Z.prototype,"handleContentScroll",[f,y],Object.getOwnPropertyDescriptor(Z.prototype,"handleContentScroll"),Z.prototype),(0,z.Z)(Z.prototype,"fetchCardList",[v],Object.getOwnPropertyDescriptor(Z.prototype,"fetchCardList"),Z.prototype),(0,z.Z)(Z.prototype,"languageKeyChange",[m],Object.getOwnPropertyDescriptor(Z.prototype,"languageKeyChange"),Z.prototype),C=Z))||C),Qt=(0,S.wA)({name:"CenterWallet"})(_=function(t){(0,k.Z)(r,t);var e=(0,x.Z)(r);function r(){return(0,w.Z)(this,r),e.apply(this,arguments)}return(0,L.Z)(r,[{key:"render",value:function(){var t=arguments[0];return t(Dt)}}]),r}(S.XY))||_}}]);