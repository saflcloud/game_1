(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[5274],{76091:function(e,t,i){var n=i(76530).PROPER,r=i(47293),o=i(81361);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||n&&o[e].name!==e}))}},82481:function(e,t,i){i(82109)({target:"String",proto:!0},{repeat:i(38415)})},73210:function(e,t,i){"use strict";var n=i(82109),r=i(53111).trim;n({target:"String",proto:!0,forced:i(76091)("trim")},{trim:function(){return r(this)}})},19281:function(e,t){"use strict";t.Z={content:"Z_KyUnDSyHZuOK20i3LI",steps:"XNDSqh1eaFMPqfDcf2wT",modalType:"eiz0laW0QxppsUl7cAk6",step:"Ao9_iL6ZflJpI7VF5ngk","step-content":"GFTS6HbzZZ4XaAr7lxar","small-height":"rlVsxP3A_11XvbNUgU2A",scrollContainer:"buWStU7ap3Pd6QVa0Lx3","btn-step":"XXNTPDvrQtXcijqKXtdo",done:"dMIjZbKN4jqb65XIdZEE",stepvaildModal:"R0fO5UyDhOpKA91tVmHG"}},47526:function(e,t){"use strict";t.Z={main:"lwByr0hT9YwwcBjit9VL",toCustomerServiceWithNotValid:"P_aejVGVS9xV8lyMIPFm",currentInfos:"IrS2t3cJZMT0XeiuXqZn",hiddenForm:"lEH0hYnINHQYIlA91DoF",tips:"rrSUSYHFVwJzeHWVD5Z0",title:"vlgolmYhPj81AX5klCTx",key:"XXjoUKSmxGcPkuKZcr6P",value:"MHU0sHr3AtDzo_GlnB_t",loginPwdTitle:"Xq4eL9kY4HGkgyNzZTx4",helpGuide:"rnNPYgZD2L0miilfmEWK",toCustomerService:"LI18hbfu0SRiagAc602n",loginPwdFooter:"UU_qr9o82NoR0w7HtRWI",btnNext:"a_lEyYSWGqmfPn18yD_R",loginPwdSuccessFooter:"I6WjQcpHYRyU3aOKCrpL",buttonGroup:"Xhr_XJt3jLTtAL8pC16D",authContainer:"eyTfOXTexbojAo4g3Nou",guideToCustomerService:"XvRsisXM20DjJ_26X9NL",modaltype:"o9ShF8jT3S3jWSxDUjco","basic-verification-content":"I9T4OGduED94X6ahO3Qj","render-content":"zZosy2nV_TUA1iGNAL8w",remark:"chAKuSLwjbCJ06yc7PBj",bindTipsText:"sRWm_MNVuKiJrp2jTb86",verificaBtn:"fCwbZSxuiVxRkivlczR7"}},81237:function(e,t,i){"use strict";i.d(t,{Nf:function(){return Lt}});var n,r,o,s,a,l,u,d,p,c,h,m,f,b,y,Z,v,g,w,P,_,I,T,S,W,M,D,x,k,F,A,C,E,N,L=i(36568),O=i.n(L),R=i(22705),q=i(70970),G=i(57557),H=i.n(G),V=i(7903),Q=i(2813),z=i(3587),B=i(82345),U=i(72283),$=i(20793),K=i(17360),j=(i(41320),i(92317)),X=i(21797),Y=i(50125),J=(i(92222),i(26699),i(73210),i(41539),i(57327),i(78783),i(33948),i(21249),i(38880),i(30813)),ee=i(14577),te=i(95306),ie=i(90416),ne=i(33990),re=i(90825),oe=i(72433),se=i(37155),ae=i(63445),le=i(81830),ue=i(81764),de=i(98292),pe=i(95627),ce=i(80005),he=i(36968),me=i.n(he),fe=i(27361),be=i.n(fe),ye=i(50361),Ze=i.n(ye),ve=(i(32023),i(69826),i(73161)),ge="wqhJr2xT4jwypnQmLuxJ",we="_vFBQ9m5v19AH501mAtA",Pe="dfiruBPjtRmg3mVEMGeC",_e="vlBzqFqK2ju8YlGejKmh",Ie="iE1pya36PKPPu5fm6Qxc",Te="lkgAGUnpwliatkXlEoYQ",Se="xHXDz36FcMtv2qrRO9vo",We="k8tIOdRScF0y6nEkMobw",Me="bqYIKG5JqDuF4WKgqdGu",De="wvy8hiIKISIwPkLNxN6q",xe="MseQtG4Et1odZ7OG6BaC",ke=i(83110),Fe=i(99231),Ae=i(74850),Ce=i.n(Ae),Ee=i(59933),Ne=i.n(Ee);!function(e){e[e.WITH_LOGIN=ne.I4.WITH_LOGIN_PWD]="WITH_LOGIN",e[e.WITH_WITHDRAWER=ne.I4.WITHDRAW_PWD]="WITH_WITHDRAWER",e[e.WITH_QUESTION=ne.I4.QUESTION]="WITH_QUESTION"}(E||(E={}));var Le,Oe,Re,qe,Ge,He,Ve,Qe,ze,Be,Ue,$e,Ke,je,Xe,Ye,Je,et,tt,it,nt,rt,ot,st,at,lt,ut,dt,pt,ct,ht,mt,ft,bt,yt,Zt,vt,gt,wt,Pt,_t,It,Tt,St,Wt,Mt,Dt,xt=(n=(0,J.wA)({name:"AuthGroupPassword"}),r=(0,J.Rl)(),o=(0,J.Rl)(),s=(0,J.Rl)(),a=(0,J.Rl)(),l=(0,J.fI)(pe.ZP.object.isRequired),u=(0,J.fI)(pe.ZP.string.def("")),d=(0,J.fI)(pe.ZP.array.def((function(){return[E.WITH_LOGIN,E.WITH_WITHDRAWER,E.WITH_QUESTION]}))),p=(0,J.fI)(pe.ZP.string.def("withdraw_pass")),c=(0,J.fI)(pe.ZP.string.def("pass_question_id")),h=(0,J.fI)(pe.ZP.string.def("pass_question_answer")),m=(0,J.fI)(),f=(0,J.fI)(),b=(0,J.fI)(),y=(0,ee.WY)(),Z=(0,ee.K4)(),v=(0,J.RL)("store.language",{immediate:!0}),n((w=function(e){(0,U.Z)(o,e);var t,i,n,r=(0,$.Z)(o);function o(){var e;(0,X.Z)(this,o);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=r.call.apply(r,[this].concat(i)),(0,z.Z)((0,B.Z)(e),"FormModelRef",P,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"loginPassRef",_,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"passQuestionAnswerRef",I,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"withdrawNumberInputRef",T,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"formData",S,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"guideToSupportPortalTargetName",W,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"validTypeConfig",M,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"withdrawPwdProp",D,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"questionIdProp",x,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"questionAnswerProp",k,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"isCheckingLoginPwd",F,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"questionDataQuery",A,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"bindTipsText",C,(0,B.Z)(e)),(0,Y.Z)((0,B.Z)(e),"questionList",[]),(0,Y.Z)((0,B.Z)(e),"actionVerifyType",E.WITH_LOGIN),(0,Y.Z)((0,B.Z)(e),"store",(0,de.h)()),e}return(0,j.Z)(o,[{key:"validate",value:function(){return this.FormModelRef.validate()}},{key:"toggleValidMode",value:(n=(0,Q.Z)((0,q.Z)().mark((function e(t){var i;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.actionVerifyType=t,this.formData.type=t,null===(i=this.FormModelRef)||void 0===i||i.resetFields(),N&&N.destroy();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"actionVerifyTypeMap",get:function(){var e,t=(0,ue.QT)().t;return e={},(0,Y.Z)(e,E.WITH_LOGIN,{title:t("lobby.center.security.valid"),subtitle:t("lobby.center.security.loginPwd.tab"),sprite:ve.Z.sprite_main_icon_wd_dlmm_b}),(0,Y.Z)(e,E.WITH_WITHDRAWER,{title:t("lobby.common.components.auth.withdrawal.label"),subtitle:t("lobby.center.security.withdrawalPwd.tab"),sprite:ve.Z.sprite_main_icon_wd_txmm_b}),(0,Y.Z)(e,E.WITH_QUESTION,{title:t("lobby.common.components.auth.question.title"),subtitle:t("lobby.common.components.auth.question.title"),sprite:ve.Z.sprite_main_icon_wd_mbyz_b}),e}},{key:"isWeb",get:function(){return(0,de.h)().isWeb}},{key:"languageKeyChange",value:(i=(0,Q.Z)((0,q.Z)().mark((function e(t,i){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&t!==i&&this.queryQuestionData(!0);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"openModeSwitchModal",value:function(){var e=this,t=this.$createElement;this.queryQuestionData();var i=(0,ue.QT)().t,n=(0,de.h)().language;N=re.sG.Modal.create({class:"".concat(ge," ").concat(this.validTypeConfig.length<=1?Te:""),titlePosition:"center",closable:!0,hiddenBtns:!0,title:function(){return i("lobby.common.components.auth.othersVerify")},content:function(){return t("div",{class:we},[t("div",{class:Ie},[Ze()(e.validTypeConfig).map((function(i){var n=e.actionVerifyTypeMap[i];return t("div",{key:i,on:{click:e.toggleValidMode.bind(e,i)}},[t(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var i=n.sprite,r=(e.isWeb?60:80)/i.width;return t("icon-sprite",{attrs:{scale:r,sprite:i}})}}}}),t("span",[n.subtitle])])}))]),t(ke.Z,{directives:[{name:"show",value:e.validTypeConfig.length<=1}],class:[Fe.Z.guide,Pe,"vi_VN"===n?_e:""],attrs:{mode:"AuthUnavailable"}})])}})}},{key:"queryQuestionData",value:(t=(0,Q.Z)((0,q.Z)().mark((function e(t){var i,n,r,o,s;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.validTypeConfig.includes(E.WITH_QUESTION)&&0==this.questionList.length||t)){e.next=14;break}return e.prev=1,n=this.questionDataQuery||(0,Q.Z)((0,q.Z)().mark((function e(){var t,i,n;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,le.apiGetQuestion)().then((function(e){var t;return(null===(t=e.data.data)||void 0===t?void 0:t.question)||[]}))]);case 2:return t=e.sent,i=(0,R.Z)(t,1),n=i[0],e.abrupt("return",{list:n});case 6:case"end":return e.stop()}}),e)}))),e.next=5,n();case 5:r=e.sent,this.questionList=r.list,o=null!==(i=r.currentId)&&void 0!==i?i:be()(this.formData,this.questionIdProp),s=this.questionList.find((function(e){return e.id===o})),me()(this.formData,this.questionIdProp,s?s.id:this.questionList[0].id),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e){return t.apply(this,arguments)})},{key:"renderVervifyContent",value:function(){var e=this,t=this.$createElement,i=(0,ue.QT)().t,n=re.sG.FuncRender.createFormModelItem.call(this);switch(this.actionVerifyType){case E.WITH_LOGIN:return n.userpass({label:i("lobby.center.security.loginLable"),showLabel:!1,hiddenPrefix:!0,hiddenIcon:!0,prop:"login_pass",model:this.formData,inputTsxData:{ref:"loginPassRef",attrs:{placeholder:i("lobby.center.security.loginPwd.placeholder")}},getRules:function(e){return[e.required]}});case E.WITH_WITHDRAWER:return n.custom({prop:this.withdrawPwdProp,model:this.formData,formModelItemTsxData:{props:{rules:[re.sG.Rules.paypass({length:6},{required:!0})]}},render:function(){return[t(ie.KH,{ref:"withdrawNumberInputRef",attrs:{showLabel:!0,value:be()(e.formData,e.withdrawPwdProp)},on:{input:function(t){me()(e.formData,e.withdrawPwdProp,t)}}})]}});case E.WITH_QUESTION:return[n.baseSelect({prop:this.questionIdProp,model:this.formData,listData:this.questionList.map((function(e){return{value:e.id,label:e.question}})),selectTsxData:{props:{getPopupContainer:function(e){return e.parentNode}}},current:be()(this.formData,this.questionIdProp),onSelectChange:function(t){me()(e.formData,e.questionIdProp,t)},render:function(){return[t("template",{slot:"label"},[t("div",{class:Fe.Z.label},[t("div",[t(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:Ce()}})}}}}),t("span",[i("lobby.common.components.auth.question.label")])])])])]}}),n.custom({prop:this.questionAnswerProp,model:this.formData,formModelItemTsxData:{props:{rules:[re.sG.Rules.required({requiredItem:i("lobby.common.components.auth.question.title")})]}},render:function(){return[t("template",{slot:"label"},[t("div",{class:Fe.Z.label},[t("div",[t(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:Ne()}})}}}}),t("span",[i("lobby.common.components.auth.question.label2")])])])]),t(te.II.Tsx,{ref:"passQuestionAnswerRef",attrs:{placeholder:i("lobby.common.components.auth.question.inputTips"),maxLength:20,value:be()(e.formData,e.questionAnswerProp)},on:{change:re.sG.FuncRender.createOnInputChange(e.formData,e.questionAnswerProp)}})]}})]}}},{key:"autoGroupInputFocus",value:function(){var e,t,i;switch(this.actionVerifyType){case E.WITH_LOGIN:null===(e=this.loginPassRef)||void 0===e||e.focus();break;case E.WITH_QUESTION:null===(t=this.passQuestionAnswerRef)||void 0===t||t.focus();break;case E.WITH_WITHDRAWER:null===(i=this.withdrawNumberInputRef)||void 0===i||i.focus()}}},{key:"render",value:function(){var e=this,t=arguments[0],i=(0,ue.QT)(),n=i.t,r=(0,de.h)(),o=r.isWeb;return o&&setTimeout((function(){e.autoGroupInputFocus()}),100),t("section",[t(te.au.Tsx,O()([{ref:"FormModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.formData}}]),[[t("div",{class:We,key:"loginPwdTitle"},[t("div",{class:De},[t("div",{class:Me},[this.actionVerifyTypeMap[this.actionVerifyType].title]),t("div",{class:xe},[t(te.zx.Tsx,{attrs:{type:"link"},class:Fe.Z.btn,on:{click:this.openModeSwitchModal}},[n("lobby.common.components.auth.othersVerify")])])]),t("div",{directives:[{name:"show",value:this.actionVerifyType==E.WITH_LOGIN}],class:Se},[this.bindTipsText])]),this.renderVervifyContent()]])])}}]),o}(J.XY),P=(0,K.Z)(w.prototype,"FormModelRef",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,K.Z)(w.prototype,"loginPassRef",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,K.Z)(w.prototype,"passQuestionAnswerRef",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,K.Z)(w.prototype,"withdrawNumberInputRef",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,K.Z)(w.prototype,"formData",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,K.Z)(w.prototype,"guideToSupportPortalTargetName",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,K.Z)(w.prototype,"validTypeConfig",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,K.Z)(w.prototype,"withdrawPwdProp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,K.Z)(w.prototype,"questionIdProp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,K.Z)(w.prototype,"questionAnswerProp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,K.Z)(w.prototype,"isCheckingLoginPwd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,K.Z)(w.prototype,"questionDataQuery",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,K.Z)(w.prototype,"bindTipsText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,K.Z)(w.prototype,"toggleValidMode",[y,Z],Object.getOwnPropertyDescriptor(w.prototype,"toggleValidMode"),w.prototype),(0,K.Z)(w.prototype,"languageKeyChange",[v],Object.getOwnPropertyDescriptor(w.prototype,"languageKeyChange"),w.prototype),g=w))||g),kt=(i(39714),i(71707)),Ft=i(47526),At=(Le=(0,J.wA)({name:"BindWithdrawalPassword"}),Oe=(0,J.Rl)(),Re=(0,J.Rl)(),qe=(0,J.fI)(),Ge=(0,J.y1)("setWithDrawPwdSuccess"),He=(0,ee.WY)(),Ve=(0,ee.K4)(),Qe=(0,ee.WY)(),ze=(0,ee.K4)(),Le((Ue=function(e){(0,U.Z)(r,e);var t,i,n=(0,$.Z)(r);function r(){var e;(0,X.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,z.Z)((0,B.Z)(e),"pwdInput",$e,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"formModelRef",Ke,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"responseData",je,(0,B.Z)(e)),(0,Y.Z)((0,B.Z)(e),"bindFormData",{withdraw_pass:"",withdrawPassConfirm:"",second_verify:new Lt}),(0,Y.Z)((0,B.Z)(e),"bindQAFormData",{answer:"",answerConfirm:"",id:1,second_verify:new Lt}),(0,Y.Z)((0,B.Z)(e),"rewardType",ne.sF.SetWithdrawalPin),(0,Y.Z)((0,B.Z)(e),"isFetching",!1),e}return(0,j.Z)(r,[{key:"setWithDrawPwdSuccess",value:function(){}},{key:"currentIsWithdral",get:function(){return"5"===this.$route.query.current}},{key:"setWithDrawPwd",value:(i=(0,Q.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.formModelRef.validate();case 2:this.isFetching=!0,this.isFetching=!1,this.setWithDrawPwdSuccess();case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"renderBindWithdrawalPassword",value:function(){var e=this,t=this.$createElement,i=re.sG.FuncRender.createFormModelItem.call(this),n=(0,ue.QT)().t;return[t("p",{class:[Ft.Z.bindTipsText],domProps:{innerHTML:n("lobby.center.security.withdrawalPwd.bind.topRemark").toString()}}),i.custom({prop:"withdraw_pass",model:this.bindFormData,formModelItemTsxData:{props:{rules:[re.sG.Rules.paypass({length:6},{required:!0})]}},render:function(){return[t(ie.KH,{attrs:{showLabel:!0,value:be()(e.bindFormData,"withdraw_pass")},on:{input:function(t){me()(e.bindFormData,"withdraw_pass",t)},complete:function(){e.pwdInput.focus()}},model:{value:e.bindFormData.withdraw_pass,callback:function(t){e.$set(e.bindFormData,"withdraw_pass",t)}}})]}}),i.custom({prop:"withdrawPassConfirm",model:this.bindFormData,formModelItemTsxData:{props:{rules:[re.sG.Rules.required({requiredItem:n("lobby.center.security.withdrawalPwd.label")}),re.sG.Rules.paypass(),re.sG.Rules.create({validator:function(t,i,r){return i!==e.bindFormData.withdraw_pass&&r(n("lobby.modal.register.notMatch")),r(),!0}})]}},render:function(){return[t(ie.KH,{attrs:{showLabel:!0,labelTitle:n("lobby.center.security.withdrawalPwd.confirmPwd")},ref:"pwdInput",model:{value:e.bindFormData.withdrawPassConfirm,callback:function(t){e.$set(e.bindFormData,"withdrawPassConfirm",t)}}})]}}),t("p",{class:[Ft.Z.remark],domProps:{innerHTML:n("lobby.center.security.withdrawalPwd.bind.remark").toString()}}),this.renderFooter()]}},{key:"setQA",value:(t=(0,Q.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.bindQAFormData.answer=this.bindQAFormData.answer.trim(),this.bindQAFormData.answerConfirm=this.bindQAFormData.answerConfirm.trim(),e.next=4,this.formModelRef.validate();case 4:this.isFetching=!0,(0,ae.c5)({answer:this.bindQAFormData.answer,id:this.bindQAFormData.id}),(0,(0,de.h)().updateSecretQuestion)(ne.Fb.OPEN),this.isFetching=!1,this.setWithDrawPwdSuccess();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderBindQuestion",value:function(){var e,t=this,i=this.$createElement,n=(0,ue.QT)().t,r=re.sG.FuncRender.createFormModelItem.call(this),o=null===(e=this.responseData)||void 0===e?void 0:e.question;return o.length&&[i("p",{class:[Ft.Z.bindTipsText],domProps:{innerHTML:n("lobby.center.security.question.bind.topRemark").toString()}}),r.baseSelect({prop:"id",model:this.bindQAFormData,listData:o.map((function(e){return{value:e.id,label:e.question}})),current:be()(this.bindQAFormData,"id"),onSelectChange:function(e){me()(t.bindQAFormData,"id",e)},render:function(){return[i("template",{slot:"label"},[i("div",[i("div",[i(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return i("icon-sprite",{attrs:{sprite:Ce()}})}}}}),i("span",[n("lobby.common.components.auth.question.label")])])])])]}}),r.custom({prop:"answer",model:this.bindQAFormData,formModelItemTsxData:{props:{rules:[re.sG.Rules.required({requiredItem:n("lobby.common.components.auth.question.title")})]}},render:function(){return[i("template",{slot:"label"},[i("div",[i("div",[i(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return i("icon-sprite",{attrs:{sprite:Ne()}})}}}}),i("span",[n("lobby.common.components.auth.question.label2")])])])]),i(te.II.Tsx,{attrs:{placeholder:n("lobby.common.components.auth.question.inputTips"),maxLength:20},model:{value:t.bindQAFormData.answer,callback:function(e){t.$set(t.bindQAFormData,"answer",e)}}})]}}),r.custom({prop:"answerConfirm",model:this.bindQAFormData,formModelItemTsxData:{props:{rules:[re.sG.Rules.required({requiredItem:n("lobby.common.components.auth.question.title")}),re.sG.Rules.create({validator:function(e,i,r){return i!==t.bindQAFormData.answer&&r(n("lobby.center.security.question.notMatch")),r(),!0}})]}},render:function(){return[i("template",{slot:"label"},[i("div",[i("div",[i(te.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return i("icon-sprite",{attrs:{sprite:Ne()}})}}}}),i("span",[n("lobby.center.security.question.answerConfirm")])])])]),i(te.II.Tsx,{attrs:{placeholder:n("lobby.center.security.question.answerConfirmPlaceholder")},model:{value:t.bindQAFormData.answerConfirm,callback:function(e){t.$set(t.bindQAFormData,"answerConfirm",e)}}})]}}),this.renderFooter()]}},{key:"renderFooter",value:function(){var e=this.$createElement,t=(0,ue.QT)().t,i=this.currentIsWithdral?this.setQA:this.setWithDrawPwd;return e("div",{class:Ft.Z.loginPwdSuccessFooter},[e("div",{class:Ft.Z.buttonGroup},[e(te.zx.Tsx,{attrs:{type:"primary",loading:this.isFetching},on:(0,V.Z)({},{click:i})},[e(ie.L4,{attrs:{rewardId:this.rewardType,right:kt.ZP.px2rem(-15)}}),t("lobby.common.tips.confirm")])])])}},{key:"render",value:function(){var e=arguments[0];return e("div",[this.currentIsWithdral?e(te.au.Tsx,O()([{ref:"formModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.bindQAFormData}}]),[this.renderBindQuestion()]):e(te.au.Tsx,O()([{ref:"formModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.bindFormData}}]),[this.renderBindWithdrawalPassword()])])}}]),r}(J.XY),$e=(0,K.Z)(Ue.prototype,"pwdInput",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,K.Z)(Ue.prototype,"formModelRef",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,K.Z)(Ue.prototype,"responseData",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,K.Z)(Ue.prototype,"setWithDrawPwdSuccess",[Ge],Object.getOwnPropertyDescriptor(Ue.prototype,"setWithDrawPwdSuccess"),Ue.prototype),(0,K.Z)(Ue.prototype,"setWithDrawPwd",[He,Ve],Object.getOwnPropertyDescriptor(Ue.prototype,"setWithDrawPwd"),Ue.prototype),(0,K.Z)(Ue.prototype,"setQA",[Qe,ze],Object.getOwnPropertyDescriptor(Ue.prototype,"setQA"),Ue.prototype),Be=Ue))||Be),Ct="teb6MrxXxd3aGnazcO0k",Et="FERx38QQBWe6iOHH7WOk",Nt="QqPrK5LLgEX9Lti6YLH5";!function(e){e[e.BEFORE_LOGIN_PWD=0]="BEFORE_LOGIN_PWD",e[e.LOGIN_PWD_SUCCESS=1]="LOGIN_PWD_SUCCESS",e[e.TWO_STEP_VERIFICATION=2]="TWO_STEP_VERIFICATION"}(Dt||(Dt={}));var Lt=(0,j.Z)((function e(){(0,X.Z)(this,e),(0,Y.Z)(this,"type",ne.I4.GA),(0,Y.Z)(this,"login_pass",""),(0,Y.Z)(this,"withdraw_pass",""),(0,Y.Z)(this,"pass_question_id",-1),(0,Y.Z)(this,"pass_question_answer",""),(0,Y.Z)(this,"google_code",""),(0,Y.Z)(this,"email",""),(0,Y.Z)(this,"email_code",""),(0,Y.Z)(this,"phone",""),(0,Y.Z)(this,"phone_code","")}));Xe=(0,J.wA)({name:"StepValid"}),Ye=(0,J.Rl)(),Je=(0,J.fI)((0,pe.Rx)().def(se.Zy.LOGIN_PASS)),et=(0,J.fI)((0,pe.Ry)().def({})),tt=(0,J.fI)((0,pe.Ry)().def({})),it=(0,J.fI)(pe.ZP.looseBool.def(!0)),nt=(0,J.fI)(pe.ZP.number.def(ne.sF.None)),rt=(0,J.fI)(),ot=(0,J.fI)(),st=(0,J.fI)(),at=(0,J.fI)(),lt=(0,J.fI)(),ut=(0,J.fI)(),dt=(0,ee.WY)(),pt=(0,ee.K4)(),ct=(0,J.RL)("validMode",{immediate:!0}),ht=(0,J.y1)(),mt=(0,J.RL)("validMode"),Xe((bt=function(e){(0,U.Z)(r,e);var t,i,n=(0,$.Z)(r);function r(){var e;(0,X.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,z.Z)((0,B.Z)(e),"AuthGroupPassword",yt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"modifyType",Zt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"okBtnTsxData",vt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"nextBtnTsxData",gt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"showLoginPwdForm",wt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"rewardType",Pt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"secondStepName",_t,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"bindTipsText",It,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"isModalMode",Tt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"reset",St,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"resetTwoStepForm",Wt,(0,B.Z)(e)),(0,z.Z)((0,B.Z)(e),"next",Mt,(0,B.Z)(e)),(0,Y.Z)((0,B.Z)(e),"steps",Dt.BEFORE_LOGIN_PWD),(0,Y.Z)((0,B.Z)(e),"responseData",null),(0,Y.Z)((0,B.Z)(e),"isCheckingLoginPwd",!1),(0,Y.Z)((0,B.Z)(e),"formData",{type:ne.I4.WITH_LOGIN_PWD,info_type:1,pass_question_id:0,pass_question_answer:"",withdraw_pass:"",login_pass:""}),(0,Y.Z)((0,B.Z)(e),"validMode",-1),(0,Y.Z)((0,B.Z)(e),"isNoOtherGroupShow",!1),e}return(0,j.Z)(r,[{key:"hasAuthWay",get:function(){return![-1,"none"].includes(this.validMode)}},{key:"doSubmit",value:(i=(0,Q.Z)((0,q.Z)().mark((function e(){var t,i,n,r,o,s,a,l=this;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,de.h)(),i=t.userInfos,n=t.systemInfos,r=(0,ue.QT)(),o=r.t,this.modifyType!==se.Zy.PHONE||null==i||!i.mobile_phone||(null==n?void 0:n.enableModifyPhone)!==ne.AI.CLOSE){e.next=5;break}return re.sG.Modal.message({type:"warning",content:o("lobby.center.security.noModificationPhone")}),e.abrupt("return");case 5:if(!this.isCheckingLoginPwd){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,this.formData.pass_question_answer=this.formData.pass_question_answer.trim(),e.next=11,this.AuthGroupPassword.validate();case 11:return this.isCheckingLoginPwd=!0,e.next=14,(0,ae.CD)({firstVerify:(0,V.Z)({},H()(this.formData,["info_type"])),info_type:this.modifyType}).finally((function(){l.isCheckingLoginPwd=!1}));case 14:a=e.sent,this.responseData=null===(s=a.data.data)||void 0===s?void 0:s.info,this.$nextTick((function(){l.steps=Dt.LOGIN_PWD_SUCCESS,l.setDefaultValidMode()})),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.error(e.t0);case 22:case"end":return e.stop()}}),e,this,[[7,19]])}))),function(){return i.apply(this,arguments)})},{key:"setWithDrawPwdSuccess",value:function(){this.isNoOtherGroupShow=!1,this.steps=Dt.LOGIN_PWD_SUCCESS,this.setDefaultValidMode()}},{key:"onSubmit",value:(t=(0,Q.Z)((0,q.Z)().mark((function e(){return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.doSubmit();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"validModeChange",value:function(){return this.validMode}},{key:"authGroupPasswordConfig",get:function(){var e=(0,de.h)().validateConfig,t=e.hasQuestion,i=e.hasWithdrawPwd,n=[E.WITH_LOGIN];return i&&n.push(E.WITH_WITHDRAWER),t&&n.push(E.WITH_QUESTION),n}},{key:"currentIsGA",get:function(){return"3"===this.$route.query.current}},{key:"onValidModeChange",value:function(){this.resetTwoStepForm&&this.resetTwoStepForm()}},{key:"setDefaultValidMode",value:function(){this.authGroupAConfig.length?this.validMode=this.authGroupAConfig[0]:this.validMode="none"}},{key:"authGroupAConfig",get:function(){var e=this,t=(0,de.h)(),i=t.validateConfig,n=t.systemInfos,r=i.hasEmail,o=i.hasPhoneNumber,s=[];if(i.hasGoogleAuth&&s.push(ce.W.WITH_GA),r&&1===(null==n?void 0:n.enable_using_gmail)&&s.push(ce.W.WITH_EMAIL),o&&s.push(ce.W.WITH_PHONE),0==s.length){var a=i.hasQuestion,l=i.hasWithdrawPwd;s.push(ce.W.WITH_LOGIN_PWD),l&&s.push(ce.W.WITH_WITHDRAW_PWD),a&&s.push(ce.W.WITH_QUESTION),s=s.filter((function(t){return t!=e.formData.type}))}return s}},{key:"isWeb",get:function(){return(0,de.h)().isWeb}},{key:"renderAuth",value:function(e){var t=this,i=this.$createElement;if(-1===this.validMode)return null;if("none"===this.validMode)return i(oe.h_,{attrs:{to:re.CM.PortalName.SecurityCenterService}},[i(ke.Z,{class:Ft.Z.toCustomerServiceWithNotValid})]);var n=(0,de.h)(),r=n.validateConfig,o=n.userInfos,s=r.email,a=r.phoneNumber;if(this.authGroupAConfig.length){var l=(null==o?void 0:o.platfromid)||"";return i("div",[i(ce.Z,{attrs:{googleCodeProp:"second_verify.google_code",emailCodeProp:"second_verify.email_code",phoneCodeProp:"second_verify.phone_code",emailProp:"second_verify.email",phoneProp:"second_verify.phone",withdrawPwdProp:"second_verify.withdraw_pass",loginPwdProp:"second_verify.login_pass",questionIdProp:"second_verify.pass_question_id",questionAnswerProp:"second_verify.pass_question_answer",phoneSendFunPromise:function(e){return(0,le.apiGetSmsCodeAfterLogined)({create_mode:ne.FW.Verify,limit_type:"phone",phone_number:e})},emailSendFunPromise:function(e){return(0,le.apiGetEmailCodeAfterLogin)({create_mode:ne.FW.Verify,limit_type:"phone",email:e})},phoneValidFunPromise:function(e){return(0,le.apiVerifyPhoneNumberAfterLogin)({phone:e},{silentOnError:!0})},emailValidFunPromise:function(e){return(0,le.apiVerifyEmailAfterLogin)({email:e},{silentOnError:!0})},username:l,desensitizedEmail:s,desensitizedPhoneNumber:a,formModel:e,validTypeConfig:this.authGroupAConfig},model:{value:t.validMode,callback:function(e){t.validMode=e}}})])}return null}},{key:"getSecondVerifyPayload",value:function(e){var t=e.second_verify,i=t.google_code,n=t.email,r=t.email_code,o=t.phone,s=t.phone_code,a=t.withdraw_pass,l=t.pass_question_id,u=t.pass_question_answer,d=t.login_pass,p=this.validMode;return p===ne.I4.GA?{type:ne.I4.GA,google_code:i}:p===ne.I4.EMAIL?{type:ne.I4.EMAIL,email:n,email_code:r}:p===ne.I4.PHONE?{type:ne.I4.PHONE,phone:o,phone_code:s}:p===ne.I4.WITH_LOGIN_PWD?{type:ne.I4.WITH_LOGIN_PWD,login_pass:d}:p===ne.I4.WITHDRAW_PWD?{type:ne.I4.WITHDRAW_PWD,withdraw_pass:a}:p===ne.I4.QUESTION?{type:ne.I4.QUESTION,pass_question_id:l,pass_question_answer:u}:null}},{key:"renderBeforeLoginPwd",value:function(e){var t,i=this,n=this.$createElement,r=(0,ue.QT)().t;return n("div",{class:Ft.Z["render-content"]},[this.$slots["current-infos"]&&n("section",{class:(t={},(0,Y.Z)(t,Ft.Z.currentInfos,!0),(0,Y.Z)(t,Ft.Z.hiddenForm,!!e),t)},[this.$slots["current-infos"]]),!e&&[n(xt,{attrs:{bindTipsText:this.bindTipsText,withdrawPwdProp:"withdraw_pass",questionIdProp:"pass_question_id",questionAnswerProp:"pass_question_answer",questionDataQuery:(0,Q.Z)((0,q.Z)().mark((function e(){var t,i,n,r;return(0,q.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,le.apiGetQuestion)().then((function(e){var t;return(null===(t=e.data.data)||void 0===t?void 0:t.question)||[]})),(0,ae.Gd)().then((function(e){var t;return null===(t=e.data.data)||void 0===t?void 0:t.question}))]);case 2:return t=e.sent,i=(0,R.Z)(t,2),n=i[0],r=i[1],e.abrupt("return",{list:n,currentId:r});case 7:case"end":return e.stop()}}),e)}))),formData:this.formData,isCheckingLoginPwd:this.isCheckingLoginPwd,validTypeConfig:this.authGroupPasswordConfig},ref:"AuthGroupPassword",model:{value:i.formData,callback:function(e){i.formData=e}}}),n("section",{class:Ft.Z.loginPwdFooter},[n(te.zx.Tsx,{class:[Ft.Z.btnNext,"verification-btn__next"],attrs:{type:"primary",block:!this.isWeb,loading:this.isCheckingLoginPwd},on:{click:this.onSubmit}},[r("lobby.common.tips.next")])])]])}},{key:"renderSubmitBtns",value:function(){var e=this.$createElement,t=(0,ue.QT)().t,i=(0,de.h)().validateConfig;return e("div",{class:[Ft.Z.loginPwdSuccessFooter,this.isModalMode?Ft.Z.modaltype:""]},[e("div",{class:[Ft.Z.buttonGroup,"verification-btn__group"]},[this.steps==Dt.TWO_STEP_VERIFICATION&&e(te.zx.Tsx,{attrs:{type:"default"},on:{click:this.reset},class:Ft.Z.verificaBtn},[t("lobby.common.tips.return")]),this.steps==Dt.LOGIN_PWD_SUCCESS&&e(te.zx.Tsx,O()([{attrs:{type:"primary",block:!this.isWeb},class:"verification-btn__next"},this.nextBtnTsxData,{on:{click:this.next}}]),[e(ie.L4,{attrs:{rewardId:this.rewardType,right:kt.ZP.px2rem(-15)}}),i.hasGaOrEmailOrPhoneNumber||i.hasQuestionOrWithdrawPwd?t("lobby.common.tips.next"):t("lobby.common.tips.confirm")]),this.steps==Dt.TWO_STEP_VERIFICATION&&e(te.zx.Tsx,O()([{attrs:{type:"primary"},class:Ft.Z.verificaBtn},this.okBtnTsxData]),[e(ie.L4,{attrs:{rewardId:this.rewardType,right:kt.ZP.px2rem(-15)}}),t("lobby.common.tips.confirm")])])])}},{key:"isMandatoryBind",get:function(){return(0,de.h)().isBindModal}},{key:"hasotherWays",get:function(){return this.authGroupAConfig.length>0}},{key:"renderLoginPwdSuccess",value:function(){var e,t,i,n,r=this.$createElement;return r("div",{class:Ft.Z["render-content"]},[r("div",[null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t,{hasAuthWay:this.hasAuthWay,loginPwd:this.formData.login_pass,responseData:this.responseData})]),null===(i=(n=this.$scopedSlots).footer)||void 0===i?void 0:i.call(n,{hasAuthWay:this.hasAuthWay,renderSubmitBtns:this.renderSubmitBtns})])}},{key:"renderTwoStepVerification",value:function(){var e,t,i,n,r=this.$createElement,o=this.renderAuth,s=this.renderSubmitBtns,a=this.hasAuthWay;return r("div",{class:Ft.Z["render-content"]},[null===(e=(t=this.$scopedSlots).twoStepVerification)||void 0===e?void 0:e.call(t,{renderAuth:o}),null===(i=(n=this.$scopedSlots).footer)||void 0===i?void 0:i.call(n,{hasAuthWay:a,renderSubmitBtns:s})])}},{key:"render",value:function(){var e=this,t=arguments[0],i=(0,ue.QT)(),n=i.t,r=(0,de.h)(),o=r.validateConfig,s=[{id:Dt.BEFORE_LOGIN_PWD,label:n("lobby.center.security.passwordvalidation"),content:function(){return e.renderBeforeLoginPwd()}},{id:Dt.LOGIN_PWD_SUCCESS,label:this.secondStepName,content:function(){return e.renderLoginPwdSuccess()}},{id:Dt.TWO_STEP_VERIFICATION,label:n("lobby.center.security.twoStepVerification"),content:function(){return e.renderTwoStepVerification()},hidden:!o.hasGaOrEmailOrPhoneNumber&&!o.hasQuestionOrWithdrawPwd}].filter((function(e){return!e.hidden}));return t("section",{class:(0,Y.Z)({},Ct,!0)},[t("div",{class:[Et,this.isModalMode?Nt:"","business-stepVaild__steps"]},[t(te.Rg.Tsx,{attrs:{labelPlacement:"vertical",current:this.steps}},[(null==s?void 0:s.length)&&s.map((function(e,i){return t(te.Rg.Step.Tsx,{key:e.id,props:(0,V.Z)({},{title:e.label})},[t("span",{slot:"icon"},[i+1])])}))])]),t("div",{class:"steps-content"},[t("div",{class:[Ft.Z.main,this.isModalMode?Ft.Z.modaltype:"","steps-content-wrap"]},[t("div",{class:Ft.Z["basic-verification-content"],directives:[{name:"show",value:!this.isNoOtherGroupShow}]},[s[this.steps].content()]),this.isNoOtherGroupShow&&t("div",{class:Ft.Z["basic-verification-content"]},[t(At,{on:{setWithDrawPwdSuccess:this.setWithDrawPwdSuccess},attrs:{isNoOtherGroupShow:this.isNoOtherGroupShow,responseData:this.responseData}})])])])])}}]),r}(J.XY),yt=(0,K.Z)(bt.prototype,"AuthGroupPassword",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=(0,K.Z)(bt.prototype,"modifyType",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=(0,K.Z)(bt.prototype,"okBtnTsxData",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gt=(0,K.Z)(bt.prototype,"nextBtnTsxData",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=(0,K.Z)(bt.prototype,"showLoginPwdForm",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=(0,K.Z)(bt.prototype,"rewardType",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=(0,K.Z)(bt.prototype,"secondStepName",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=(0,K.Z)(bt.prototype,"bindTipsText",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=(0,K.Z)(bt.prototype,"isModalMode",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=(0,K.Z)(bt.prototype,"reset",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=(0,K.Z)(bt.prototype,"resetTwoStepForm",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=(0,K.Z)(bt.prototype,"next",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,K.Z)(bt.prototype,"onSubmit",[dt,pt],Object.getOwnPropertyDescriptor(bt.prototype,"onSubmit"),bt.prototype),(0,K.Z)(bt.prototype,"validModeChange",[ct,ht],Object.getOwnPropertyDescriptor(bt.prototype,"validModeChange"),bt.prototype),(0,K.Z)(bt.prototype,"onValidModeChange",[mt],Object.getOwnPropertyDescriptor(bt.prototype,"onValidModeChange"),bt.prototype),ft=bt))},98649:function(e,t,i){"use strict";i.d(t,{Z:function(){return U}});var n,r,o,s,a,l,u,d,p,c,h,m,f,b,y,Z=i(36568),v=i.n(Z),g=i(55673),w=i(74492),P=i(70970),_=i(7903),I=i(2813),T=i(3587),S=i(21797),W=i(92317),M=i(82345),D=i(72283),x=i(20793),k=i(50125),F=i(17360),A=(i(41320),i(92222),i(73210),i(41539),i(21249),i(82481),i(38880),i(30813)),C=i(14577),E=i(33990),N=i(5836),L=i(95306),O=i(37155),R=i(27994),q=i(90825),G=i(63445),H=i(81764),V=i(98292),Q=i(71707),z=i(95953),B=i(19281),U=(n=(0,A.wA)({name:"BaseModifyForm"}),r=(0,A.Rl)(),o=(0,A.Rl)(),s=(0,A.Rl)(),a=(0,A.fI)(),l=(0,C.WY)(),u=(0,C.K4)(),d=(0,C.WY)(),p=(0,C.K4)(),n((h=function(e){(0,D.Z)(s,e);var t,i,n,r,o=(0,x.Z)(s);function s(){var e;(0,S.Z)(this,s);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=o.call.apply(o,[this].concat(i)),(0,T.Z)((0,M.Z)(e),"formModelRef",m,(0,M.Z)(e)),(0,T.Z)((0,M.Z)(e),"stepFormModelRef",f,(0,M.Z)(e)),(0,T.Z)((0,M.Z)(e),"stepvaild",b,(0,M.Z)(e)),(0,T.Z)((0,M.Z)(e),"visible",y,(0,M.Z)(e)),(0,k.Z)((0,M.Z)(e),"isModalMode",!1),(0,k.Z)((0,M.Z)(e),"modalTitle","modalTitle"),(0,k.Z)((0,M.Z)(e),"form",{second_verify:new z.N}),(0,k.Z)((0,M.Z)(e),"modifyType",O.Zy.LOGIN_PASS),(0,k.Z)((0,M.Z)(e),"isFetching",!1),(0,k.Z)((0,M.Z)(e),"rewardType",E.sF.None),(0,k.Z)((0,M.Z)(e),"formModelValidRecord",{}),(0,k.Z)((0,M.Z)(e),"isDone",!1),(0,k.Z)((0,M.Z)(e),"doneTitle",""),(0,k.Z)((0,M.Z)(e),"responseData",null),(0,k.Z)((0,M.Z)(e),"currentStepParams",{type:E.I4.WITH_LOGIN_PWD,info_type:O.Zy.LOGIN_PASS,pass_question_id:null,pass_question_answer:"",withdraw_pass:"",login_pass:"",googleCode:"",google_code:"",phone:"",phoneCode:"",phone_code:"",email:"",emailCode:"",email_code:""}),(0,k.Z)((0,M.Z)(e),"firstFormParams",{type:E.I4.WITH_LOGIN_PWD,info_type:O.Zy.LOGIN_PASS,pass_question_id:null,pass_question_answer:"",withdraw_pass:"",login_pass:"",googleCode:"",google_code:"",phone:"",phoneCode:"",phone_code:"",email:"",emailCode:"",email_code:""}),(0,k.Z)((0,M.Z)(e),"lastFormParams",{type:E.I4.WITH_LOGIN_PWD,info_type:O.Zy.LOGIN_PASS,pass_question_id:null,pass_question_answer:"",withdraw_pass:"",login_pass:"",googleCode:"",google_code:"",phone:"",phoneCode:"",phone_code:"",email:"",emailCode:"",email_code:""}),e}return(0,W.Z)(s,[{key:"modalVisibility",get:function(){return this.visible},set:function(e){this.$emit("visibleChange",e)}},{key:"modalWidth",get:function(){return Q.ZP.px2rem(600)}},{key:"secondStepName",get:function(){return"第二步"}},{key:"bindTipsText",get:function(){return""}},{key:"stepsLength",get:function(){return this.stepvaild.stepList.length}},{key:"onSubmit",value:(r=(0,I.Z)((0,P.Z)().mark((function e(){var t,i,n,r,o,s,a,l,u,d,p,c,h=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFetching){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,t=(0,V.h)(),i=t.userInfos,n=t.systemInfos,r=(0,H.QT)(),o=r.t,this.modifyType!==O.Zy.PHONE||null==i||!i.mobile_phone||(null==n?void 0:n.enableModifyPhone)!==E.AI.CLOSE){e.next=8;break}return q.sG.Modal.message({type:"warning",content:o("lobby.center.security.noModificationPhone")}),e.abrupt("return");case 8:if(this.stepvaild.steps!==R.p.FIRST_STEP||1!==this.stepsLength){e.next=13;break}this.isFetching=!1,this.onSecondAction(),e.next=39;break;case 13:if(this.modifyType===O.Zy.QUESTIONS&&(null===(s=this.currentStepParams)||void 0===s?void 0:s.pass_question_answer)&&(null===(a=this.currentStepParams)||void 0===a||a.pass_question_answer.trim()),this.stepvaild.steps!==R.p.FIRST_STEP||2!==this.stepsLength||this.stepvaild.stepList[this.stepvaild.steps].id!==R.p.SECOND_STEP){e.next=21;break}return this.isFetching=!0,e.next=18,this.nextForModify().finally((function(){h.isFetching=!1}));case 18:this.stepvaild.steps=this.stepvaild.steps+1,e.next=39;break;case 21:return e.next=23,null===(l=this.stepFormModelRef)||void 0===l?void 0:l.validate();case 23:if(this.isFetching=!1,this.stepvaild.steps!==R.p.THIRD_STEP){e.next=31;break}return this.isFetching=!0,e.next=28,this.createFetchForModify().finally((function(){h.isFetching=!1}));case 28:this.isDone=!0,e.next=39;break;case 31:return this.isFetching=!0,d=this.stepvaild.getVerifyPayload(this.currentStepParams),p={firstVerify:(0,_.Z)({},d),info_type:this.modifyType},e.next=36,(0,G.CD)(p).finally((function(){h.isFetching=!1}));case 36:c=e.sent,this.responseData=null===(u=c.data.data)||void 0===u?void 0:u.info,this.$nextTick((function(){h.stepvaild.steps=h.stepvaild.steps+1}));case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(2),console.error(e.t0);case 44:case"end":return e.stop()}}),e,this,[[2,41]])}))),function(){return r.apply(this,arguments)})},{key:"onSecondAction",value:(n=(0,I.Z)((0,P.Z)().mark((function e(){var t,i=this;return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFetching){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,this.isFetching=!0,this.stepvaild.steps!==R.p.SECOND_STEP||2!==this.stepsLength||this.stepvaild.stepList[this.stepvaild.steps].id!==R.p.THIRD_STEP){e.next=10;break}return e.next=7,null===(t=this.stepFormModelRef)||void 0===t?void 0:t.validate();case 7:this.isFetching=!1,e.next=12;break;case 10:return e.next=12,this.nextForModify().finally((function(){i.isFetching=!1}));case 12:if(2!==this.stepsLength&&1!==this.stepsLength){e.next=18;break}return e.next=15,this.createFetchForModify().finally((function(){i.isFetching=!1}));case 15:this.isDone=!0,e.next=19;break;case 18:this.stepvaild.steps=this.stepvaild.steps+1;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),this.isFetching=!1,console.error(e.t0);case 25:case"end":return e.stop()}}),e,this,[[2,21]])}))),function(){return n.apply(this,arguments)})},{key:"updateRewardList",value:function(){(0,(0,V.h)().getRewardBindData)(!1,this.rewardType===E.sF.BindPhoneAndSMSValid?[E.sF.BindPhone,E.sF.SMSValid]:[this.rewardType])}},{key:"reset",value:function(){this.stepvaild.steps=R.p.FIRST_STEP,this.$reset()}},{key:"getModifyPayloadParams",value:function(){var e;return(e=this.stepvaild.stepList[this.stepvaild.steps].id===R.p.THIRD_STEP?this.stepvaild.getVerifyPayload(this.currentStepParams):this.stepvaild.getModifyPayload(this.form))?{second_verify:e}:{}}},{key:"onValidate",value:function(e,t){this.$set(this.formModelValidRecord,e,t)}},{key:"nextForModify",value:(i=(0,I.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.formModelRef.validate();case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"createFetchForModify",value:(t=(0,I.Z)((0,P.Z)().mark((function e(){return(0,P.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){return null}},{key:"renderDefault",value:function(e){var t=e.hasAuthWay,i=e.loginPwd,n=this.$createElement,r=this.renderCurrentFormItem({hasAuthWay:t,loginPwd:i,responseData:this.responseData})||[];return this.isDone?n("div",{class:B.Z.done},[n("i"),n("span",[this.doneTitle])]):n("div",[n(L.au.Tsx,v()([{on:{validate:this.onValidate},ref:"formModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.form}}]),[(0,w.Z)(r instanceof Array?r:[r])])])}},{key:"renderStepVerification",value:function(e){var t=e.renderAuth,i=this.$createElement;return i("div",[i(L.au.Tsx,v()([{on:{validate:this.onValidate},ref:"stepFormModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.currentStepParams}}]),[[t(this.currentStepParams)]])])}},{key:"renderFooter",value:function(e){return(0,e.renderSubmitBtns)()}},{key:"resetTwoStepForm",value:function(){var e;null===(e=this.stepFormModelRef)||void 0===e||e.resetFields()}},{key:"beforeDestroy",value:function(){this.reset()}},{key:"renderContent",value:function(){var e=this;return(0,this.$createElement)(z.Z,v()([{ref:"stepvaild",attrs:{isModalMode:this.isModalMode,secondStepName:this.secondStepName,bindTipsText:this.bindTipsText,formParams:this.currentStepParams,reset:this.reset,isDone:this.isDone,doneTitle:this.doneTitle,modifyType:this.modifyType,resetTwoStepForm:this.resetTwoStepForm,secondAction:this.onSecondAction,nextBtnTsxData:{props:{loading:this.isFetching}},okBtnTsxData:{props:{loading:this.isFetching},on:{click:this.onSubmit}},rewardType:this.rewardType},on:{validModeChange:function(t){e.form.second_verify.type=t.validMode},stepChange:function(t){e.currentStepParams=t===R.p.THIRD_STEP?e.lastFormParams:e.firstFormParams}},scopedSlots:{default:this.renderDefault,footer:this.renderFooter,stepVerification:this.renderStepVerification}},{directives:[{name:"click-outside",value:{capture:!0,handler:function(e){var t,i,n,r,o,s=e.target,a=(0,w.Z)((0,w.Z)(document.querySelectorAll(".".concat(N.q,",.ant-modal-root,#__ga_grayLayout__,.ant-select-dropdown,.ant-message-error,.geetest_captcha,.geetest_box,.common-tabs-content,#security-tab-email,#security-tab-phone,#security-tab-ga,#security-tab-withdrawPass,#liveWindow"))).map((function(e){return function(){return function(e,t){return e&&(e.contains(t)||e===t)}(e,s)}}))),l=(0,g.Z)(a);try{for(l.s();!(o=l.n()).done;){if((0,o.value)())return}}catch(f){l.e(f)}finally{l.f()}var u=(0,V.h)(),d=u.validateConfig,p=u.globalModalManager,c=u.getBindItem,h=u.userInfos,m=(null==h?void 0:h.must_bind_item)-c().bindItemLength;(null!==(t=d.forceBind)&&void 0!==t&&t.phone||null!==(i=d.forceBind)&&void 0!==i&&i.email||null!==(n=d.forceBind)&&void 0!==n&&n.ga||null!==(r=d.forceBind)&&void 0!==r&&r.withdrawPass)&&m>0&&(null==p||p.repeat(),e.stopPropagation(),e.preventDefault())}}}]}]))}},{key:"render",value:function(){var e=this,t=arguments[0];return this.isModalMode?t(L.u_.Tsx,v()([{class:B.Z.stepvaildModal,attrs:{centered:!0}},{directives:[{name:"perfect-scrollbar",value:{el:function(e){return e.querySelector(".ant-modal-content")}}}]},{attrs:{maskClosable:!1,destroyOnClose:!0,afterClose:this.reset,footer:null,width:this.modalWidth,title:this.modalTitle},model:{value:e.modalVisibility,callback:function(t){e.modalVisibility=t}}}]),[this.renderContent()]):this.renderContent()}}]),s}(A.XY),m=(0,F.Z)(h.prototype,"formModelRef",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,F.Z)(h.prototype,"stepFormModelRef",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,F.Z)(h.prototype,"stepvaild",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,F.Z)(h.prototype,"visible",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,F.Z)(h.prototype,"onSubmit",[l,u],Object.getOwnPropertyDescriptor(h.prototype,"onSubmit"),h.prototype),(0,F.Z)(h.prototype,"onSecondAction",[d,p],Object.getOwnPropertyDescriptor(h.prototype,"onSecondAction"),h.prototype),c=h))||c)},95953:function(e,t,i){"use strict";i.d(t,{N:function(){return qt},Z:function(){return Ht}});var n,r,o,s,a,l,u,d,p,c,h,m,f,b,y,Z,v,g,w,P,_,I,T,S,W,M,D,x,k,F,A,C,E,N,L,O,R,q,G,H,V,Q,z,B,U,$,K,j,X,Y,J,ee,te,ie,ne=i(7903),re=i(22705),oe=i(36568),se=i.n(oe),ae=i(3587),le=i(82345),ue=i(72283),de=i(20793),pe=i(17360),ce=(i(41320),i(92317)),he=i(21797),me=i(50125),fe=(i(92222),i(26699),i(69720),i(32023),i(21249),i(38880),i(30813)),be=i(95306),ye=i(90416),Ze=i(33990),ve=i(90825),ge=i(72433),we=i(37155),Pe=i(27994),_e=i(81830),Ie=i(81764),Te=i(98292),Se=i(95627),We=i(50361),Me=i.n(We),De=i(36968),xe=i.n(De),ke=i(27361),Fe=i.n(ke),Ae=i(70970),Ce=i(2813),Ee=(i(41539),i(78783),i(33948),i(69826),i(74916),i(15306),i(21703),i(14577)),Ne=i(63445),Le=i(42885),Oe=i(71707),Re=i(83110),qe=i(99231),Ge=i(74850),He=i.n(Ge),Ve=i(59933),Qe=i.n(Ve),ze=i(73161),Be="Qb6i4nl2MJswheJVQkEM",Ue="O41TgFAKqcapfBqydVdq",$e="uDPFO1TT_hiMMmB9Y6zG",Ke="MGq2WEy6jorTDPujXNUs",je="ffCKBq80KG0H3PWmAU4D",Xe="YLOTcanrQ50XEWVtPsiH",Ye="qZhGYtHjfwOfKZaRGlLA",Je="FI1_adfYkQhgFfJ45V3L",et="ZEJhykfOnU1Cn3qehari",tt="vGi0sro_YDWM9xZ56aZi",it="JDOyfJArfeC3Od1qdF7u",nt="WjXvsyHETXS3kwMqBq8P",rt="CnHVDL2ucrHGJ3YIq8pe",ot=i(41800);!function(e){e[e.WITH_GA=Ze.I4.GA]="WITH_GA",e[e.WITH_EMAIL=Ze.I4.EMAIL]="WITH_EMAIL",e[e.WITH_PHONE=Ze.I4.PHONE]="WITH_PHONE",e[e.WITH_QUESTION=Ze.I4.QUESTION]="WITH_QUESTION",e[e.WITH_WITHDRAW_PWD=Ze.I4.WITHDRAW_PWD]="WITH_WITHDRAW_PWD",e[e.WITH_LOGIN_PWD=Ze.I4.WITH_LOGIN_PWD]="WITH_LOGIN_PWD"}(ie||(ie={}));var st,at,lt,ut,dt,pt,ct,ht,mt,ft,bt,yt,Zt,vt,gt,wt,Pt,_t,It,Tt,St,Wt,Mt,Dt,xt,kt,Ft,At,Ct,Et,Nt,Lt=(n=(0,fe.wA)({name:"AuthGroupVaild"}),r=(0,fe.Rl)(),o=(0,fe.fI)(Se.ZP.looseBool.def(!1)),s=(0,fe.fI)(),a=(0,fe.fI)(Se.ZP.object.isRequired),l=(0,fe.fI)(Se.ZP.string.isRequired),u=(0,fe.fI)(Se.ZP.string.isRequired),d=(0,fe.fI)(Se.ZP.string.def("login_pass")),p=(0,fe.fI)(Se.ZP.string.def("withdraw_pass")),c=(0,fe.fI)(Se.ZP.string.def("pass_question_id")),h=(0,fe.fI)(Se.ZP.string.def("pass_question_answer")),m=(0,fe.fI)(Se.ZP.string),f=(0,fe.fI)(),b=(0,fe.fI)(Se.ZP.array.def((function(){return[ie.WITH_GA,ie.WITH_EMAIL,ie.WITH_PHONE,ie.WITH_QUESTION,ie.WITH_WITHDRAW_PWD,ie.WITH_LOGIN_PWD]}))),y=(0,fe.fI)(Se.ZP.string.def("googleCode")),Z=(0,fe.fI)(Se.ZP.string.def("emailCode")),v=(0,fe.fI)(Se.ZP.string.def("phoneCode")),g=(0,fe.fI)(Se.ZP.string.def("email")),w=(0,fe.fI)(Se.ZP.string.def("phone")),P=(0,fe.fI)(),_=(0,fe.fI)(),I=(0,fe.fI)(),T=(0,fe.fI)(),S=(0,fe.fI)(),W=(0,Ee.WY)(),M=(0,Ee.K4)(),D=(0,fe.RL)("store.language",{immediate:!0}),n((k=function(e){(0,ue.Z)(a,e);var t,i,n,r,o,s=(0,de.Z)(a);function a(){var e;(0,he.Z)(this,a);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=s.call.apply(s,[this].concat(i)),(0,ae.Z)((0,le.Z)(e),"phoneNumberFormItemRef",F,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"hiddenToggle",A,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"bindTipsText",C,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"formModel",E,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"desensitizedEmail",N,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"desensitizedPhoneNumber",L,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"loginPwdProp",O,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"withdrawPwdProp",R,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"questionIdProp",q,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"questionAnswerProp",G,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"username",H,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"validMode",V,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"validTypeConfig",Q,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"googleCodeProp",z,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"emailCodeProp",B,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"phoneCodeProp",U,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"emailProp",$,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"phoneProp",K,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"emailSendFunPromise",j,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"phoneSendFunPromise",X,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"emailValidFunPromise",Y,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"phoneValidFunPromise",J,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"questionDataQuery",ee,(0,le.Z)(e)),(0,me.Z)((0,le.Z)(e),"isEmailPassed",null),(0,me.Z)((0,le.Z)(e),"isPhoneNumberPassed",null),(0,me.Z)((0,le.Z)(e),"phoneNumberValidError",null),(0,me.Z)((0,le.Z)(e),"emailCheckErrorMessage",(0,Ie.QT)().t("lobby.common.components.auth.email.required")),(0,me.Z)((0,le.Z)(e),"isEmailChecking",!1),(0,me.Z)((0,le.Z)(e),"isPhoneNumberChecking",!1),(0,me.Z)((0,le.Z)(e),"store",(0,Te.h)()),(0,me.Z)((0,le.Z)(e),"questionList",[]),e}return(0,ce.Z)(a,[{key:"queryQuestionData",value:(o=(0,Ce.Z)((0,Ae.Z)().mark((function e(t){var i,n,r,o,s;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.validTypeConfig.includes(ie.WITH_QUESTION)&&0===this.questionList.length||t)){e.next=14;break}return e.prev=1,n=this.questionDataQuery||(0,Ce.Z)((0,Ae.Z)().mark((function e(){var t,i,n,r;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,_e.apiGetQuestion)().then((function(e){var t;return(null===(t=e.data.data)||void 0===t?void 0:t.question)||[]})),(0,Ne.Gd)().then((function(e){var t;return null===(t=e.data.data)||void 0===t?void 0:t.question}))]);case 2:return t=e.sent,i=(0,re.Z)(t,2),n=i[0],r=i[1],e.abrupt("return",{list:n,currentId:r});case 7:case"end":return e.stop()}}),e)}))),e.next=5,n();case 5:r=e.sent,this.questionList=r.list,o=null!==(i=r.currentId)&&void 0!==i?i:Fe()(this.formModel,this.questionIdProp),s=this.questionList.find((function(e){return e.id===o})),xe()(this.formModel,this.questionIdProp,s?s.id:r.currentId),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e){return o.apply(this,arguments)})},{key:"toggleValidMode",value:(r=(0,Ce.Z)((0,Ae.Z)().mark((function e(t){var i;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.formModel.type=t,this.isPhoneNumberPassed=null,this.isEmailPassed=null,this.emailCheckErrorMessage=(0,Ie.QT)().t("lobby.common.components.auth.email.required"),this.$emit("validModeChange",t),null===(i=te)||void 0===i||i.destroy();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"validModeInfoMap",get:function(){var e,t=(0,Ie.QT)().t;return e={},(0,me.Z)(e,ie.WITH_GA,{title:t("lobby.common.components.auth.ga.title"),sprite:ze.Z.sprite_main_icon_wd_ggyz_b}),(0,me.Z)(e,ie.WITH_EMAIL,{title:t("lobby.common.components.auth.email.title"),sprite:ze.Z.sprite_main_icon_wd_yxyz}),(0,me.Z)(e,ie.WITH_PHONE,{title:t("lobby.common.components.auth.phone.title"),sprite:ze.Z.sprite_main_icon_wd_dxyz}),(0,me.Z)(e,ie.WITH_QUESTION,{title:t("lobby.common.components.auth.question.title"),sprite:ze.Z.sprite_main_icon_wd_mbyz_b}),(0,me.Z)(e,ie.WITH_WITHDRAW_PWD,{title:t("lobby.center.security.withdrawalPwd.tab"),sprite:ze.Z.sprite_main_icon_wd_txmm_b}),(0,me.Z)(e,ie.WITH_LOGIN_PWD,{title:t("lobby.center.security.valid"),sprite:ze.Z.sprite_main_icon_wd_dlmm_b}),e}},{key:"isWeb",get:function(){return(0,Te.h)().isWeb}},{key:"setGoogleCodeValue",value:function(e){xe()(this.formModel,this.googleCodeProp,(0,Le.$A)(e||"",{maxLength:6}))}},{key:"openModeSwitchModal",value:function(){var e=this,t=this.$createElement,i=(0,Ie.QT)().t,n=(0,Te.h)().language,r=this.isWeb?500:600;te=ve.sG.Modal.create({class:"".concat(Be," ").concat(this.validTypeConfig.length<=1?Ye:""),titlePosition:"center",closable:!0,hiddenBtns:!0,width:Oe.ZP.px2rem(r),title:function(){return i("lobby.common.components.auth.othersVerify")},content:function(){return t("div",{class:Ue},[t("div",{class:[je,e.validTypeConfig.length>1?Xe:""]},[Me()(e.validTypeConfig).map((function(i){var n=e.validModeInfoMap[i];return t("div",{key:i,on:{click:e.toggleValidMode.bind(e,i)}},[t(be.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var i=n.sprite,r=(e.isWeb?30:46)/i.width;return t("icon-sprite",{attrs:{scale:r,sprite:i}})}}}}),t("span",[n.title])])}))]),e.validTypeConfig.length<=1&&t(Re.Z,{class:[qe.Z.guide,$e,"vi_VN"===n?Ke:""],attrs:{mode:"AuthUnavailable"}})])}})}},{key:"renderDesensitizationInfos",value:function(){var e=this.$createElement;if([ie.WITH_EMAIL,ie.WITH_PHONE].includes(this.validMode)){var t=(0,Ie.QT)().t,i=Oe.ZP.emailCheckParse(this.desensitizedEmail),n=this.validMode===ie.WITH_EMAIL?[t("lobby.common.components.auth.email.current"),"".concat(i.prefix,"***").concat(i.emaildomain)]:[t("lobby.common.components.auth.phone.current"),this.desensitizedPhoneNumber.replace("-"," ")],r=(0,re.Z)(n,2),o=r[0],s=r[1];return e("div",{class:qe.Z.infos},[e("span",{class:qe.Z.key},[o]),e("span",{class:qe.Z.value},[s])])}return null}},{key:"validEmailInput",value:(n=(0,Ce.Z)((0,Ae.Z)().mark((function e(t){var i,n,r,o,s,a,l,u;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,Ie.QT)(),n=i.t,!this.isEmailPassed&&t){e.next=3;break}return e.abrupt("return");case 3:return o=this.username,r=this.emailValidFunPromise?this.emailValidFunPromise(t):(0,_e.apiVerifyEmailNotLogin)({email:t,username:o},{silentOnError:!0}),this.isEmailChecking=!0,this.emailCheckErrorMessage=n("lobby.common.tips.validating"),e.next=9,(0,ot.Z)(r);case 9:if(s=e.sent,a=(0,re.Z)(s,1),l=a[0],this.isEmailChecking=!1,!l){e.next=22;break}if(this.isEmailPassed=!1,!(u=l).data.msg){e.next=19;break}return this.emailCheckErrorMessage=u.data.msg,e.abrupt("return");case 19:this.emailCheckErrorMessage=n("lobby.common.components.auth.email.error"),e.next=24;break;case 22:this.emailCheckErrorMessage=n("lobby.common.components.auth.email.success"),this.isEmailPassed=!0;case 24:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"validPhoneNumberInput",value:(i=(0,Ce.Z)((0,Ae.Z)().mark((function e(t){var i,n,r,o,s;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<this.desensitizedPhoneNumber.length)){e.next=3;break}return this.isPhoneNumberPassed=null,e.abrupt("return",Promise.reject(new Error));case 3:return n=this.username,i=this.phoneValidFunPromise?this.phoneValidFunPromise(t):(0,_e.apiVerifyPhoneNumberNotLogin)({phone:t,username:n},{silentOnError:!0}),this.isPhoneNumberChecking=!0,e.next=8,(0,ot.Z)(i);case 8:if(r=e.sent,o=(0,re.Z)(r,1),s=o[0],this.phoneNumberValidError=s,this.isPhoneNumberChecking=!1,this.isPhoneNumberPassed=!s,!s){e.next=16;break}return e.abrupt("return",Promise.reject(s));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e,t,i,n=this,r=arguments[0],o=(0,Ie.QT)(),s=o.t,a=ve.sG.FuncRender.createFormModelItem.call(this);return r("div",[[this.hiddenToggle?null:r("div",{class:qe.Z.toggleContainer},[r("div",{class:qe.Z.toggle},[r("span",{class:qe.Z.title},[this.validModeInfoMap[this.validMode].title]),r(be.zx.Tsx,{attrs:{type:"link"},class:qe.Z.btn,on:{click:this.openModeSwitchModal}},[s("lobby.common.components.auth.othersVerify")])]),this.renderDesensitizationInfos(),r("div",{directives:[{name:"show",value:this.validMode===ie.WITH_LOGIN_PWD}],class:Je},[this.bindTipsText])]),this.validMode===ie.WITH_GA&&[a.custom({prop:this.googleCodeProp,model:this.formModel,formModelItemTsxData:{props:{rules:[ve.sG.Rules.required({requiredItem:s("lobby.common.components.auth.ga.label")}),ve.sG.Rules.create({required:!0,validator:function(e,t,i){return n.setGoogleCodeValue(t),i(),!0}})]}},render:function(){return[r("template",{slot:"label"},[r("div",{class:qe.Z.label},[r("div",[r(be.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var e=n.validModeInfoMap[ie.WITH_GA].sprite,t=30/e.width;return r("icon-sprite",{attrs:{scale:t,sprite:e}})}}}}),r("span",[s("lobby.common.components.auth.ga.label")])])])]),r(be.II.Tsx,{ref:"googleAuthInputRef",attrs:(0,ne.Z)({value:Fe()(n.formModel,n.googleCodeProp),placeholder:s("lobby.common.components.auth.ga.inputTips")},{autocomplete:"off",maxLength:6}),on:{change:ve.sG.FuncRender.createOnInputChange(n.formModel,n.googleCodeProp)}},[r("template",{slot:"suffix"},[r(ye.Gy,{on:{complete:function(e){n.setGoogleCodeValue(e)}}})])])]}})],this.validMode===ie.WITH_EMAIL&&[a.custom({hiddenPrefix:!0,showLabel:!0,prop:this.emailProp,model:this.formModel,formModelItemTsxData:{class:[et],ref:"emailFormItemRef",props:{autoLink:!1,help:function(){return r("div",{class:[tt,n.isEmailPassed?rt:""]},[r("div",{class:it}),r("div",{class:Je},[n.emailCheckErrorMessage]),r("div",{class:nt})])},rules:[ve.sG.Rules.create({trigger:["blur","change"],asyncValidator:(i=(0,Ce.Z)((0,Ae.Z)().mark((function e(t,i,r){var o,s,a,l,u;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.Z)(n.validEmailInput(i));case 2:if(o=e.sent,s=(0,re.Z)(o,1),!(a=s[0])){e.next=9;break}return u=(0,ne.Z)({},a),r((null==u||null===(l=u.data)||void 0===l?void 0:l.msg)||""),e.abrupt("return");case 9:return e.abrupt("return",r());case 10:case"end":return e.stop()}}),e)}))),function(e,t,n){return i.apply(this,arguments)})})]}},render:function(){return r("div",[r(ye.$_,{attrs:{emailCheckTemplate:n.desensitizedEmail,disabled:n.isEmailPassed},on:{complete:function(){var e=(0,Ce.Z)((0,Ae.Z)().mark((function e(t){return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe()(n.formModel,n.emailProp,t),e.next=3,(0,ot.Z)(n.validEmailInput(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})])}}),r(ye.F0,{key:"emailCode",attrs:{username:this.username,getCodeFunPromise:this.emailSendFunPromise,hiddenPrefix:!0,showLabel:!0,mode:"email",prop:this.emailCodeProp,targetValue:Fe()(this.formModel,this.emailProp),disabled:!this.isEmailPassed,value:Fe()(this.formModel,this.emailCodeProp)},on:{input:function(e){return xe()(n.formModel,n.emailCodeProp,e)}}})],this.validMode===ie.WITH_PHONE&&[a.custom({hiddenPrefix:!0,showLabel:!0,prop:this.phoneProp,model:this.formModel,formModelItemTsxData:{class:[et],ref:"phoneNumberFormItemRef",props:{autoLink:!1,help:function(){var e,t;return r("div",{class:[tt,n.isPhoneNumberPassed?rt:""]},[r("div",{class:it}),r("div",{class:Je},[n.isPhoneNumberChecking?s("lobby.common.tips.validating"):null===n.isPhoneNumberPassed?s("lobby.common.components.auth.phone.required",{length:Oe.ZP.phoneNumberParse(n.desensitizedPhoneNumber).placeholder.length}):!0===n.isPhoneNumberPassed?s("lobby.common.components.auth.phone.success"):!1===n.isPhoneNumberPassed?1216===(null===(e=n.phoneNumberValidError)||void 0===e?void 0:e.data.code)?s("lobby.common.components.auth.phone.error"):null===(t=n.phoneNumberValidError)||void 0===t?void 0:t.data.msg:void 0]),r("div",{class:nt})])},rules:[ve.sG.Rules.create({trigger:["blur"],asyncValidator:(t=(0,Ce.Z)((0,Ae.Z)().mark((function e(t,i,r){var o,s,a,l,u;return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ot.Z)(n.validPhoneNumberInput(i));case 2:if(o=e.sent,s=(0,re.Z)(o,1),!(a=s[0])){e.next=9;break}return u=(0,ne.Z)({},a),r((null==u||null===(l=u.data)||void 0===l?void 0:l.msg)||""),e.abrupt("return");case 9:return e.abrupt("return",r());case 10:case"end":return e.stop()}}),e)}))),function(e,i,n){return t.apply(this,arguments)})})]}},render:function(){return r("div",[r(ye.Ql,{ref:"phoneAuthInputRef",on:{complete:function(){var e;null===(e=n.phoneNumberFormItemRef)||void 0===e||e.onFieldBlur()},blur:function(){var e;return null===(e=n.phoneNumberFormItemRef)||void 0===e?void 0:e.onFieldBlur()},input:function(e){var t;xe()(n.formModel,n.phoneProp,e),null===(t=n.phoneNumberFormItemRef)||void 0===t||t.onFieldChange()}},attrs:{disabled:!!n.isPhoneNumberPassed,value:Fe()(n.formModel,n.phoneProp),phoneNumberTemplate:n.desensitizedPhoneNumber}})])}}),1===(null===(e=(0,Te.h)().systemInfos)||void 0===e?void 0:e.enable_using_sms)&&r(ye.F0,{key:"phoneCode",attrs:{username:this.username,getCodeFunPromise:this.phoneSendFunPromise,hiddenPrefix:!0,showLabel:!0,mode:"sms",prop:this.phoneCodeProp,targetValue:Fe()(this.formModel,this.phoneProp),disabled:!this.isPhoneNumberPassed,value:Fe()(this.formModel,this.phoneCodeProp)},on:{input:function(e){return xe()(n.formModel,n.phoneCodeProp,e)}}})],this.validMode===ie.WITH_QUESTION&&[a.baseSelect({prop:this.questionIdProp,model:this.formModel,listData:this.questionList.map((function(e){return{value:e.id,label:e.question}})),selectTsxData:{props:{getPopupContainer:function(e){return e.parentNode}}},current:Fe()(this.formModel,this.questionIdProp),onSelectChange:function(e){xe()(n.formModel,n.questionIdProp,e)},render:function(){return[r("template",{slot:"label"},[r("div",{class:qe.Z.label},[r("div",[r(be.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return r("icon-sprite",{attrs:{sprite:He()}})}}}}),r("span",[s("lobby.common.components.auth.question.label")])])])])]}}),a.custom({prop:this.questionAnswerProp,model:this.formModel,formModelItemTsxData:{props:{rules:[ve.sG.Rules.required({requiredItem:s("lobby.common.components.auth.question.title")})]}},render:function(){return[r("template",{slot:"label"},[r("div",{class:qe.Z.label},[r("div",[r(be.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return r("icon-sprite",{attrs:{sprite:Qe()}})}}}}),r("span",[s("lobby.common.components.auth.question.label2")])])])]),r(be.II.Tsx,{ref:"passQuestionAnswerRef",attrs:{placeholder:s("lobby.common.components.auth.question.inputTips"),value:Fe()(n.formModel,n.questionAnswerProp),maxLength:20},on:{change:ve.sG.FuncRender.createOnInputChange(n.formModel,n.questionAnswerProp)}})]}})],this.validMode===ie.WITH_WITHDRAW_PWD&&a.custom({prop:this.withdrawPwdProp,model:this.formModel,formModelItemTsxData:{props:{rules:[ve.sG.Rules.paypass({length:6},{required:!0})]}},render:function(){return[r(ye.KH,{ref:"withdrawNumberInputRef",attrs:{showLabel:!0,value:Fe()(n.formModel,n.withdrawPwdProp)},on:{input:function(e){xe()(n.formModel,n.withdrawPwdProp,e)}}})]}}),this.validMode===ie.WITH_LOGIN_PWD&&a.userpass({label:s("lobby.center.security.loginLable"),showLabel:!0,hiddenPrefix:!0,hiddenIcon:!0,prop:this.loginPwdProp,model:this.formModel,inputTsxData:{attrs:{placeholder:s("lobby.center.security.loginPwd.placeholder")}},getRules:function(e){return[e.required]}})]])}},{key:"changeLanguageKey",value:(t=(0,Ce.Z)((0,Ae.Z)().mark((function e(t,i){return(0,Ae.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&t!==i&&this.queryQuestionData(!0);case 1:case"end":return e.stop()}}),e,this)}))),function(e,i){return t.apply(this,arguments)})},{key:"created",value:function(){this.queryQuestionData()}}]),a}(fe.XY),F=(0,pe.Z)(k.prototype,"phoneNumberFormItemRef",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,pe.Z)(k.prototype,"hiddenToggle",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,pe.Z)(k.prototype,"bindTipsText",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,pe.Z)(k.prototype,"formModel",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,pe.Z)(k.prototype,"desensitizedEmail",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,pe.Z)(k.prototype,"desensitizedPhoneNumber",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,pe.Z)(k.prototype,"loginPwdProp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,pe.Z)(k.prototype,"withdrawPwdProp",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,pe.Z)(k.prototype,"questionIdProp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,pe.Z)(k.prototype,"questionAnswerProp",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,pe.Z)(k.prototype,"username",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,pe.Z)(k.prototype,"validMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,pe.Z)(k.prototype,"validTypeConfig",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,pe.Z)(k.prototype,"googleCodeProp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,pe.Z)(k.prototype,"emailCodeProp",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,pe.Z)(k.prototype,"phoneCodeProp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,pe.Z)(k.prototype,"emailProp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,pe.Z)(k.prototype,"phoneProp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,pe.Z)(k.prototype,"emailSendFunPromise",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,pe.Z)(k.prototype,"phoneSendFunPromise",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,pe.Z)(k.prototype,"emailValidFunPromise",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,pe.Z)(k.prototype,"phoneValidFunPromise",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,pe.Z)(k.prototype,"questionDataQuery",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,pe.Z)(k.prototype,"toggleValidMode",[W,M],Object.getOwnPropertyDescriptor(k.prototype,"toggleValidMode"),k.prototype),(0,pe.Z)(k.prototype,"changeLanguageKey",[D],Object.getOwnPropertyDescriptor(k.prototype,"changeLanguageKey"),k.prototype),x=k))||x),Ot=i(19281),Rt=i(47526),qt=(0,ce.Z)((function e(){(0,he.Z)(this,e),(0,me.Z)(this,"type",Ze.I4.GA),(0,me.Z)(this,"login_pass",""),(0,me.Z)(this,"withdraw_pass",""),(0,me.Z)(this,"pass_question_id",-1),(0,me.Z)(this,"pass_question_answer",""),(0,me.Z)(this,"google_code",""),(0,me.Z)(this,"email",""),(0,me.Z)(this,"email_code",""),(0,me.Z)(this,"phone",""),(0,me.Z)(this,"phone_code","")})),Gt=(st=(0,fe.wA)({name:"StepValid"}),at=(0,fe.fI)((0,Se.Rx)().def(we.Zy.LOGIN_PASS)),lt=(0,fe.fI)((0,Se.Ry)().def({})),ut=(0,fe.fI)((0,Se.Ry)().def({})),dt=(0,fe.fI)(Se.ZP.number.def(Ze.sF.None)),pt=(0,fe.fI)(),ct=(0,fe.fI)(),ht=(0,fe.fI)(),mt=(0,fe.fI)(),ft=(0,fe.fI)(),bt=(0,fe.fI)(),yt=(0,fe.fI)(),Zt=(0,fe.fI)(),vt=(0,fe.fI)(),gt=(0,fe.RL)("validMode",{immediate:!0}),wt=(0,fe.RL)("steps",{immediate:!0}),st((_t=function(e){(0,ue.Z)(i,e);var t=(0,de.Z)(i);function i(){var e;(0,he.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,ae.Z)((0,le.Z)(e),"modifyType",It,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"okBtnTsxData",Tt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"nextBtnTsxData",St,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"rewardType",Wt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"secondStepName",Mt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"bindTipsText",Dt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"isModalMode",xt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"isDone",kt,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"doneTitle",Ft,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"reset",At,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"resetTwoStepForm",Ct,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"secondAction",Et,(0,le.Z)(e)),(0,ae.Z)((0,le.Z)(e),"formParams",Nt,(0,le.Z)(e)),(0,me.Z)((0,le.Z)(e),"steps",Pe.p.FIRST_STEP),(0,me.Z)((0,le.Z)(e),"validMode",-1),(0,me.Z)((0,le.Z)(e),"verifyFirstKey",[]),(0,me.Z)((0,le.Z)(e),"verifyLastKey",[]),(0,me.Z)((0,le.Z)(e),"stepList",[]),e}return(0,ce.Z)(i,[{key:"hasAuthWay",get:function(){return![-1,"none"].includes(this.validMode)}},{key:"watchValidMode",value:function(){[-1,"none"].includes(this.validMode)||(this.$emit("validModeChange",{validMode:this.validMode,stepsLength:this.stepList.length}),this.resetTwoStepForm&&this.resetTwoStepForm())}},{key:"onStepChange",value:function(e){this.stepList.length&&(e===Pe.p.FIRST_STEP&&this.verifyFirstKey.length?this.validMode=this.verifyFirstKey[0]:e===Pe.p.THIRD_STEP&&this.verifyLastKey.length&&(this.validMode=this.verifyLastKey[0])),this.$emit("stepChange",e)}},{key:"isWeb",get:function(){return(0,Te.h)().isWeb}},{key:"renderFirstAuth",value:function(e){var t=this,i=this.$createElement;if(-1===this.validMode)return null;if("none"===this.validMode)return i(ge.h_,{attrs:{to:ve.CM.PortalName.SecurityCenterService}},[i(Re.Z,{class:Rt.Z.toCustomerServiceWithNotValid})]);var n=(0,Te.h)(),r=n.validateConfig,o=r.email,s=r.phoneNumber,a=n.userInfos,l=this.verifyFirstKey;if(l.length){var u=(null==a?void 0:a.platfromid)||"";return i("div",[i(Lt,{attrs:{googleCodeProp:"googleCode",emailCodeProp:"emailCode",emailProp:"email",phoneCodeProp:"phoneCode",phoneProp:"phone",withdrawPwdProp:"withdraw_pass",loginPwdProp:"login_pass",questionIdProp:"pass_question_id",questionAnswerProp:"pass_question_answer",bindTipsText:this.bindTipsText,username:u,desensitizedEmail:o,desensitizedPhoneNumber:s,formModel:e,validMode:this.validMode,validTypeConfig:l,phoneSendFunPromise:function(e){return(0,_e.apiGetSmsCodeAfterLogined)({create_mode:Ze.FW.Verify,limit_type:"phone",phone_number:e})},emailSendFunPromise:function(e){return(0,_e.apiGetEmailCodeAfterLogin)({create_mode:Ze.FW.Verify,limit_type:"phone",email:e})},phoneValidFunPromise:function(e){return(0,_e.apiVerifyPhoneNumberAfterLogin)({phone:e},{silentOnError:!0})},emailValidFunPromise:function(e){return(0,_e.apiVerifyEmailAfterLogin)({email:e},{silentOnError:!0})}},on:{validModeChange:function(e){t.validMode=e}}})])}return null}},{key:"renderLastAuth",value:function(e){var t=this,i=this.$createElement;if(-1===this.validMode)return null;if("none"===this.validMode)return i(ge.h_,{attrs:{to:ve.CM.PortalName.SecurityCenterService}},[i(Re.Z,{class:Rt.Z.toCustomerServiceWithNotValid})]);if(this.isDone)return i("div",{class:Ot.Z.done},[i("i"),i("span",[this.doneTitle])]);var n=(0,Te.h)(),r=n.validateConfig,o=r.email,s=r.phoneNumber,a=n.userInfos,l=this.verifyLastKey;if(l.length){var u=(null==a?void 0:a.platfromid)||"";return i("div",[i(Lt,{attrs:{googleCodeProp:"google_code",emailCodeProp:"email_code",emailProp:"email",phoneCodeProp:"phone_code",phoneProp:"phone",withdrawPwdProp:"withdraw_pass",loginPwdProp:"login_pass",questionIdProp:"pass_question_id",questionAnswerProp:"pass_question_answer",bindTipsText:this.bindTipsText,username:u,desensitizedEmail:o,desensitizedPhoneNumber:s,formModel:e,validMode:this.validMode,validTypeConfig:l,phoneSendFunPromise:function(e){return(0,_e.apiGetSmsCodeAfterLogined)({create_mode:Ze.FW.Verify,limit_type:"phone",phone_number:e})},emailSendFunPromise:function(e){return(0,_e.apiGetEmailCodeAfterLogin)({create_mode:Ze.FW.Verify,limit_type:"phone",email:e})},phoneValidFunPromise:function(e){return(0,_e.apiVerifyPhoneNumberAfterLogin)({phone:e},{silentOnError:!0})},emailValidFunPromise:function(e){return(0,_e.apiVerifyEmailAfterLogin)({email:e},{silentOnError:!0})}},on:{validModeChange:function(e){t.validMode=e}}})])}return null}},{key:"getModifyPayload",value:function(e){var t=e.google_code,i=e.email,n=e.email_code,r=e.phone,o=e.phone_code,s=e.withdraw_pass,a=e.pass_question_id,l=e.pass_question_answer,u=e.login_pass;if(1===this.stepList.length||2===this.stepList.length&&1===this.steps)return{type:we.Zy.NONE};var d=this.modifyType;return d===we.Zy.GA?{type:we.Zy.GA,google_code:t}:d===we.Zy.EMAIL?{type:we.Zy.EMAIL,email:i,email_code:n}:d===we.Zy.PHONE?{type:we.Zy.PHONE,phone:r,phone_code:o}:d===we.Zy.LOGIN_PASS?{type:we.Zy.LOGIN_PASS,login_pass:u}:d===we.Zy.WITHDRAW_PASS?{type:we.Zy.WITHDRAW_PASS,withdraw_pass:s}:d===we.Zy.QUESTIONS?{type:we.Zy.QUESTIONS,pass_question_id:a,pass_question_answer:l}:null}},{key:"getVerifyPayload",value:function(e){var t=e.googleCode,i=e.google_code,n=e.email,r=e.emailCode,o=e.phone,s=e.phoneCode,a=e.phone_code,l=e.withdraw_pass,u=e.pass_question_id,d=e.pass_question_answer,p=e.login_pass,c=e.email_code,h=this.validMode;return h===Ze.I4.GA?{type:Ze.I4.GA,google_code:t||i}:h===Ze.I4.EMAIL?{type:Ze.I4.EMAIL,email:n,email_code:r||c}:h===Ze.I4.PHONE?{type:Ze.I4.PHONE,phone:o,phone_code:s||a}:h===Ze.I4.WITH_LOGIN_PWD?{type:Ze.I4.WITH_LOGIN_PWD,login_pass:p}:h===Ze.I4.WITHDRAW_PWD?{type:Ze.I4.WITHDRAW_PWD,withdraw_pass:l}:h===Ze.I4.QUESTION?{type:Ze.I4.QUESTION,pass_question_id:u,pass_question_answer:d}:null}},{key:"renderSubmitBtns",value:function(){var e=this,t=this.$createElement,i=(0,Ie.QT)().t;return t("div",{class:[Rt.Z.loginPwdSuccessFooter,this.isModalMode?Rt.Z.modaltype:""]},[t("div",{class:[Rt.Z.buttonGroup,"verification-btn__group"],directives:[{name:"show",value:!this.isDone}]},[this.steps===Pe.p.FIRST_STEP&&t(be.zx.Tsx,se()([{attrs:{type:"primary",block:!this.isWeb},class:"verification-btn__next"},this.okBtnTsxData]),[t(ye.L4,{attrs:{rewardId:this.rewardType,right:Oe.ZP.px2rem(-15)}}),1===this.stepList.length?i("lobby.common.tips.confirm"):i("lobby.common.tips.next")]),(this.isWeb&&!this.isModalMode&&2===this.stepList.length&&this.steps===Pe.p.SECOND_STEP||this.steps===Pe.p.THIRD_STEP)&&t(be.zx.Tsx,{attrs:{type:"default"},on:{click:this.reset},class:Rt.Z.verificaBtn},[i("lobby.common.tips.return")]),this.steps===Pe.p.SECOND_STEP&&t(be.zx.Tsx,se()([{attrs:{type:"primary",block:!this.isWeb},class:"verification-btn__next"},this.nextBtnTsxData,{on:{click:function(){var t;return null===(t=e.secondAction)||void 0===t?void 0:t.call(e)}}}]),[t(ye.L4,{attrs:{rewardId:this.rewardType,right:Oe.ZP.px2rem(-15)}}),2===this.stepList.length?i("lobby.common.tips.confirm"):i("lobby.common.tips.next")]),this.steps==Pe.p.THIRD_STEP&&t(be.zx.Tsx,se()([{attrs:{type:"primary"},class:Rt.Z.verificaBtn},this.okBtnTsxData]),[t(ye.L4,{attrs:{rewardId:this.rewardType,right:Oe.ZP.px2rem(-15)}}),i("lobby.common.tips.confirm")])]),t("div",{class:[Rt.Z.buttonGroup,"verification-btn__group"],directives:[{name:"show",value:this.isDone}]},[t("div",[t(be.zx.Tsx,{attrs:{type:"default"},on:{click:function(){e.$router.back()}},class:Rt.Z.verificaBtn},[i("lobby.common.tips.return")]),t(be.zx.Tsx,{attrs:{type:"primary"},class:Rt.Z.verificaBtn,on:{click:function(){e.$router.back()}}},[t(ye.L4,{attrs:{rewardId:this.rewardType,right:Oe.ZP.px2rem(-15)}}),i("lobby.common.tips.confirm")])])])])}},{key:"renderBindStep",value:function(){var e,t,i,n,r,o=this.$createElement;return o("div",{class:Rt.Z["render-content"]},[o("div",[null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t,{hasAuthWay:this.hasAuthWay,loginPwd:null===(i=this.formParams)||void 0===i?void 0:i.login_pass})]),this.modifyType!==we.Zy.THIRD_BIND&&(null===(n=(r=this.$scopedSlots).footer)||void 0===n?void 0:n.call(r,{hasAuthWay:this.hasAuthWay,renderSubmitBtns:this.renderSubmitBtns}))])}},{key:"renderFirstStepVerification",value:function(){var e,t,i,n,r=this.$createElement,o=this.renderFirstAuth,s=this.renderSubmitBtns,a=this.hasAuthWay;return r("div",{class:Rt.Z["render-content"]},[null===(e=(t=this.$scopedSlots).stepVerification)||void 0===e?void 0:e.call(t,{renderAuth:o}),null===(i=(n=this.$scopedSlots).footer)||void 0===i?void 0:i.call(n,{hasAuthWay:a,renderSubmitBtns:s})])}},{key:"renderLastStepVerification",value:function(){var e,t,i,n,r=this.$createElement,o=this.renderLastAuth,s=this.renderSubmitBtns,a=this.hasAuthWay;return r("div",{class:Rt.Z["render-content"]},[null===(e=(t=this.$scopedSlots).stepVerification)||void 0===e?void 0:e.call(t,{renderAuth:o}),null===(i=(n=this.$scopedSlots).footer)||void 0===i?void 0:i.call(n,{hasAuthWay:a,renderSubmitBtns:s})])}},{key:"securityTitleMap",get:function(){var e,t=(0,Ie.QT)().t;return e={},(0,me.Z)(e,Ze.I4.WITH_LOGIN_PWD,t("lobby.center.security.passwordvalidation")),(0,me.Z)(e,Ze.I4.EMAIL,t("lobby.common.components.auth.email.title")),(0,me.Z)(e,Ze.I4.GA,t("lobby.common.components.auth.ga.title")),(0,me.Z)(e,Ze.I4.PHONE,t("lobby.common.components.auth.phone.title")),(0,me.Z)(e,Ze.I4.QUESTION,t("lobby.common.components.auth.question.title")),(0,me.Z)(e,Ze.I4.WITHDRAW_PWD,t("lobby.center.security.withdrawalPwd.tab")),e}},{key:"mounted",value:function(){this.getStepsList()}},{key:"getStepsList",value:function(){for(var e=this,t=(0,Ie.QT)().t,i=(0,Te.h)(),n=i.getUserSecurityStepsList,r=i.validateConfig,o=(0,Te.h)(),s=o.validateConfig,a=s.hasGaOrEmailOrPhoneNumber,l=s.hasQuestionOrWithdrawPwd,u=o.systemInfos,d=[{id:Pe.p.SECOND_STEP,label:this.secondStepName,content:function(){return e.renderBindStep()}}],p={securityLoginPass:Ze.I4.WITH_LOGIN_PWD,securityEmail:Ze.I4.EMAIL,securityGoogle:Ze.I4.GA,securityPhone:Ze.I4.PHONE,securityPassQuestion:Ze.I4.QUESTION,securityWithdrawPass:Ze.I4.WITHDRAW_PWD},c=[],h=[],m=0,f=Object.entries((null==u?void 0:u.securityVerify)||{});m<f.length;m++){var b=(0,re.Z)(f[m],2),y=b[0];switch(b[1]){case Ze.Zm.FIRST_VERIFY:c.push(p[y]);break;case Ze.Zm.LAST_VERIFY:h.push(p[y])}}var Z=!a&&!l,v=n(r,we.zy.SECURITY_CENTER),g=v.first_verify,w=v.last_verify;Z&&(c.length||h.length)?(d.unshift({id:Pe.p.FIRST_STEP,label:t("lobby.center.security.passwordvalidation"),content:function(){return e.renderFirstStepVerification()}}),g.includes(Ze.I4.WITH_LOGIN_PWD)||g.push(Ze.I4.WITH_LOGIN_PWD)):Z||!c.length&&!h.length||(c.length&&!g.length?(d.unshift({id:Pe.p.FIRST_STEP,label:t("lobby.center.security.passwordvalidation"),content:function(){return e.renderFirstStepVerification()}}),g.unshift(Ze.I4.WITH_LOGIN_PWD)):g.length&&d.unshift({id:Pe.p.FIRST_STEP,label:this.securityTitleMap[g[0]],content:function(){return e.renderFirstStepVerification()}}),this.modifyType!==we.Zy.THIRD_BIND&&(h.length&&!w.length?(d.push({id:Pe.p.THIRD_STEP,label:t("lobby.center.security.passwordvalidation"),content:function(){return e.renderLastStepVerification()}}),w.unshift(Ze.I4.WITH_LOGIN_PWD)):w.length&&d.push({id:Pe.p.THIRD_STEP,label:this.securityTitleMap[w[0]],content:function(){return e.renderLastStepVerification()}}))),d.length&&(g.length?this.validMode=g[0]:!g.length&&w.length&&(this.validMode=w[0])),this.verifyFirstKey=g,this.verifyLastKey=w,this.stepList=d}},{key:"render",value:function(){var e,t,i=arguments[0];return i("section",{class:(0,me.Z)({},Ot.Z.content,!0)},[(null===(e=this.stepList)||void 0===e?void 0:e.length)>1&&i("div",{class:[Ot.Z.steps,this.isModalMode?Ot.Z.modalType:"","business-stepVaild__steps"]},[i(be.Rg.Tsx,{attrs:{labelPlacement:"vertical",current:this.steps}},[this.stepList.map((function(e,t){return i(be.Rg.Step.Tsx,{key:e.id,props:(0,ne.Z)({},{title:e.label})},[i("span",{slot:"icon"},[t+1])])}))])]),i("div",{class:"steps-content"},[i("div",{class:[Rt.Z.main,this.isModalMode?Rt.Z.modaltype:"","steps-content-wrap"]},[i("div",{class:Rt.Z["basic-verification-content"]},[null===(t=this.stepList[this.steps])||void 0===t?void 0:t.content()])])])])}}]),i}(fe.XY),It=(0,pe.Z)(_t.prototype,"modifyType",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=(0,pe.Z)(_t.prototype,"okBtnTsxData",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=(0,pe.Z)(_t.prototype,"nextBtnTsxData",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=(0,pe.Z)(_t.prototype,"rewardType",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=(0,pe.Z)(_t.prototype,"secondStepName",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=(0,pe.Z)(_t.prototype,"bindTipsText",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=(0,pe.Z)(_t.prototype,"isModalMode",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=(0,pe.Z)(_t.prototype,"isDone",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=(0,pe.Z)(_t.prototype,"doneTitle",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=(0,pe.Z)(_t.prototype,"reset",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=(0,pe.Z)(_t.prototype,"resetTwoStepForm",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=(0,pe.Z)(_t.prototype,"secondAction",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=(0,pe.Z)(_t.prototype,"formParams",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,pe.Z)(_t.prototype,"watchValidMode",[gt],Object.getOwnPropertyDescriptor(_t.prototype,"watchValidMode"),_t.prototype),(0,pe.Z)(_t.prototype,"onStepChange",[wt],Object.getOwnPropertyDescriptor(_t.prototype,"onStepChange"),_t.prototype),Pt=_t))||Pt),Ht=Gt}}]);