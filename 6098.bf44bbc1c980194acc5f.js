"use strict";(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[6098],{68910:function(e,t,r){r.d(t,{Z:function(){return q}});var i,a,n,l,s,o,c,u,p,d,b,v,Z,y,h=r(3587),f=r(21797),g=r(92317),m=r(82345),w=r(72283),T=r(20793),k=r(50125),x=r(17360),I=(r(41320),r(92222),r(38880),r(30813)),z="_Xh4S8uJ8rtshK0NDPr8",M="fanXMnrLePJ81NLxoAq8",S="hg3pWm3VA8nZxTi_potS",C="Gngmabj6m0m7JFTi3xr_",q=(i=(0,I.wA)({name:"MyProgress"}),a=(0,I.Rl)(),n=(0,I.Rl)(),l=(0,I.Rl)(),s=(0,I.fI)({required:!0}),o=(0,I.fI)({required:!0}),c=(0,I.RL)("current",{deep:!0}),i((p=function(e){(0,w.Z)(r,e);var t=(0,T.Z)(r);function r(){var e;(0,f.Z)(this,r);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a)),(0,h.Z)((0,m.Z)(e),"progress",d,(0,m.Z)(e)),(0,h.Z)((0,m.Z)(e),"progressBar",b,(0,m.Z)(e)),(0,h.Z)((0,m.Z)(e),"progressText",v,(0,m.Z)(e)),(0,h.Z)((0,m.Z)(e),"current",Z,(0,m.Z)(e)),(0,h.Z)((0,m.Z)(e),"total",y,(0,m.Z)(e)),(0,k.Z)((0,m.Z)(e),"lighten",!1),e}return(0,g.Z)(r,[{key:"mounted",value:function(){this.calcTextColor()}},{key:"currentChange",value:function(){var e=this;this.$nextTick((function(){e.calcTextColor()}))}},{key:"calcTextColor",value:function(){this.lighten=!1;var e=this.progress.offsetWidth/2-this.progressText.offsetWidth/2;this.progressBar.offsetWidth>=e&&(this.lighten=!0)}},{key:"render",value:function(){var e,t=arguments[0],r=this.current/this.total*100,i=3,a=r>=i?r:i;return a=a>=100?100:a,t("div",{class:z,ref:"progress"},[t("div",{ref:"progressBar",class:M,style:{width:"".concat(0===this.current?0:a,"%")}}),t("div",{class:(e={},(0,k.Z)(e,S,!0),(0,k.Z)(e,C,(this.lighten||2*this.current>=this.total)&&0!==this.current),e)},[t("span",{ref:"progressText"},[this.current,"/",this.total])])])}}]),r}(I.XY),d=(0,x.Z)(p.prototype,"progress",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,x.Z)(p.prototype,"progressBar",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,x.Z)(p.prototype,"progressText",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,x.Z)(p.prototype,"current",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,x.Z)(p.prototype,"total",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,x.Z)(p.prototype,"currentChange",[c],Object.getOwnPropertyDescriptor(p.prototype,"currentChange"),p.prototype),u=p))||u)},86098:function(e,t,r){r.d(t,{Z:function(){return Ie}});var i,a,n,l,s,o,c,u,p,d,b,v,Z,y,h,f,g,m,w,T,k,x,I,z,M,S,C,q,D,P,A,Y,L,R=r(3587),W=r(21797),H=r(92317),G=r(82345),Q=r(72283),_=r(20793),B=r(50125),F=r(17360),X=(r(41320),r(92222),r(26699),r(32023),r(21249),r(3741)),N=r(30813),E=r(36236),J=r(72563),j=r(81764),O=r(98292),U=r(70970),K=r(22705),V=r(2813),$=(r(41539),r(39714),r(38880),r(14577)),ee=r(95306),te=r(90825),re=r(76937),ie=r(24500),ae=r(63980),ne=r(36777),le="A3rclxOxOufBsHr02kLf",se="r8THG0y6Z413HSZqqm9i",oe="iWalxYi9VmXaABhci1WE",ce="LgmcvFSf1QIVgIJbNHtr",ue="knaifhszNnNfM8J3Wfhv",pe="rW8Hx9U4Su2406qGf7YF",de="c2oJqrZgulTW3hXIxtP6",be="BMIY2aUdxyas0w0cwv4q",ve="AvqANER_tGwK2jg1ivLI",Ze="Cjd9qWmX8z_xVdGsxMlS",ye="jnSetNzsCYue2rQbqeQP",he="smV50JgG4FNoQyEOSVBc",fe="tylOX7erl_KRTLmi3XX4",ge="g3Wt0uMQu4SbI55PsmFG",me="H3J5pSGBjp_KwbiPeLDN",we="wgwJXFMgKndGQgG3hBy2",Te=r(41800),ke=(i=(0,N.wA)({name:"EventItemListedRewardsButton"}),a=(0,N.fI)(),n=(0,N.fI)(),l=(0,N.fI)(),s=(0,N.fI)(),o=(0,N.fI)(),c=(0,N.fI)(),u=(0,N.fI)(),p=(0,N.fI)(),d=(0,N.fI)(),b=(0,$.K4)(),i((Z=function(e){(0,Q.Z)(i,e);var t,r=(0,_.Z)(i);function i(){var e;(0,W.Z)(this,i);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e=r.call.apply(r,[this].concat(a)),(0,R.Z)((0,G.Z)(e),"activeId",y,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"receiveId",h,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"receiveStatus",f,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"giveType",g,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"callback",m,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"forwardCallback",w,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"currentAmount",T,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"receiveDeviceType",k,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"template",x,(0,G.Z)(e)),(0,B.Z)((0,G.Z)(e),"state",{processing:!1}),e}return(0,H.Z)(i,[{key:"renderQRCode",value:function(){var e=this.$createElement;return e("div",[e("div",[(0,ae._4)(this.receiveDeviceType+"").errorMessage]),e(ne.Z)])}},{key:"handleCollect",value:(t=(0,V.Z)((0,U.Z)().mark((function e(){var t,r,i,a,n,l,s,o;return(0,U.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,ae.cA)(this.receiveDeviceType,this.renderQRCode)){e.next=2;break}return e.abrupt("return");case 2:return r=(0,j.QT)(),i=r.t,a=(0,O.h)(),n=a.isWeb,this.setState({processing:!0}),e.next=7,(0,Te.Z)((0,ie.k3)({receiveId:this.receiveId,activeId:this.activeId,requestDeviceType:n?4:3}));case 7:if(l=e.sent,s=(0,K.Z)(l,1),o=s[0],this.setState({processing:!1}),!o){e.next=14;break}return console.error("request error:",o),e.abrupt("return");case 14:(0,O.h)().initGetredDot(),te.sG.Modal.message({type:"success",content:this.giveType===X.Qg.ManualDistribution?i("lobby.event.invest.applySuccess"):i("lobby.event.invest.receiveSuccess")}),null===(t=this.callback)||void 0===t||t.call(this),(0,O.h)().updatePrize();case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleForward",value:function(){var e,t=(0,O.h)().hasLogined;if(null===(e=this.forwardCallback)||void 0===e||e.call(this),!t)return te.sG.Modal.open("registerModal");this.template!==X.dF.Deposit?this.template===X.dF.Wager&&this.$router.push({name:re.x4.GAME}):te.sG.Modal.open("payModal")}},{key:"render",value:function(){var e,t=this,r=arguments[0],i=(0,j.QT)(),a=i.t,n=this.currentAmount>0;switch(this.receiveStatus){case X.Yq.Processing:return r(ee.zx.Tsx,{class:(e={},(0,B.Z)(e,fe,!0),(0,B.Z)(e,ge,n),(0,B.Z)(e,me,!n),e),on:{click:function(){t.handleForward()}}},[r("span",{domProps:{innerHTML:n?a("lobby.modal.task.processing").toString():a("lobby.modal.task.forward").toString()}})]);case X.Yq.CanReceive:return r(ee.zx.Tsx,{class:fe,on:{click:(0,V.Z)((0,U.Z)().mark((function e(){return(0,U.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleCollect();case 2:case"end":return e.stop()}}),e)})))},attrs:{loading:this.state.processing}},[r("span",{domProps:{innerHTML:this.giveType===X.Qg.ManualDistribution?a("lobby.modal.task.applyAward"):a("lobby.modal.task.collect")}})]);case X.Yq.HasReceive:return this.giveType===X.Qg.ManualDistribution?r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.applied")}})]):r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.collected")}})]);case X.Yq.Expired:return r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.expired")}})]);case X.Yq.Distributed:return r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.distributed")}})]);case X.Yq.NotStart:return r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.noStart")}})]);case X.Yq.Rejected:return r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.records.rejected")}})]);default:return r(ee.zx.Tsx,{class:fe,attrs:{disabled:!0}},[r("span",{domProps:{innerHTML:a("lobby.modal.task.collect")}})])}}}]),i}(N.XY),y=(0,F.Z)(Z.prototype,"activeId",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,F.Z)(Z.prototype,"receiveId",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,F.Z)(Z.prototype,"receiveStatus",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,F.Z)(Z.prototype,"giveType",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=(0,F.Z)(Z.prototype,"callback",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,F.Z)(Z.prototype,"forwardCallback",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,F.Z)(Z.prototype,"currentAmount",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,F.Z)(Z.prototype,"receiveDeviceType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,F.Z)(Z.prototype,"template",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,F.Z)(Z.prototype,"handleCollect",[$.WY,b],Object.getOwnPropertyDescriptor(Z.prototype,"handleCollect"),Z.prototype),v=Z))||v),xe=r(68910),Ie=(I=(0,N.wA)({name:"EventItemListedRewards"}),z=(0,N.fI)(),M=(0,N.fI)({required:!0}),S=(0,N.fI)(),C=(0,N.fI)(),I((D=function(e){(0,Q.Z)(r,e);var t=(0,_.Z)(r);function r(){var e;(0,W.Z)(this,r);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a)),(0,R.Z)((0,G.Z)(e),"styleType",P,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"event",A,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"fetchData",Y,(0,G.Z)(e)),(0,R.Z)((0,G.Z)(e),"forwardCallback",L,(0,G.Z)(e)),e}return(0,H.Z)(r,[{key:"timeMappings",get:function(){var e,t=(0,j.QT)().t;return e={},(0,B.Z)(e,X.Ug.Signal,t("lobby.event.listedRewards.perTime")),(0,B.Z)(e,X.Ug.Daily,t("lobby.event.listedRewards.perDay")),(0,B.Z)(e,X.Ug.Weekly,t("lobby.event.listedRewards.perWeek")),e}},{key:"renderReward",value:function(e){var t,r=this.$createElement,i=[X.Yq.Processing,X.Yq.CanReceive],a=(0,O.h)().userInfos,n=E.F.commonIconMap();return r("div",{class:(t={},(0,B.Z)(t,Ze,!0),(0,B.Z)(t,ye,!i.includes(null==e?void 0:e.receiveStatus)&&1!==this.styleType),t)},[r("icon-sprite",{attrs:{sprite:n[(null==a?void 0:a.currency)||"CNY"].PAY_JB}}),r("span",["number"==typeof(null==e?void 0:e.ratio)&&e.ratio&&e.receiveStatus===X.Yq.Processing?"".concat(e.ratio,"%"):"number"==typeof e.reward&&(0,J.o)(e.reward)])])}},{key:"renderItem",value:function(e){var t,r,i,a,n=this.$createElement,l=(0,O.h)().isWeb,s=1===this.styleType;return n("div",{class:oe},[!s&&n("div",{class:(t={},(0,B.Z)(t,ce,!0),(0,B.Z)(t,de,this.event.cycleType===X.Ug.Signal),(0,B.Z)(t,pe,X.Ug.Daily===this.event.cycleType),(0,B.Z)(t,ue,X.Ug.Weekly===this.event.cycleType),t)},[this.timeMappings[String(this.event.cycleType)]]),n("div",{class:be},[n("div",{class:ve},[e.text]),n(xe.Z,{attrs:{current:null!==(r=e.nowAmount)&&void 0!==r?r:0,total:null!==(i=e.amount)&&void 0!==i?i:0}})]),!s&&l&&this.renderReward(e),n("div",{class:he},[n(ke,s?{attrs:{receiveStatus:X.Yq.Processing,giveType:this.event.giveType,template:X.dF.Deposit,forwardCallback:this.forwardCallback}}:{attrs:{activeId:this.event.id,currentAmount:null!==(a=e.nowAmount)&&void 0!==a?a:0,receiveId:e.receiveId,giveType:this.event.giveType,receiveStatus:e.receiveStatus,template:this.event.template,receiveDeviceType:this.event.receiveDeviceType,callback:this.fetchData,forwardCallback:this.forwardCallback}}),(s||!l)&&this.renderReward(e)])])}},{key:"render",value:function(){var e,t=arguments[0],r=(0,O.h)(),i=r.isWeb;return t("div",{class:(e={},(0,B.Z)(e,le,i),(0,B.Z)(e,we,1===this.styleType),e)},[t("div",{class:(0,B.Z)({},se,1!==this.styleType)},[(this.event.list||[]).map(this.renderItem)])])}}]),r}(N.XY),P=(0,F.Z)(D.prototype,"styleType",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,F.Z)(D.prototype,"event",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,F.Z)(D.prototype,"fetchData",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,F.Z)(D.prototype,"forwardCallback",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=D))||q)}}]);