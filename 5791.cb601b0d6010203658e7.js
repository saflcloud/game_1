"use strict";(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[5791],{5791:function(e,t,n){n.r(t),n.d(t,{default:function(){return pn}});var r,i,o,a,s,u,l,c,d,p,h,f,m,y,b,v,Z,g,w,P,T,S,k,I,C,_,M,N,x,R,E=n(21797),F=n(92317),W=n(82345),A=n(72283),O=n(20793),D=n(50125),L=(n(92222),n(26699),n(41539),n(30813)),B=n(33990),q=n(90416),Q=n(90825),G=n(27994),H=n(81764),U=n(98292),V=n(70970),$=n(7903),z=n(2813),Y=(n(32023),n(81237)),K=n(72433),j=n(63445),J=n(36568),X=n.n(J),ee=n(55673),te=n(74492),ne=n(3587),re=n(17360),ie=(n(41320),n(21249),n(82481),n(38880),n(14577)),oe=n(5836),ae=n(95306),se=n(37155),ue=n(22705),le=(n(78783),n(33948),n(81830)),ce=n(95627),de=n(80005),pe=n(36968),he=n.n(pe),fe=n(27361),me=n.n(fe),ye=(n(69826),n(83110)),be=n(99231),ve=n(74850),Ze=n.n(ve),ge=n(59933),we=n.n(ge);!function(e){e[e.WITH_WITHDRAWER=B.I4.WITHDRAW_PWD]="WITH_WITHDRAWER",e[e.WITH_QUESTION=B.I4.QUESTION]="WITH_QUESTION"}(R||(R={}));var Pe,Te,Se,ke,Ie,Ce,_e,Me,Ne,xe,Re,Ee,Fe,We,Ae,Oe,De,Le,Be,qe,Qe,Ge,He,Ue,Ve,$e,ze,Ye,Ke,je,Je,Xe,et,tt,nt,rt,it,ot,at,st,ut,lt,ct,dt,pt,ht,ft,mt,yt,bt,vt,Zt=(r=(0,L.wA)({name:"AuthGroupB"}),i=(0,L.Rl)(),o=(0,L.Rl)(),a=(0,L.fI)(ce.ZP.object.isRequired),s=(0,L.fI)(ce.ZP.string.def("")),u=(0,L.fI)(ce.ZP.string.def("withdraw_pass")),l=(0,L.fI)(ce.ZP.string.def("pass_question_id")),c=(0,L.fI)(ce.ZP.string.def("pass_question_answer")),d=(0,L.fI)(),p=(0,L.fI)(ce.ZP.array.def((function(){return[R.WITH_WITHDRAWER,R.WITH_QUESTION]}))),h=(0,L.fI)(),f=(0,L.yU)("mode","trigger",{required:!0,default:R.WITH_WITHDRAWER}),m=(0,L.RL)("store.language",{immediate:!0}),y=(0,L.RL)("validMode"),b=(0,ie.WY)(),v=(0,ie.K4)(),r((g=function(e){(0,A.Z)(o,e);var t,n,r,i=(0,O.Z)(o);function o(){var e;(0,E.Z)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),(0,ne.Z)((0,W.Z)(e),"withdrawNumberInputRef",w,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"passQuestionAnswerRef",P,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"formModel",T,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"guideToSupportPortalTargetName",S,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"withdrawPwdProp",k,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"questionIdProp",I,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"questionAnswerProp",C,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"questionDataQuery",_,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"validTypeConfig",M,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"isForgetPassword",N,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"validMode",x,(0,W.Z)(e)),(0,D.Z)((0,W.Z)(e),"questionList",[]),(0,D.Z)((0,W.Z)(e),"isQuestionsFetching",!1),(0,D.Z)((0,W.Z)(e),"store",(0,U.h)()),e}return(0,F.Z)(o,[{key:"autoFocus",value:function(){if(this.validMode===R.WITH_WITHDRAWER&&this.withdrawNumberInputRef.focus(),this.validMode===R.WITH_QUESTION){var e=this.passQuestionAnswerRef.$el;e&&e.focus()}}},{key:"languageKeyChange",value:(r=(0,z.Z)((0,V.Z)().mark((function e(t,n){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&t!==n&&this.queryQuestionData();case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"created",value:function(){this.queryQuestionData()}},{key:"onValidModeChange",value:function(){var e=this;this.$nextTick((function(){e.autoFocus()}))}},{key:"queryQuestionData",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a=arguments;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a.length>0&&void 0!==a[0]?a[0]:this.validMode)!==R.WITH_QUESTION){e.next=15;break}return e.prev=2,this.isQuestionsFetching=!0,n=this.questionDataQuery||(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,le.apiGetQuestionWithNotLogin)().then((function(e){var t;return(null===(t=e.data.data)||void 0===t?void 0:t.question)||[]}))]);case 2:return t=e.sent,n=(0,ue.Z)(t,1),r=n[0],e.abrupt("return",{list:r});case 6:case"end":return e.stop()}}),e)}))),e.next=7,n();case 7:r=e.sent,this.questionList=r.list,i=null!==(t=r.currentId)&&void 0!==t?t:me()(this.formModel,this.questionIdProp),o=this.questionList.find((function(e){return e.id===i})),he()(this.formModel,this.questionIdProp,o?o.id:this.questionList[0].id);case 12:return e.prev=12,this.isQuestionsFetching=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,,12,15]])}))),function(){return n.apply(this,arguments)})},{key:"toggleValidMode",value:(t=(0,z.Z)((0,V.Z)().mark((function e(t){var n;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(null!=t?t:this.validMode===R.WITH_QUESTION)?R.WITH_WITHDRAWER:R.WITH_QUESTION,e.next=3,this.queryQuestionData(n);case 3:this.validMode=n;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"renderGuideToSupport",value:function(e){var t=this.$createElement;return this.guideToSupportPortalTargetName?t(K.h_,{attrs:{to:this.guideToSupportPortalTargetName}},[e()]):e()}},{key:"render",value:function(){var e=this,t=arguments[0],n=(0,H.QT)(),r=n.t,i=Q.sG.FuncRender.createFormModelItem.call(this),o=this.validTypeConfig.length>1;return t("div",[[t("div",{class:be.Z.toggleContainer},[t("div",{class:be.Z.toggle},[t("span",{class:[be.Z.title]},[this.isForgetPassword?"":this.validMode===R.WITH_WITHDRAWER?r("lobby.common.components.auth.withdrawal.title"):r("lobby.common.components.auth.question.title")]),o?t(ae.zx.Tsx,{attrs:{loading:e.isQuestionsFetching,type:"link"},class:be.Z.btn,on:{click:function(){o&&e.toggleValidMode()}}},[e.validMode===R.WITH_WITHDRAWER?r("lobby.common.components.auth.question.title"):r("lobby.common.components.auth.withdrawal.title")]):e.isQuestionsFetching?t(ae.JO.Tsx,{class:be.Z.loading,attrs:{type:"loading"}}):null])]),this.validMode===R.WITH_WITHDRAWER&&[i.custom({prop:this.withdrawPwdProp,model:this.formModel,formModelItemTsxData:{props:{rules:[Q.sG.Rules.paypass({length:6},{required:!0})]}},render:function(){return[t(q.KH,{attrs:{showLabel:!0,labelTitle:r("lobby.common.components.auth.withdrawal.label"),value:me()(e.formModel,e.withdrawPwdProp)},ref:"withdrawNumberInputRef",on:{input:function(t){he()(e.formModel,e.withdrawPwdProp,t)}}})]}}),this.renderGuideToSupport((function(){return t(ye.Z,{class:be.Z.guide,attrs:{mode:"ForgotPwd"}})}))],this.validMode!==R.WITH_QUESTION||this.isQuestionsFetching?null:[i.baseSelect({prop:this.questionIdProp,model:this.formModel,listData:this.questionList.map((function(e){return{value:e.id,label:e.question}})),selectTsxData:{props:{}},current:me()(this.formModel,this.questionIdProp),onSelectChange:function(t){he()(e.formModel,e.questionIdProp,t)},render:function(){return[t("template",{slot:"label"},[t("div",{class:be.Z.label},[t("div",[t(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:Ze()}})}}}}),t("span",[r("lobby.common.components.auth.question.label")])])])])]}}),i.custom({prop:this.questionAnswerProp,model:this.formModel,formModelItemTsxData:{props:{rules:[Q.sG.Rules.required({requiredItem:r("lobby.common.components.auth.question.title")})]}},render:function(){return[t("template",{slot:"label"},[t("div",{class:be.Z.label},[t("div",[t(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return t("icon-sprite",{attrs:{sprite:we()}})}}}}),t("span",[r("lobby.common.components.auth.question.label2")])])])]),t(ae.II.Tsx,{ref:"passQuestionAnswerRef",attrs:{placeholder:r("lobby.common.components.auth.question.inputTips"),value:me()(e.formModel,e.questionAnswerProp),maxLength:20},on:{change:Q.sG.FuncRender.createOnInputChange(e.formModel,e.questionAnswerProp)}})]}}),this.renderGuideToSupport((function(){return t(ye.Z,{class:be.Z.guide,attrs:{mode:"ForgotSecrecyQuestion"}})}))]]])}}]),o}(L.XY),w=(0,re.Z)(g.prototype,"withdrawNumberInputRef",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,re.Z)(g.prototype,"passQuestionAnswerRef",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,re.Z)(g.prototype,"formModel",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,re.Z)(g.prototype,"guideToSupportPortalTargetName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,re.Z)(g.prototype,"withdrawPwdProp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,re.Z)(g.prototype,"questionIdProp",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,re.Z)(g.prototype,"questionAnswerProp",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,re.Z)(g.prototype,"questionDataQuery",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,re.Z)(g.prototype,"validTypeConfig",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,re.Z)(g.prototype,"isForgetPassword",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,re.Z)(g.prototype,"validMode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,re.Z)(g.prototype,"languageKeyChange",[m],Object.getOwnPropertyDescriptor(g.prototype,"languageKeyChange"),g.prototype),(0,re.Z)(g.prototype,"onValidModeChange",[y],Object.getOwnPropertyDescriptor(g.prototype,"onValidModeChange"),g.prototype),(0,re.Z)(g.prototype,"toggleValidMode",[b,v],Object.getOwnPropertyDescriptor(g.prototype,"toggleValidMode"),g.prototype),Z=g))||Z),gt=n(71707),wt=n(47526),Pt=(Pe=(0,L.wA)({name:"BasicVerification"}),Te=(0,L.Rl)(),Se=(0,L.Rl)(),ke=(0,L.fI)((0,ce.Rx)().def(se.Zy.LOGIN_PASS)),Ie=(0,L.fI)((0,ce.Ry)().def({})),Ce=(0,L.fI)(ce.ZP.looseBool.def(!0)),_e=(0,L.fI)(ce.ZP.number.def(B.sF.None)),Me=(0,ie.WY)(),Ne=(0,ie.K4)(),xe=(0,L.RL)("validMode",{immediate:!0}),Re=(0,L.y1)(),Ee=(0,L.y1)("cancel"),Pe((We=function(e){(0,A.Z)(i,e);var t,n,r=(0,O.Z)(i);function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,ne.Z)((0,W.Z)(e),"loginPassRef",Ae,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"formModel",Oe,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"modifyType",De,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"okBtnTsxData",Le,(0,W.Z)(e)),(0,D.Z)((0,W.Z)(e),"steps",G.p.FIRST_STEP),(0,D.Z)((0,W.Z)(e),"responseData",null),(0,D.Z)((0,W.Z)(e),"isCheckingLoginPwd",!1),(0,D.Z)((0,W.Z)(e),"form",{login_pass:""}),(0,ne.Z)((0,W.Z)(e),"showLoginPwdForm",Be,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"rewardType",qe,(0,W.Z)(e)),(0,D.Z)((0,W.Z)(e),"validMode",-1),e}return(0,F.Z)(i,[{key:"hasAuthWay",get:function(){return![-1,"none"].includes(this.validMode)}},{key:"doSubmit",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r=this;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isCheckingLoginPwd){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.formModel.validate();case 5:return this.isCheckingLoginPwd=!0,e.next=8,(0,j.CD)({info_type:this.modifyType,firstVerify:{type:B.I4.WITH_LOGIN_PWD,pass_question_id:0,pass_question_answer:"",withdraw_pass:"",login_pass:this.form.login_pass}}).finally((function(){r.isCheckingLoginPwd=!1}));case 8:n=e.sent,this.responseData=null===(t=n.data.data)||void 0===t?void 0:t.info,this.steps=G.p.SECOND_STEP,this.setDefaultValidMode(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,14]])}))),function(){return n.apply(this,arguments)})},{key:"onSubmit",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.doSubmit();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"validModeChange",value:function(){return this.validMode}},{key:"onCancel",value:function(){}},{key:"authGroupBConfig",get:function(){var e=(0,U.h)().validateConfig,t=e.hasQuestion,n=[];return e.hasWithdrawPwd&&n.push(R.WITH_WITHDRAWER),t&&n.push(R.WITH_QUESTION),n}},{key:"currentIsGA",get:function(){return"3"===this.$route.query.current}},{key:"hasGaOrEmailOrPhoneNumber",get:function(){var e=(0,U.h)().validateConfig,t=e.hasGaOrEmailOrPhoneNumber,n=e.gaStatus;return this.currentIsGA?t||n!==B.mi.NONE:t}},{key:"setDefaultValidMode",value:function(){var e=(0,U.h)().validateConfig.hasQuestionOrWithdrawPwd;this.hasGaOrEmailOrPhoneNumber&&this.authGroupAConfig.length?this.validMode=this.authGroupAConfig[0]:e&&this.authGroupBConfig.length?this.validMode=this.authGroupBConfig[0]:this.validMode="none"}},{key:"authGroupAConfig",get:function(){var e=(0,U.h)(),t=e.validateConfig,n=e.systemInfos,r=t.hasEmail,i=t.hasPhoneNumber,o=t.gaStatus,a=t.hasGoogleAuth;this.currentIsGA&&(a=o!==B.mi.NONE);var s=[];return a&&s.push(de.W.WITH_GA),r&&1===(null==n?void 0:n.enable_using_gmail)&&s.push(de.W.WITH_EMAIL),i&&s.push(de.W.WITH_PHONE),s}},{key:"renderAuth",value:function(e){var t=this,n=this.$createElement,r=(0,oe.R)().isCanSkipSecondVerifyWhenBind;if(-1===this.validMode||r)return null;if("none"===this.validMode)return n(K.h_,{attrs:{to:Q.CM.PortalName.SecurityCenterService}},[n(ye.Z,{class:wt.Z.toCustomerServiceWithNotValid})]);var i=(0,U.h)(),o=i.validateConfig,a=i.userInfos,s=o.email,u=o.phoneNumber,l=o.hasQuestionOrWithdrawPwd;if(this.hasGaOrEmailOrPhoneNumber&&this.authGroupAConfig.length){var c=(null==a?void 0:a.platfromid)||"";return n("div",{class:wt.Z.authContainer},[n(de.Z,{attrs:{googleCodeProp:"second_verify.google_code",emailCodeProp:"second_verify.email_code",phoneCodeProp:"second_verify.phone_code",emailProp:"second_verify.email",phoneProp:"second_verify.phone",phoneSendFunPromise:function(e){return(0,le.apiGetSmsCodeAfterLogined)({create_mode:B.FW.Verify,limit_type:"phone",phone_number:e})},emailSendFunPromise:function(e){return(0,le.apiGetEmailCodeAfterLogin)({create_mode:B.FW.Verify,limit_type:"phone",email:e})},phoneValidFunPromise:function(e){return(0,le.apiVerifyPhoneNumberAfterLogin)({phone:e},{silentOnError:!0})},emailValidFunPromise:function(e){return(0,le.apiVerifyEmailAfterLogin)({email:e},{silentOnError:!0})},username:c,desensitizedEmail:s,desensitizedPhoneNumber:u,formModel:e,validTypeConfig:this.authGroupAConfig},model:{value:t.validMode,callback:function(e){t.validMode=e}}})])}return l&&this.authGroupBConfig.length?n("div",{class:wt.Z.authContainer},[n(Zt,{attrs:{withdrawPwdProp:"second_verify.withdraw_pass",questionIdProp:"second_verify.pass_question_id",questionAnswerProp:"second_verify.pass_question_answer",questionDataQuery:(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,le.apiGetQuestionWithNotLogin)().then((function(e){var t;return(null===(t=e.data.data)||void 0===t?void 0:t.question)||[]})),(0,j.Gd)().then((function(e){var t;return null===(t=e.data.data)||void 0===t?void 0:t.question}))]);case 2:return t=e.sent,n=(0,ue.Z)(t,2),r=n[0],i=n[1],e.abrupt("return",{list:r,currentId:i});case 7:case"end":return e.stop()}}),e)}))),formModel:e,validTypeConfig:this.authGroupBConfig},model:{value:t.validMode,callback:function(e){t.validMode=e}}})]):null}},{key:"getVerifyPayloadParams",value:function(e){var t=e.second_verify,n=t.google_code,r=t.email,i=t.email_code,o=t.phone,a=t.phone_code,s=t.withdraw_pass,u=t.pass_question_id,l=t.pass_question_answer,c=this.validMode;return c===B.I4.GA?{type:B.I4.GA,google_code:n}:c===B.I4.EMAIL?{type:B.I4.EMAIL,email:r,email_code:i}:c===B.I4.PHONE?{type:B.I4.PHONE,phone:o,phone_code:a}:c===B.I4.WITHDRAW_PWD?{type:B.I4.WITHDRAW_PWD,withdraw_pass:s}:c===B.I4.QUESTION?{type:B.I4.QUESTION,pass_question_id:u,pass_question_answer:l}:null}},{key:"renderBeforeLoginPwd",value:function(e){var t,n=this.$createElement,r=(0,H.QT)().t,i=(0,oe.R)().isCanSkipPasswordValid,o=Q.sG.FuncRender.createFormModelItem.call(this);return n("div",[this.$slots["current-infos"]&&n("section",{class:(t={},(0,D.Z)(t,wt.Z.currentInfos,!0),(0,D.Z)(t,wt.Z.hiddenForm,!!e),t)},[this.$slots["current-infos"]]),!e&&[n("section",[n(ae.au.Tsx,X()([{ref:"formModel",attrs:{hideRequiredMark:!0}},{props:{model:this.form}}]),[[n("span",{class:wt.Z.loginPwdTitle},[r("lobby.center.security.valid")]),o.userpass({label:r("lobby.center.security.loginLable"),showLabel:!0,hiddenPrefix:!0,hiddenIcon:!0,prop:"login_pass",model:this.form,inputTsxData:{ref:"loginPassRef",attrs:{placeholder:r("lobby.center.security.loginPwd.placeholder")}},getRules:function(e){return[i?{}:e.required]}})]])]),n("section",{class:wt.Z.loginPwdFooter},[n(ae.zx.Tsx,{class:[wt.Z.btnNext,"verification-btn__next"],attrs:{type:"primary",loading:this.isCheckingLoginPwd},on:{click:this.onSubmit}},[r("lobby.common.tips.next")])])]])}},{key:"renderSubmitBtns",value:function(){var e=this.$createElement,t=(0,H.QT)().t;return e("div",{class:wt.Z.loginPwdSuccessFooter},[e("div",{class:[wt.Z.buttonGroup,"verification-btn__group"]},[e(ae.zx.Tsx,{attrs:{type:"default"},on:{click:this.onCancel}},[t("lobby.common.tips.cancel")]),e(ae.zx.Tsx,X()([{attrs:{type:"primary"}},this.okBtnTsxData]),[e(q.L4,{attrs:{rewardId:this.rewardType,right:gt.ZP.px2rem(-15)}}),t("lobby.common.tips.confirm")])])])}},{key:"renderVNode",value:function(){var e,t,n,r,i=this.$createElement;return i("div",[i("div",[null===(e=(t=this.$scopedSlots).default)||void 0===e?void 0:e.call(t,{hasAuthWay:this.hasAuthWay,loginPwd:this.form.login_pass,renderAuth:this.renderAuth,responseData:this.responseData})]),null===(n=(r=this.$scopedSlots).footer)||void 0===n?void 0:n.call(r,{hasAuthWay:this.hasAuthWay,renderSubmitBtns:this.renderSubmitBtns})])}},{key:"tryAutoSkipPasswordValid",value:function(){if((0,oe.R)().isCanSkipPasswordValid){var e=[se.Zy.GA].includes(this.modifyType);this.steps=G.p.SECOND_STEP,this.setDefaultValidMode(),e&&(this.form.login_pass="",this.doSubmit())}}},{key:"render",value:function(){var e,t,n=this,r=arguments[0],i=(0,U.h)(),o=i.isWeb;return o&&setTimeout((function(){var e;null===(e=n.loginPassRef)||void 0===e||e.focus()}),100),r("div",{class:wt.Z.main},[r("div",{class:wt.Z["basic-verification-content"]},[this.steps===G.p.FIRST_STEP?null===(e=this.$scopedSlots)||void 0===e||null===(t=e.beforeLoginPwd)||void 0===t?void 0:t.call(e,{renderBeforeLoginPwd:this.renderBeforeLoginPwd}):r("div",[this.isCheckingLoginPwd?r("div",{style:{width:"100%"}}):this.renderVNode()])])])}}]),i}(L.XY),Ae=(0,re.Z)(We.prototype,"loginPassRef",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,re.Z)(We.prototype,"formModel",[Se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,re.Z)(We.prototype,"modifyType",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,re.Z)(We.prototype,"okBtnTsxData",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,re.Z)(We.prototype,"showLoginPwdForm",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,re.Z)(We.prototype,"rewardType",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,re.Z)(We.prototype,"onSubmit",[Me,Ne],Object.getOwnPropertyDescriptor(We.prototype,"onSubmit"),We.prototype),(0,re.Z)(We.prototype,"validModeChange",[xe,Re],Object.getOwnPropertyDescriptor(We.prototype,"validModeChange"),We.prototype),(0,re.Z)(We.prototype,"onCancel",[Ee],Object.getOwnPropertyDescriptor(We.prototype,"onCancel"),We.prototype),Fe=We))||Fe),Tt=(Qe=(0,L.wA)({name:"BaseModifyForm"}),Ge=(0,L.Rl)(),He=(0,L.Rl)(),Ue=(0,ie.WY)(),Ve=(0,ie.K4)(),Qe((ze=function(e){(0,A.Z)(i,e);var t,n,r=(0,O.Z)(i);function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,ne.Z)((0,W.Z)(e),"formModelRef",Ye,(0,W.Z)(e)),(0,ne.Z)((0,W.Z)(e),"baseVerificationRef",Ke,(0,W.Z)(e)),(0,D.Z)((0,W.Z)(e),"form",{second_verify:new Y.Nf}),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.LOGIN_PASS),(0,D.Z)((0,W.Z)(e),"isFetching",!1),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.None),(0,D.Z)((0,W.Z)(e),"formModelValidRecord",{}),e}return(0,F.Z)(i,[{key:"onSubmit",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t=this;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isFetching){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.formModelRef.validate();case 5:return this.isFetching=!0,e.next=8,this.createFetchForModify().finally((function(){t.isFetching=!1}));case 8:this.reset(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return n.apply(this,arguments)})},{key:"updateRewardList",value:function(){(0,(0,U.h)().getRewardBindData)(!1,this.rewardType===B.sF.BindPhoneAndSMSValid?[B.sF.BindPhone,B.sF.SMSValid]:[this.rewardType])}},{key:"reset",value:function(){this.baseVerificationRef.$reset(),this.$reset()}},{key:"getVerifyPayload",value:function(){var e=(0,oe.R)().isCanSkipSecondVerifyWhenBind,t=this.baseVerificationRef.getVerifyPayloadParams(this.form);return t&&!e?{second_verify:t}:{}}},{key:"onValidate",value:function(e,t){this.$set(this.formModelValidRecord,e,t)}},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){return null}},{key:"renderCurrentInfos",value:function(){return null}},{key:"renderDefault",value:function(e){var t=e.renderAuth,n=e.hasAuthWay,r=e.loginPwd,i=e.responseData,o=this.$createElement,a=this.renderCurrentFormItem({hasAuthWay:n,loginPwd:r,responseData:i})||[];return o("div",[o(ae.au.Tsx,X()([{on:{validate:this.onValidate},ref:"formModelRef",attrs:{hideRequiredMark:!0}},{props:{model:this.form}}]),[[].concat((0,te.Z)(a instanceof Array?a:[a]),[t(this.form)])])])}},{key:"renderFooter",value:function(e){return(0,e.renderSubmitBtns)()}},{key:"renderBeforeLoginPwd",value:function(e){return(0,e.renderBeforeLoginPwd)()}},{key:"mounted",value:function(){this.baseVerificationRef.tryAutoSkipPasswordValid()}},{key:"render",value:function(){var e=this,t=arguments[0];return t(Pt,X()([{attrs:{modifyType:this.modifyType,okBtnTsxData:{props:{loading:this.isFetching},on:{click:this.onSubmit}},rewardType:this.rewardType},ref:"baseVerificationRef",on:{cancel:function(){e.reset()},validModeChange:function(t){-1!==t&&(e.form.second_verify.type=t)}},scopedSlots:{beforeLoginPwd:this.renderBeforeLoginPwd,default:this.renderDefault,footer:this.renderFooter}},{directives:[{name:"click-outside",value:{capture:!0,handler:function(e){var t,n=e.target,r=(0,te.Z)((0,te.Z)(document.querySelectorAll(".".concat(oe.q,",.ant-modal-root,#__ga_grayLayout__,.ant-select-dropdown"))).map((function(e){return function(){return function(e,t){return e&&(e.contains(t)||e===t)}(e,n)}}))),i=(0,ee.Z)(r);try{for(i.s();!(t=i.n()).done;){if((0,t.value)())return}}catch(d){i.e(d)}finally{i.f()}var o=(0,U.h)(),a=o.validateConfig.forceBind,s=o.globalModalManager,u=o.getBindItem,l=o.userInfos,c=(null==l?void 0:l.must_bind_item)-u().bindItemLength;(null!=a&&a.phone||null!=a&&a.email||null!=a&&a.ga||null!=a&&a.withdrawPass)&&c>0&&(null==s||s.repeat(),e.stopPropagation(),e.preventDefault())}}}]}]),[t("template",{slot:"current-infos"},[this.renderCurrentInfos()])])}}]),i}(L.XY),Ye=(0,re.Z)(ze.prototype,"formModelRef",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,re.Z)(ze.prototype,"baseVerificationRef",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,re.Z)(ze.prototype,"onSubmit",[Ue,Ve],Object.getOwnPropertyDescriptor(ze.prototype,"onSubmit"),ze.prototype),$e=ze))||$e),St=(0,L.wA)({name:"SecurityCpf"})(je=function(e){(0,A.Z)(r,e);var t,n=(0,O.Z)(r);function r(){var e;(0,E.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,D.Z)((0,W.Z)(e),"form",{cpf_code:"",second_verify:new Y.Nf}),e}return(0,F.Z)(r,[{key:"isUpdateMode",get:function(){return(0,U.h)().validateConfig.hasCpf}},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,H.QT)(),r=n.t,e.next=3,(0,j.Rm)((0,$.Z)({cpf_code:this.form.cpf_code},this.getVerifyPayload()));case 3:if(4020!=(null==(i=e.sent)||null===(t=i.data)||void 0===t?void 0:t.code)){e.next=6;break}return e.abrupt("return",this.reset());case 6:o=(0,U.h)(),a=o.updateCpf,Q.sG.Modal.message({type:"success",content:r("lobby.center.security.cpf.bind.success")}),a(gt.ZP.cpfDesensitization(this.form.cpf_code));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){var e=this.$createElement,t=(0,H.QT)().t,n=Q.sG.FuncRender.createFormModelItem.call(this);return[e("span",{class:wt.Z.loginPwdTitle},[e("span",[t("lobby.center.security.cpf.bind.title")]),e(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),n.usercpf({hiddenPrefix:!0,showLabel:!0,prop:"cpf_code",model:this.form})]}},{key:"renderBeforeLoginPwd",value:function(e){return(0,e.renderBeforeLoginPwd)(this.isUpdateMode)}},{key:"renderCurrentInfos",value:function(){var e,t=this.$createElement,n=(0,H.QT)().t,r=(0,U.h)().validateConfig,i=null!=r&&null!==(e=r.cpf)&&void 0!==e&&e.includes("*")?null==r?void 0:r.cpf:gt.ZP.cpfDesensitization(null==r?void 0:r.cpf);return[t("div",{class:wt.Z.title},[t("span",{class:wt.Z.key},[n("lobby.center.security.cpf.label")]),t("span",{class:wt.Z.value},[this.isUpdateMode?i:n("lobby.center.security.none")])]),!this.isUpdateMode&&t("div",{class:wt.Z.tips},[n("lobby.center.security.cpf.bind.tips")])]}}]),r}((0,L.Wr)(Tt)))||je,kt=n(98649),It=(Je=(0,L.wA)({name:"SecurityEmail"}),Xe=(0,L.RL)("isUpdateMode",{immediate:!0}),Je((tt=function(e){(0,A.Z)(i,e);var t,n,r=(0,O.Z)(i);function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.EMAIL),(0,D.Z)((0,W.Z)(e),"form",{email:"",code:"",second_verify:new Y.Nf}),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.BindEmail),e}return(0,F.Z)(i,[{key:"secondStepName",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.email.update.title"):e("lobby.center.security.email.bind.title")}},{key:"bindTipsText",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.email.update.tips"):e("lobby.center.security.email.bind.tips")}},{key:"onUpdateModeChange",value:function(e){(0,(0,oe.R)().setBindingStatus)(!e)}},{key:"nextForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.formModelRef.validate();case 2:return e.next=4,(0,j.Ac)({email:this.form.email,code:this.form.code});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a,s,u,l,c,d=this;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,H.QT)(),i=r.t,o=this.getModifyPayloadParams(),e.next=4,(0,j.ni)((0,$.Z)({email:this.form.email,code:this.form.code},o));case 4:if(4020!=(null==(a=e.sent)||null===(t=a.data)||void 0===t?void 0:t.code)){e.next=7;break}return e.abrupt("return",this.reset());case 7:this.updateRewardList(),this.doneTitle=this.isUpdateMode?i("lobby.center.security.email.update.success"):i("lobby.center.security.email.bind.success"),s=(0,U.h)(),u=s.updateEmail,this.$nextTick((function(){u(gt.ZP.emailDesensitization(d.form.email))})),l=(0,oe.R)(),c=l.forceBindCallback,null===(n=c.email)||void 0===n||n.call(c,{hasBindBySecondVerify:!!o.second_verify});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isUpdateMode",get:function(){return(0,U.h)().validateConfig.hasEmail}},{key:"renderCurrentFormItem",value:function(){var e=this,t=this.$createElement,n=(0,U.h)().userInfos,r=Q.sG.FuncRender.createFormModelItem.call(this);return[t("span",{class:wt.Z.loginPwdTitle},[t("span",[this.secondStepName]),t(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),r.useremail({hiddenPrefix:!0,showLabel:!0,prop:"email",model:this.form}),t(q.F0,{attrs:{username:null==n?void 0:n.platfromid,getCodeFunPromise:function(e){return(0,le.apiGetEmailCodeAfterLogin)({create_mode:B.FW.Bind,limit_type:"phone",email:e,username:(null==n?void 0:n.platfromid)||""})},disabled:!me()(this.formModelValidRecord,"email"),hiddenPrefix:!0,mode:"email",showLabel:!0,prop:"code",targetValue:this.form.email},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)}}})]}}]),i}((0,L.Wr)(kt.Z)),(0,re.Z)(tt.prototype,"onUpdateModeChange",[Xe],Object.getOwnPropertyDescriptor(tt.prototype,"onUpdateModeChange"),tt.prototype),et=tt))||et),Ct=n(42885),_t=n(73161),Mt="BhMHHZdHHDKKO6QfnYlQ",Nt="BSzkZ781eiXSb5vEDYCX",xt="RAorCZL_yzyAIV7GNPpj",Rt="BU0UNRLVPhR52Sskv0Px",Et="q60hwZ2w92C3ObT1d1ye",Ft="t8sdYKd0JTCqpaOWMNTy",Wt="kFmg_jBnbVLaqDEuOtTw",At="TPqs02ZPBhUYZgvsQB_1",Ot="dyS86VAVijNa9QcpuZPN",Dt="ceq0YhLArTabdAoSPsUY",Lt="yCHuEYXIlxO7Q_VDXmoE",Bt="dA7Bc3EESuSrdarmih7t",qt="fWdEDbk5kfN_JdeOdkuF",Qt="IpZ2BHkEfoPXUGEcDNtg",Gt=(nt=(0,L.wA)({name:"SecurityGa"}),rt=(0,L.RL)("isUpdateMode",{immediate:!0}),nt((ot=function(e){(0,A.Z)(o,e);var t,n,r,i=(0,O.Z)(o);function o(){var e;(0,E.Z)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),(0,D.Z)((0,W.Z)(e),"showKey",!1),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.GA),(0,D.Z)((0,W.Z)(e),"form",{code:"",second_verify:new Y.Nf}),(0,D.Z)((0,W.Z)(e),"responseData",null),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.SetGa),e}return(0,F.Z)(o,[{key:"secondStepName",get:function(){var e=(0,H.QT)().t,t=(0,U.h)().validateConfig;return this.isUpdateMode?t.gaStatus===B.mi.OPEN?e("lobby.center.security.ga.close"):e("lobby.center.security.ga.open"):e("lobby.center.security.ga.bind.title")}},{key:"onlyBind",get:function(){return this.stepvaild.steps===G.p.FIRST_STEP&&1===this.stepsLength||this.stepvaild.steps===G.p.FIRST_STEP&&2===this.stepsLength&&this.stepvaild.stepList[this.stepvaild.steps].id===G.p.SECOND_STEP}},{key:"bindTipsText",get:function(){var e=(0,H.QT)().t,t=(0,U.h)().validateConfig;return this.isUpdateMode?t.gaStatus===B.mi.OPEN?e("lobby.center.security.ga.update.closeTips"):e("lobby.center.security.ga.update.openTips"):e("lobby.center.security.ga.bind.tips")}},{key:"isUpdateMode",get:function(){var e=(0,U.h)().validateConfig;return[B.mi.OPEN,B.mi.CLOSE].includes(e.gaStatus||B.mi.NONE)}},{key:"onUpdateModeChange",value:function(e){(0,(0,oe.R)().setBindingStatus)(!e)}},{key:"nextForModify",value:(r=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,U.h)().validateConfig.gaStatus!==B.mi.NONE){e.next=6;break}return e.next=4,this.formModelRef.validate();case 4:return e.next=6,(0,j.$l)({code:this.form.code});case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"createFetchForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a,s,u,l,c,d,p,h,f=this;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,H.QT)(),i=r.t,o=(0,U.h)(),a=o.validateConfig,s=this.getModifyPayloadParams(),u=a.gaStatus===B.mi.NONE?function(){return(0,j.By)((0,$.Z)({code:f.form.code},s))}:function(){return(0,j.PI)((0,$.Z)({switch:a.gaStatus===B.mi.CLOSE?1:0},s))},e.next=6,u();case 6:if(4020!=(null==(l=e.sent)||null===(t=l.data)||void 0===t?void 0:t.code)){e.next=9;break}return e.abrupt("return",this.reset());case 9:c=(0,U.h)(),d=c.updateGaStatus,this.updateRewardList(),a.gaStatus===B.mi.OPEN?(this.doneTitle=i("lobby.center.security.ga.update.closeSuccess"),this.$nextTick((function(){d(B.mi.CLOSE)}))):(this.doneTitle=i("lobby.center.security.ga.update.openSuccess"),this.$nextTick((function(){d(B.mi.OPEN)}))),p=(0,oe.R)(),h=p.forceBindCallback,null===(n=h.ga)||void 0===n||n.call(h,{hasBindBySecondVerify:!!s.second_verify});case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"gaStatusText",get:function(){var e,t,n=(0,U.h)().validateConfig,r=(0,H.QT)().t;return n.gaStatus===B.mi.OPEN?(t=r("lobby.center.security.open"),e=r("lobby.center.security.isOpened")):n.gaStatus===B.mi.CLOSE?(t=r("lobby.center.security.close"),e=r("lobby.center.security.isClosed")):(t=r("lobby.center.security.notBind"),e=r("lobby.center.security.isOpened")),{text:e,status:t}}},{key:"mounted",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.onlyBind){e.next=5;break}return e.next=3,(0,j.DC)({type:se.Zy.GA});case 3:r=e.sent,this.responseData=(null==r||null===(t=r.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.info)||{};case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(e){var t=this,n=this.$createElement,r=(0,U.h)(),i=r.validateConfig,o=r.userInfos,a=Q.sG.FuncRender.createFormModelItem.call(this),s=this.responseData;if(this.onlyBind&&(s=(null==e?void 0:e.responseData)||{}),i.gaStatus===B.mi.NONE&&!s.key)return null;var u=(0,H.QT)().t;return[n("div",{attrs:{"data-status":i.gaStatus},class:Mt},[n("span",[this.secondStepName]),n(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),i.gaStatus===B.mi.NONE?[n("section",{class:[Wt,At]},[n("span",[u("lobby.center.security.ga.steps.1.title")]),n("div",[u("lobby.center.security.ga.steps.1.content")])]),n("section",{class:[Wt,Ot]},[n("span",[u("lobby.center.security.ga.steps.2.title")]),n("div",{class:Nt},[n("div",{class:xt},[n("img",{attrs:{src:"data:image/png;base64,".concat(s.image)}})]),n("div",[this.showKey?n("div",{class:Et},[n("span",[s.key]),n("div",{class:Ft},[n(q.RK,{attrs:{text:s.key}})])]):n("span",{class:Rt,on:{click:function(){t.showKey=!0}}},[u("lobby.center.security.ga.steps.2.content")])])])]),n("section",{class:[Wt,Dt]},[n("span",[u("lobby.center.security.ga.steps.3.title")]),n(de.Z,{attrs:{hiddenToggle:!0,googleCodeProp:"code",username:(null==o?void 0:o.platfromid)||"",desensitizedEmail:"none",desensitizedPhoneNumber:"none",formModel:this.form,mode:de.W.WITH_GA,validTypeConfig:[de.W.WITH_GA]}})])]:a.custom({prop:"code",model:this.form,formModelItemTsxData:{class:Lt,props:{rules:[Q.sG.Rules.required({requiredItem:u("lobby.common.components.auth.ga.label")}),Q.sG.Rules.create({required:!0,validator:function(e,n,r){return t.setGoogleCodeValue(n),r(),!0}})]}},render:function(){return[n("template",{slot:"label"},[n("div",{class:Bt},[n("div",{class:qt},[n(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){var e=_t.Z.sprite_main_icon_wd_ggyz_b,t=30/e.width;return n("icon-sprite",{attrs:{scale:t,sprite:e}})}}}}),n("span",[u("lobby.center.security.status"),":",t.gaStatusText.status])]),n("div",{class:Qt,directives:[{name:"show",value:!t.onlyBind}]},[n("span",[t.gaStatusText.text])])])])]}})]}},{key:"setGoogleCodeValue",value:function(e){he()(this.form,"code",(0,Ct.$A)(e||"",{maxLength:6}))}},{key:"renderCurrentInfos",value:function(){var e=this,t=this.$createElement,n=(0,H.QT)().t,r=(0,U.h)().validateConfig;return[t("div",{class:wt.Z.title},[t("span",{class:wt.Z.key},[n("lobby.center.security.ga.tab")]),t("span",{class:wt.Z.value},[r.gaStatus===B.mi.OPEN?n("lobby.center.security.open"):r.gaStatus===B.mi.CLOSE?n("lobby.center.security.close"):n("lobby.center.security.notBind")])]),t("div",{class:wt.Z.tips},[void e.bindTipsText])]}},{key:"renderFooter",value:function(e){var t=e.renderSubmitBtns,n=e.hasAuthWay,r=this.$createElement,i=(0,U.h)().validateConfig;return n||i.gaStatus===B.mi.NONE||this.onlyBind?t():r(ye.Z,{attrs:{showIcon:!0,mode:"NotBind"}})}}]),o}((0,L.Wr)(kt.Z)),(0,re.Z)(ot.prototype,"onUpdateModeChange",[rt],Object.getOwnPropertyDescriptor(ot.prototype,"onUpdateModeChange"),ot.prototype),it=ot))||it),Ht=n(50308),Ut=n.n(Ht),Vt="BGun9KFiqf9BoIhUOzKA",$t=(0,L.wA)({name:"SecurityLoginPwd"})(at=function(e){(0,A.Z)(i,e);var t,n,r=(0,O.Z)(i);function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.LOGIN_PASS),(0,D.Z)((0,W.Z)(e),"form",{oldpass:"",newpass:"",newpassConfirm:"",second_verify:new Y.Nf}),e}return(0,F.Z)(i,[{key:"secondStepName",get:function(){return(0,(0,H.QT)().t)("lobby.center.security.loginPwd.title")}},{key:"onlyBind",get:function(){return this.stepvaild.steps===G.p.FIRST_STEP&&1===this.stepsLength||this.stepvaild.steps===G.p.FIRST_STEP&&2===this.stepsLength&&this.stepvaild.stepList[this.stepvaild.steps].id===G.p.SECOND_STEP}},{key:"bindTipsText",get:function(){return(0,(0,H.QT)().t)("lobby.center.security.loginPwd.update.tips")}},{key:"nextForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.formModelRef.validate();case 2:return e.next=4,(0,j.hZ)({login_pass:this.form.newpass});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,H.QT)(),r=n.t,i=this.getModifyPayloadParams(),o=(0,$.Z)({oldpass:this.form.oldpass,newpass:this.form.newpass},i),e.next=5,(0,j.XY)(o);case 5:if(4020!=(null==(a=e.sent)||null===(t=a.data)||void 0===t?void 0:t.code)){e.next=8;break}return e.abrupt("return",this.reset());case 8:this.doneTitle=r("lobby.center.security.loginPwd.update.success"),(0,(0,U.h)().updateUserInfos)(null),Q.sG.Page.toRoot();case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.loginPwd,r=t.hasAuthWay,i=this.$createElement;this.form.oldpass=n||"";var o=Q.sG.FuncRender.createFormModelItem.call(this),a=(0,H.QT)(),s=a.t;return[i("span",{class:wt.Z.loginPwdTitle},[i("span",[this.secondStepName])]),o.userpass({label:s("lobby.center.security.loginPwd.newPwd.label"),inputTsxData:{attrs:{disabled:!r&&!this.onlyBind,placeholder:s("lobby.common.formRules.userpass",{range:"6-16"})}},getRules:function(t){return[t.required,t.pattern,{validator:function(t,n,r){return e.form.newpassConfirm&&e.formModelRef.validateField(["newpassConfirm"],Ut()),r(),!0}}]},hiddenPrefix:!0,showLabel:!0,prop:"newpass",model:this.form}),o.userpass({label:s("lobby.center.security.loginPwd.confirmNewPwd.label"),hiddenPrefix:!0,showLabel:!0,prop:"newpassConfirm",inputTsxData:{attrs:{disabled:!r&&!this.onlyBind,placeholder:s("lobby.center.security.loginPwd.confirmNewPwd.placeholder")}},model:this.form,getRules:function(t){return[t.required,t.pattern,Q.sG.Rules.create({validator:function(t,n,r){return n!==e.form.newpass&&r(s("lobby.modal.register.notMatch")),r(),!0}})]}})]}},{key:"renderFooter",value:function(e){var t=e.renderSubmitBtns,n=e.hasAuthWay,r=this.$createElement;return n||this.onlyBind?t():r(ye.Z,{class:Vt,attrs:{showIcon:!0,mode:"NotBind"}})}},{key:"renderCurrentInfos",value:function(){return(0,this.$createElement)("div",{class:wt.Z.tips},[this.bindTipsText])}}]),i}((0,L.Wr)(kt.Z)))||at,zt=n(37694),Yt="DL4g_bnJsOqLFT7tjACw",Kt=(st=(0,L.wA)({name:"SecurityPhone"}),ut=(0,L.RL)("isUpdateMode",{immediate:!0}),st((ct=function(e){(0,A.Z)(o,e);var t,n,r,i=(0,O.Z)(o);function o(){var e;(0,E.Z)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.PHONE),(0,D.Z)((0,W.Z)(e),"currentPhoneNumberSegment",""),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.BindPhoneAndSMSValid),(0,D.Z)((0,W.Z)(e),"form",{phone:"",phone_code:"",second_verify:new Y.Nf}),e}return(0,F.Z)(o,[{key:"onUpdateModeChange",value:function(e){(0,(0,oe.R)().setBindingStatus)(!e)}},{key:"secondStepName",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.phone.update.title"):e("lobby.center.security.phone.bind.title")}},{key:"bindTipsText",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.phone.update.tips"):e("lobby.center.security.phone.bind.tips")}},{key:"enableUsingSms",get:function(){var e;return 1===(null===(e=(0,U.h)().systemInfos)||void 0===e?void 0:e.enable_using_sms)}},{key:"tryInitCurrentPhoneNumberSegment",value:function(){var e=(0,U.h)(),t=e.systemInfos,n=e.countryInfos,r=e.defaultCountry,i=null==n?void 0:n.find((function(e){return(null==e?void 0:e.phoneNumberSegment)===(null==t?void 0:t.recommendAreaCode)}));this.currentPhoneNumberSegment=i?i.phoneNumberSegment:(null==r?void 0:r.phoneNumberSegment)||""}},{key:"isUpdateMode",get:function(){return(0,U.h)().validateConfig.hasPhoneNumber}},{key:"phoneNumberFormat",get:function(){var e=this;if(!this.form.phone)return"";var t=(0,U.h)().countryInfos,n=null==t?void 0:t.find((function(t){return t.phoneNumberSegment===e.currentPhoneNumberSegment}));return"".concat((null==n?void 0:n.phoneNumberSegment)||"","-").concat(this.form.phone)}},{key:"mounted",value:(r=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zt.Z.initSmsCountry();case 2:this.tryInitCurrentPhoneNumberSegment();case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"nextForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.formModelRef)||void 0===t?void 0:t.validate();case 2:return e.next=4,(0,j.O7)({phone:this.phoneNumberFormat,code:this.enableUsingSms?this.form.phone_code:""});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a,s,u,l,c,d,p=this;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,H.QT)(),i=r.t,o=this.getModifyPayloadParams(),a=(0,$.Z)({phone:this.phoneNumberFormat,phone_code:this.enableUsingSms?this.form.phone_code:"000000"},o),e.next=5,(0,j.O0)(a);case 5:if(4020!=(null==(s=e.sent)||null===(t=s.data)||void 0===t?void 0:t.code)){e.next=8;break}return e.abrupt("return",this.reset());case 8:this.updateRewardList(),this.doneTitle=this.isUpdateMode?i("lobby.center.security.phone.update.success"):i("lobby.center.security.phone.bind.success"),u=(0,U.h)(),l=u.updateMobilePhone,this.$nextTick((function(){l(gt.ZP.phoneNumberDesensitization(p.phoneNumberFormat))})),c=(0,oe.R)(),d=c.forceBindCallback,null===(n=d.phone)||void 0===n||n.call(d,{hasBindBySecondVerify:!(null==o||!o.second_verify)});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){var e=this,t=this.$createElement,n=(0,H.QT)().t,r=(0,U.h)(),i=r.countryInfos,o=r.defaultCountry,a=Q.sG.FuncRender.createFormModelItem.call(this),s=[t("span",{class:wt.Z.loginPwdTitle},[t("span",[this.secondStepName]),t(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),o&&a.userPhoneSelect({hiddenPrefix:!0,showLabel:!0,prop:"phone",model:this.form,countryInfos:i,defaultCountry:o,currentPhoneNumberSegment:this.currentPhoneNumberSegment,inputTsxData:{class:[Yt],attrs:{placeholder:n("lobby.center.security.phone.phonePlaceholder")}},onSelectChange:function(t){e.currentPhoneNumberSegment=t,e.form.phone=""}})];return this.enableUsingSms&&s.push(t(q.F0,X()([{attrs:{hiddenPrefix:!0}},{props:{placeholder:n("lobby.center.security.phone.smsPlaceholder")}},{attrs:{getCodeFunPromise:function(e){return(0,le.apiGetSmsCodeAfterLogined)({create_mode:B.FW.Bind,limit_type:"phone",phone_number:e})},showLabel:!0,prop:"phone_code",targetValue:this.phoneNumberFormat},ref:"smsVerificationRef",model:{value:e.form.phone_code,callback:function(t){e.$set(e.form,"phone_code",t)}}}]))),s}}]),o}((0,L.Wr)(kt.Z)),(0,re.Z)(ct.prototype,"onUpdateModeChange",[ut],Object.getOwnPropertyDescriptor(ct.prototype,"onUpdateModeChange"),ct.prototype),lt=ct))||lt),jt=(n(73210),(0,L.wA)({name:"SecurityQuestion"})(dt=function(e){(0,A.Z)(o,e);var t,n,r,i=(0,O.Z)(o);function o(){var e;(0,E.Z)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.QUESTIONS),(0,D.Z)((0,W.Z)(e),"form",{answer:"",answerConfirm:"",id:-1,second_verify:new Y.Nf}),(0,D.Z)((0,W.Z)(e),"responseData",null),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.SetQuestion),e}return(0,F.Z)(o,[{key:"secondStepName",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.question.update.title"):e("lobby.center.security.question.bind.title")}},{key:"bindTipsText",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.question.update.tips"):e("lobby.center.security.question.bind.tips")}},{key:"isUpdateMode",get:function(){return(0,U.h)().validateConfig.hasQuestion}},{key:"nextForModify",value:(r=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.form.answer=this.form.answer.trim(),this.form.answerConfirm=this.form.answerConfirm.trim(),e.next=4,this.formModelRef.validate();case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"createFetchForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a,s,u,l,c;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,H.QT)(),r=n.t,i=(0,U.h)(),o=i.updateSecretQuestion,a=i.validateConfig.hasQuestion,s=this.getModifyPayloadParams(),u=(0,$.Z)({answer:this.form.answer,id:this.form.id},s),l=a?function(){return(0,j.ND)(u)}:function(){return(0,j.c5)(u)},e.next=7,l();case 7:if(4020!=(null==(c=e.sent)||null===(t=c.data)||void 0===t?void 0:t.code)){e.next=10;break}return e.abrupt("return",this.reset());case 10:this.updateRewardList(),this.doneTitle=r(a?"lobby.center.security.question.update.success":"lobby.center.security.question.bind.success"),this.$nextTick((function(){o(B.Fb.OPEN)}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onlyBind",get:function(){return this.stepvaild.steps===G.p.FIRST_STEP&&1===this.stepsLength||this.stepvaild.steps===G.p.FIRST_STEP&&2===this.stepsLength&&this.stepvaild.stepList[this.stepvaild.steps].id===G.p.SECOND_STEP}},{key:"mounted",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.onlyBind){e.next=5;break}return e.next=3,(0,j.DC)({type:se.Zy.QUESTIONS});case 3:r=e.sent,this.responseData=(null==r||null===(t=r.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.info)||{};case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(e){var t=this,n=this.$createElement,r=this.responseData;this.onlyBind&&(r=(null==e?void 0:e.responseData)||{});var i=r.question||[{id:-1}],o=-1===this.form.id?me()(i,"0.id"):this.form.id;this.form.id=o;var a=Q.sG.FuncRender.createFormModelItem.call(this),s=(0,H.QT)().t;return[n("span",{class:wt.Z.loginPwdTitle},[n("span",[this.secondStepName]),n(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),a.baseSelect({prop:"id",model:this.form,listData:i.map((function(e){return{value:e.id,label:e.question}})),selectTsxData:{props:{dropdownClassName:"question-select"}},current:this.form.id,onSelectChange:function(e){t.form.id=e},render:function(){return[n("template",{slot:"label"},[n("div",[n("div",[n(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return n("icon-sprite",{attrs:{sprite:Ze()}})}}}}),n("span",[s("lobby.common.components.auth.question.label")])])])])]}}),a.custom({prop:"answer",model:this.form,formModelItemTsxData:{props:{rules:[Q.sG.Rules.required({requiredItem:s("lobby.common.components.auth.question.title")})]}},render:function(){return[n("template",{slot:"label"},[n("div",[n("div",[n(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return n("icon-sprite",{attrs:{sprite:we()}})}}}}),n("span",[s("lobby.common.components.auth.question.label2")])])])]),n(ae.II.Tsx,{attrs:{placeholder:s("lobby.common.components.auth.question.inputTips"),maxLength:20},model:{value:t.form.answer,callback:function(e){t.$set(t.form,"answer",e)}}})]}}),a.custom({prop:"answerConfirm",model:this.form,formModelItemTsxData:{props:{rules:[Q.sG.Rules.required({requiredItem:s("lobby.common.components.auth.question.title")}),Q.sG.Rules.create({validator:function(e,n,r){return n!==t.form.answer&&r(s("lobby.center.security.question.notMatch")),r(),!0}})]}},render:function(){return[n("template",{slot:"label"},[n("div",[n("div",[n(ae.JO.Tsx,{attrs:{component:{functional:!0,render:function(){return n("icon-sprite",{attrs:{sprite:we()}})}}}}),n("span",[s("lobby.center.security.question.answerConfirm")])])])]),n(ae.II.Tsx,{attrs:{placeholder:s("lobby.center.security.question.answerConfirmPlaceholder"),maxLength:20},model:{value:t.form.answerConfirm,callback:function(e){t.$set(t.form,"answerConfirm",e)}}})]}})]}},{key:"renderCurrentInfos",value:function(){var e=this.$createElement,t=(0,H.QT)().t;return[e("div",{class:wt.Z.title},[e("span",{class:wt.Z.key},[t("lobby.center.security.question.label")]),e("span",{class:wt.Z.value},[this.isUpdateMode?t("lobby.center.security.done"):t("lobby.center.security.none")])]),e("div",{class:wt.Z.tips},[this.bindTipsText])]}}]),o}((0,L.Wr)(kt.Z)))||dt),Jt=(n(57327),n(79959)),Xt="NDQKtl9liweYeCl6Khf0",en="FMDSSEJ2xXm5OvjNHv4W",tn="UP7aG7Zn8kHkaFCGICk6",nn="z97Lt1lFiKSeGtmS_ixU",rn="irY5gvGMr5TJndj_GvOg",on="QvLulXpNSlGVLBD3RwFz",an="PoLMCwN5nmLRM8OzHw6A",sn=(0,L.wA)({name:"SecurityThirdWay"})(pt=function(e){(0,A.Z)(r,e);var t,n=(0,O.Z)(r);function r(){var e;(0,E.Z)(this,r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.THIRD_BIND),(0,D.Z)((0,W.Z)(e),"form",{email:"",code:"",second_verify:new Y.Nf}),e}return(0,F.Z)(r,[{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,H.QT)(),n=t.t,e.next=3,(0,j.ni)((0,$.Z)({email:this.form.email,code:this.form.code},this.getVerifyPayload()));case 3:r=(0,U.h)(),i=r.updateEmail,Q.sG.Modal.message({type:"success",content:n("lobby.center.security.email.success")}),i(gt.ZP.emailDesensitization(this.form.email));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderDefault",value:function(){var e=this,t=this.$createElement,n=(0,U.h)().threeWayConfig,r=(0,H.QT)().t;return t(Jt.ZP,{attrs:{hiddenShadow:!0,showLabel:!0,businessMode:Jt.U8.BIND,threeWayConfig:n.list},on:{complete:function(){e.reset()}},class:Xt},[t("template",{slot:"title"},[t("div",{class:[wt.Z.loginPwdTitle,en]},[r("lobby.center.security.thirdWay.tab")])])])}},{key:"renderFooter",value:function(){return null}},{key:"hasBind",get:function(){var e=(0,U.h)().validateConfig;return void 0!==e.thirdType&&e.thirdType!==B.IH.NONE}},{key:"renderCurrentInfos",value:function(){var e,t=this.$createElement,n=(0,H.QT)().t,r=(0,U.h)().validateConfig;return[t("div",{class:(e={},(0,D.Z)(e,wt.Z.title,!0),(0,D.Z)(e,tn,this.hasBind),(0,D.Z)(e,rn,1===this.currentThreeWayList.filter(Boolean).length),e)},[t("span",{class:[wt.Z.key,nn]},[n("lobby.center.security.thirdWay.tab")]),t("span",{class:[wt.Z.value,on]},[this.hasBind?r.thirdEmail:n("lobby.center.security.notBind")])]),this.hasBind?null:t("div",{class:wt.Z.tips},[n("lobby.center.security.thirdWay.tips")])]}},{key:"currentThreeWayList",get:function(){var e=(0,U.h)().validateConfig,t=function(){switch(e.thirdType){case B.IH.FACEBOOK:return Jt.IR.FACEBOOK;case B.IH.GOOGLE:return Jt.IR.GOOGLE;default:return}}();return t?[t]:[]}},{key:"renderBeforeLoginPwd",value:function(e){var t=e.renderBeforeLoginPwd,n=this.$createElement;return this.hasBind?[].concat((0,te.Z)(this.renderCurrentInfos()),[n("div",{class:(0,D.Z)({},an,!0)},[n(Jt.ZP,{attrs:{previewMode:!0,showLabel:!0,hiddenShadow:!0,businessMode:Jt.U8.BIND,threeWayConfig:this.currentThreeWayList,hasBind:this.hasBind},class:Xt},[n("template",{slot:"title"},[n("span")])])])]):t(!1)}}]),r}((0,L.Wr)(Tt)))||pt,un=(n(39714),"FoD6bH3V5A47RnLkco6A"),ln=(ht=(0,L.wA)({name:"SecurityWithdrawalPwd"}),ft=(0,L.Rl)(),ht((yt=function(e){(0,A.Z)(i,e);var t,n,r=(0,O.Z)(i);function i(){var e;(0,E.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,ne.Z)((0,W.Z)(e),"pwdInput",bt,(0,W.Z)(e)),(0,D.Z)((0,W.Z)(e),"modifyType",se.Zy.WITHDRAW_PASS),(0,D.Z)((0,W.Z)(e),"form",{withdraw_pass:"",withdrawPassConfirm:"",second_verify:new Y.Nf}),(0,D.Z)((0,W.Z)(e),"rewardType",B.sF.SetWithdrawalPin),e}return(0,F.Z)(i,[{key:"secondStepName",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.withdrawalPwd.update.title"):e("lobby.center.security.withdrawalPwd.bind.title")}},{key:"bindTipsText",get:function(){var e=(0,H.QT)().t;return this.isUpdateMode?e("lobby.center.security.withdrawalPwd.update.tips"):e("lobby.center.security.withdrawalPwd.bind.tips")}},{key:"isUpdateMode",get:function(){return(0,U.h)().validateConfig.hasWithdrawPwd}},{key:"nextForModify",value:(n=(0,z.Z)((0,V.Z)().mark((function e(){return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.formModelRef.validate();case 2:return e.next=4,(0,j.p_)({withdraw_pass:this.form.withdraw_pass});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createFetchForModify",value:(t=(0,z.Z)((0,V.Z)().mark((function e(){var t,n,r,i,o,a,s,u;return(0,V.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,H.QT)(),r=n.t,i=this.getModifyPayloadParams(),o=(0,$.Z)({withdraw_pass:this.form.withdraw_pass},i),e.next=5,(0,j.oh)(o);case 5:if(4020!=(null==(a=e.sent)||null===(t=a.data)||void 0===t?void 0:t.code)){e.next=8;break}return e.abrupt("return",this.reset());case 8:s=(0,U.h)(),u=s.updateWithdrawalPwdStatus,this.updateRewardList(),this.doneTitle=this.isUpdateMode?r("lobby.center.security.withdrawalPwd.update.success"):r("lobby.center.security.withdrawalPwd.bind.success"),this.$nextTick((function(){u(B.Fb.OPEN)}));case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderCurrentFormItem",value:function(){var e=this,t=this.$createElement,n=Q.sG.FuncRender.createFormModelItem.call(this),r=(0,H.QT)().t;return[t("span",{class:wt.Z.loginPwdTitle},[t("span",[this.secondStepName]),t(K.YC,{attrs:{name:Q.CM.PortalName.SecurityCenterService}})]),n.custom({prop:"withdraw_pass",model:this.form,formModelItemTsxData:{props:{rules:[Q.sG.Rules.paypass(void 0,{required:!0})]}},render:function(){return[t(q.KH,{attrs:{showLabel:!0,labelTitle:r("lobby.center.security.withdrawalPwd.newWithdrawalPwd")},on:{complete:function(){e.pwdInput.focus()}},model:{value:e.form.withdraw_pass,callback:function(t){e.$set(e.form,"withdraw_pass",t)}}})]}}),n.custom({prop:"withdrawPassConfirm",model:this.form,formModelItemTsxData:{props:{rules:[Q.sG.Rules.required({requiredItem:r("lobby.center.security.withdrawalPwd.label")}),Q.sG.Rules.paypass(),Q.sG.Rules.create({validator:function(t,n,i){return n!==e.form.withdraw_pass?(i(r("lobby.modal.register.notMatch")),!1):(i(),!0)}})]}},render:function(){return[t(q.KH,{attrs:{showLabel:!0,labelTitle:r("lobby.center.security.withdrawalPwd.confirmNewPwd")},ref:"pwdInput",model:{value:e.form.withdrawPassConfirm,callback:function(t){e.$set(e.form,"withdrawPassConfirm",t)}}})]}}),t("p",{class:[wt.Z.remark,un],domProps:{innerHTML:r("lobby.center.security.withdrawalPwd.bind.remark").toString()}})]}},{key:"renderCurrentInfos",value:function(){var e=this.$createElement,t=(0,H.QT)().t;return[e("div",{class:wt.Z.title},[e("span",{class:wt.Z.key},[t("lobby.center.security.withdrawalPwd.tab")]),e("span",{class:wt.Z.value},[this.isUpdateMode?t("lobby.center.security.done"):t("lobby.center.security.none")])]),e("div",{class:wt.Z.tips},[this.bindTipsText])]}}]),i}((0,L.Wr)(kt.Z)),bt=(0,re.Z)(yt.prototype,"pwdInput",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=yt))||mt),cn="JiihBVuZ0IIpZnmWeZHL",dn="nvQN1BJCTdfuwHqCY3_1",pn=(0,L.wA)({name:"Security"})(vt=function(e){(0,A.Z)(n,e);var t=(0,O.Z)(n);function n(){var e,r;(0,E.Z)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),(0,D.Z)((0,W.Z)(r),"mainStore",(0,U.h)()),(0,D.Z)((0,W.Z)(r),"is213Code",["025","033","213"].includes((null===(e=r.mainStore.siteConfig)||void 0===e?void 0:e.siteCode)||"")),(0,D.Z)((0,W.Z)(r),"current",r.is213Code?G.r.LOGIN_PWD:G.r.PHONE),r}return(0,F.Z)(n,[{key:"defaultTabsConfig",get:function(){var e=this.$createElement,t=(0,H.QT)().t,n=this.mainStore,r=n.threeWayConfig,i=n.systemInfos,o=n.userInfos;return[{label:e("span",{attrs:{id:(null==o?void 0:o.must_bind_phone)===B.P0.REQUIRED?"security-tab-phone":""}},[t("lobby.center.security.phone.tab")]),value:G.r.PHONE,hidden:this.is213Code},{label:t("lobby.center.security.cpf.tab"),value:G.r.CPF,hidden:!0},{label:e("span",{attrs:{id:(null==o?void 0:o.must_bind_email)===B.P0.REQUIRED?"security-tab-email":""}},[t("lobby.center.security.email.tab")]),value:G.r.EMAIL,hidden:2===(null==i?void 0:i.enable_using_gmail)||this.is213Code},{label:e("span",{attrs:{id:(null==o?void 0:o.must_bind_google_auth)===B.P0.REQUIRED?"security-tab-ga":""}},[t("lobby.center.security.ga.tab")]),value:G.r.GA,hidden:this.is213Code},{label:t("lobby.center.security.loginPwd.tab"),value:G.r.LOGIN_PWD},{label:e("span",{attrs:{id:(null==o?void 0:o.mustBindWithdrawPass)===B.P0.REQUIRED?"security-tab-withdrawPass":""}},[t("lobby.center.security.withdrawalPwd.tab")]),value:G.r.WITHDRAWPASS},{label:t("lobby.center.security.question.tab"),value:G.r.QUESTION},{hidden:!r.list.length||this.is213Code,label:t("lobby.center.security.thirdWay.tab"),value:G.r.THIRD_WAY}]}},{key:"render",value:function(){var e=this,t=arguments[0],n=(0,H.QT)(),r=n.t,i=this.mainStore.isWeb,o=i?36:70;return t(q.tK,{attrs:{titleContent:r("lobby.center.security.title"),showBack:!i},class:cn},[t(q.EH,{attrs:{id:"my-security-center-tabs",itemHeight:o,isScrollX:!0,renderList:this.defaultTabsConfig,itemListWrapperClassName:dn,preTriggerHook:function(e){return new Promise((function(t,n){var r=(0,U.h)().validateConfig,i=(0,H.QT)().t;if(e.value===G.r.LOGIN_PWD&&!r.hasGaOrEmailOrPhoneNumber&&!r.hasQuestionOrWithdrawPwd)return Q.sG.Modal.message({type:"error",content:i("lobby.center.security.bindOtherPrompt")}),n();t()}))}},scopedSlots:{default:function(e){var n,r=e.value,i=(n={},(0,D.Z)(n,G.r.PHONE,(function(){return t(Kt)})),(0,D.Z)(n,G.r.CPF,(function(){return t(St)})),(0,D.Z)(n,G.r.EMAIL,(function(){return t(It)})),(0,D.Z)(n,G.r.LOGIN_PWD,(function(){return t($t)})),(0,D.Z)(n,G.r.WITHDRAWPASS,(function(){return t(ln)})),(0,D.Z)(n,G.r.QUESTION,(function(){return t(jt)})),(0,D.Z)(n,G.r.GA,(function(){return t(Gt)})),(0,D.Z)(n,G.r.THIRD_WAY,(function(){return t(sn)})),n),o=r;return i[o]&&i[o]()}},model:{value:e.current,callback:function(t){e.current=t}}})])}}]),n}(L.XY))||vt}}]);