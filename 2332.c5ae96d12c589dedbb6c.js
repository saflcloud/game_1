"use strict";(self.webpackChunkmy_vue_app=self.webpackChunkmy_vue_app||[]).push([[2332],{85331:function(t,e,a){a.d(e,{Z:function(){return D}});var n,r,i,o=a(74492),s=a(21797),u=a(92317),l=a(82345),c=a(72283),m=a(20793),g=a(50125),h=(a(41539),a(78783),a(33948),a(92222),a(51532),a(9653),a(26699),a(69826),a(68309),a(30813)),y=a(12322),p=a(90825),d=a(33990),f=a(72433),v=a(76937),C=a(42930),b=a(81764),k=a(98292),Z=a(56260),I=a(72859),L=a(52318),S=a.n(L),T="Sg8EWG73vPuPWCl08eq1",A="TUj1K7oRl6nYBlJ7lxQT",N="Bet_XT7ApAdc9QyvCWQg",D=(0,h.wA)({name:"BasePageMixins",components:(i={class:[T]},r={},(0,g.Z)(r,y.D5.NORMAL_STYLE0,Z.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(2446),a.e(1230),a.e(7320)]).then(a.bind(a,48115))},loadingComponentConfig:i})),(0,g.Z)(r,y.D5.NORMAL_STYLE1,Z.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(2446),a.e(1230),a.e(7320),a.e(2116)]).then(a.bind(a,32116))},loadingComponentConfig:i})),(0,g.Z)(r,y.D5.CYANBLUE,Z.Z.createAsyncComponent({component:function(){return Promise.all([a.e(1230),a.e(2894),a.e(5955)]).then(a.bind(a,21405))},loadingComponentConfig:i})),(0,g.Z)(r,y.D5.EUROPEAN_AMERICAN,Z.Z.createAsyncComponent({component:function(){return Promise.all([a.e(3286),a.e(1230),a.e(5544)]).then(a.bind(a,62719))},loadingComponentConfig:i})),r)})(n=function(t){(0,c.Z)(n,t);var e=(0,m.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,g.Z)((0,l.Z)(t),"mainStore",(0,k.h)()),t}return(0,u.Z)(n,[{key:"gameTabList",get:function(){var t,e=this.mainStore,a=e.isEuropeanAmerican,n=e.isCyanBlue,r=this.mainStore.homeLayoutInfos,i=null!==(t=null==r?void 0:r.topLayout)&&void 0!==t?t:d.j4.style0;return new Map([[i===d.j4.style0,y.D5.NORMAL_STYLE0],[i===d.j4.style1,y.D5.NORMAL_STYLE1],[n,y.D5.CYANBLUE],[a,y.D5.EUROPEAN_AMERICAN]]).get(!0)}},{key:"defaultHotGameId",get:function(){var t=this.mainStore.isEuropeanAmerican,e=String(t?y.ck.HOME:y.ck.HOT);return Number(e)}},{key:"hasAbbreviation",get:function(){var t=this.mainStore.language;return["zh_CN","zh_TW","tl_PH","pt_PT","th_TH","ko_KR"].includes(t)}},{key:"isWeb",get:function(){return this.mainStore.isWeb}},{key:"isLogin",get:function(){return this.mainStore.hasLogined}},{key:"Config",get:function(){return{gameDataSize:50}}},{key:"tabImgs",get:function(){var t;return t={},(0,g.Z)(t,y.ck.HOT,a(98257)),(0,g.Z)(t,y.ck.SEARCH,a(88573)),(0,g.Z)(t,y.ck.CHESS,a(5955)),(0,g.Z)(t,y.ck.FISH,a(61594)),(0,g.Z)(t,y.ck.ELECTRONIC,a(90535)),(0,g.Z)(t,y.ck.REAL,a(82372)),(0,g.Z)(t,y.ck.SPORTS,a(7181)),(0,g.Z)(t,y.ck.LOTTERY,a(50199)),(0,g.Z)(t,y.ck.RECENT,a(85355)),t}},{key:"gameCategoryId",get:function(){var t;return Number(null!==(t=this.$route.query.gameCategoryId)&&void 0!==t?t:this.defaultHotGameId)}},{key:"gameCategoryName",get:function(){var t;return null===(t=this.gameCategory)||void 0===t?void 0:t.gameCategoryName}},{key:"gameCategory",get:function(){var t=this,e=(0,C.g)().gameCategoriesAvailable,a=(0,b.QT)().t;return[{gameCategoryId:0,gameCategoryName:"".concat(a("lobby.gameMenu.menu0"))}].concat((0,o.Z)(e)).find((function(e){return e.gameCategoryId===t.gameCategoryId}))}},{key:"platformId",get:function(){return Number(this.$route.query.platformId||-1)}},{key:"platformItem",get:function(){var t,e=this,a=this.gameCategory;return null==a||null===(t=a.list)||void 0===t?void 0:t.find((function(t){return t.platformId===e.platformId}))}},{key:"randerTable",value:function(){var t=this.$createElement,e=this.mainStore,a=e.isEuropeanAmerican,n=e.isCyanBlue;return this.isLogin&&this.isWeb&&!a&&!n?t(I.Z):null}},{key:"renderBreadcrumb",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.$createElement,n=(0,C.g)(),r=n.gameParam,i=n.setGameParameters,o=[],s=function(){i(void 0),t.$router.push({name:v.x4.GAME,query:{gameCategoryId:t.$route.query.gameCategoryId}})},u=function(){i(void 0),t.$router.push({name:v.x4.SUB_GAME,query:{platformId:t.$route.query.platformId,gameCategoryId:t.$route.query.gameCategoryId}})};if(e){var l;this.gameCategoryName&&o.push(a("div",[a("span",{on:{click:s}},[this.gameCategoryName]),a("icon-sprite",{attrs:{sprite:S()}})])),null!==(l=this.platformItem)&&void 0!==l&&l.platformName&&o.push(a("div",[a("span",[this.platformItem.platformName])]))}else{var c,m;if(this.gameCategoryName&&o.push(a("div",[a("span",{on:{click:s}},[this.gameCategoryName]),a("icon-sprite",{attrs:{sprite:S()}})])),null!==(c=this.platformItem)&&void 0!==c&&c.platformName)o.push(a("div",[a("span",{on:{click:u}},[null===(m=this.platformItem)||void 0===m?void 0:m.platformName]),a("icon-sprite",{attrs:{sprite:S()}})]));null!=r&&r.name&&o.push(a("div",[a("span",[null==r?void 0:r.name])]))}return a("div",{class:A},[a("div",{class:N},[o]),a(f.YC,{attrs:{name:p.CM.PortalName.GameListTopRight}})])}}]),n}(h.XY))||n},11690:function(t,e,a){a.r(e),a.d(e,{default:function(){return O}});var n,r,i,o,s,u,l,c,m=a(36568),g=a.n(m),h=a(74492),y=a(70970),p=a(2813),d=a(21797),f=a(92317),v=a(82345),C=a(72283),b=a(20793),k=a(50125),Z=a(17360),I=(a(92222),a(41539),a(38880),a(30813)),L=a(12322),S=a(76937),T=a(27686),A=a(81764),N=a(85331),D="oiugzC850JzJi6rcQBgf",E="bVlnT6cxm4tozw6Hsqd8",O=(n=(0,I.wA)({name:"SubGame"}),r=(0,I.RL)("platformId"),i=(0,I.RL)("gameCategoryId"),o=(0,I.RL)("activeTabkey"),s=(0,I.RL)("isLogin"),u=(0,I.RL)("mainStore.language",{immediate:!0}),n((c=function(t){(0,C.Z)(l,t);var e,n,r,i,o,s,u=(0,b.Z)(l);function l(){var t;(0,d.Z)(this,l);for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=u.call.apply(u,[this].concat(a)),(0,k.Z)((0,v.Z)(t),"state",{listData:[],current:1,total:0,loading:!1,scrollLoading:!1,currentQueryFun:function(){return null}}),t}return(0,f.Z)(l,[{key:"platformIdChange",value:function(){this.mainStore.updateGameListTabActive(this.platformId)}},{key:"gameCategoryIdChange",value:function(){this.queryDefualt()}},{key:"activeTabkeyChange",value:function(){this.queryDefualt()}},{key:"isLoginChange",value:function(){this.queryDefualt()}},{key:"languageKeyChange",value:(s=(0,p.Z)((0,y.Z)().mark((function t(e,a){return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a&&e!==a&&this.queryDefualt();case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"activeTabkey",get:function(){return this.mainStore.gameListTabActive}},{key:"defualtOptions",get:function(){var t=(0,A.QT)().t;return{tabs:[{key:L.ck.HOT,name:t("lobby.game.allHot"),img:this.tabImgs[L.ck.HOT],munuName:"".concat(t("lobby.game.all"))},{key:L.ck.RECENT,name:this.hasAbbreviation?t("lobby.game.recent"):t("lobby.game.loadingRecent"),img:a(85355),munuName:"".concat(t("lobby.game.loadingRecent"))},{key:L.ck.COLLENCT,name:this.hasAbbreviation?t("lobby.game.collect"):t("lobby.game.loadingCollect"),img:a(13179),munuName:"".concat(t("lobby.game.loadingCollect"))}]}}},{key:"tabs",get:function(){var t,e,a=(0,A.QT)().t,n=this.mainStore.isCyanBlue,r=(null===(t=this.platformItem)||void 0===t?void 0:t.platformName)||"";n&&(r=this.hasAbbreviation?"".concat(a("lobby.game.all")).concat(this.gameCategoryName):this.gameCategoryName);var i=[{key:this.platformId,name:r,img:(null===(e=this.platformItem)||void 0===e?void 0:e.logo)||""}];return i=[].concat((0,h.Z)(i),(0,h.Z)(this.defualtOptions.tabs))}},{key:"mounted",value:function(){this.activeTabkey!==this.platformId?this.mainStore.updateGameListTabActive(this.platformId):this.queryDefualt()}},{key:"destroyed",value:function(){this.mainStore.updateGameListTabActive(this.defaultHotGameId)}},{key:"queryDefualt",value:(o=(0,p.Z)((0,y.Z)().mark((function t(){return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.reset(),t.t0=this.activeTabkey,t.next=t.t0===L.ck.HOT?4:t.t0===L.ck.RECENT?7:t.t0===L.ck.COLLENCT?10:13;break;case 4:return t.next=6,this.queryHotGame();case 6:case 9:case 12:case 15:return t.abrupt("break",16);case 7:return t.next=9,this.queryRecentGame();case 10:return t.next=12,this.queryFavoriteGame();case 13:return t.next=15,this.queryGame();case 16:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"reset",value:function(){this.setState({current:1,total:0})}},{key:"queryGame",value:(i=(0,p.Z)((0,y.Z)().mark((function t(){var e,a,n,r=this,i=arguments;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>0&&void 0!==i[0]&&i[0]?this.setState({loading:!1,scrollLoading:!0}):this.setState({loading:!this.state.scrollLoading}),t.next=4,(0,T.Sz)({current:this.state.current,size:this.Config.gameDataSize,gameCategoryId:this.gameCategoryId,platformId:this.platformId}).finally((function(){r.setState({loading:!1,scrollLoading:!1})}));case 4:e=t.sent,a=e.gameList,n=e.total,this.setState({total:n,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryGame.bind(this,!0)});case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"queryHotGame",value:(r=(0,p.Z)((0,y.Z)().mark((function t(){var e,a,n,r=this;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({loading:!0}),t.next=3,(0,T.fu)({current:1,size:100,platformId:this.platformId,gameCategoryId:this.gameCategoryId}).finally((function(){r.setState({loading:!1})}));case 3:e=t.sent,a=e.hotGameList,n=e.total,this.setState({listType:"game",total:n,listData:a});case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"queryRecentGame",value:(n=(0,p.Z)((0,y.Z)().mark((function t(){var e,a,n,r=arguments;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>0&&void 0!==r[0]&&r[0]?this.setState({loading:!1,scrollLoading:!0}):this.setState({loading:!this.state.scrollLoading}),t.next=4,(0,T.EW)({current:this.state.current,size:this.Config.gameDataSize,platformId:this.platformId,gameCategoryId:this.gameCategoryId});case 4:e=t.sent,a=e.recentList,n=e.total,this.setState({listType:"game",total:n,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryRecentGame.bind(this,!0)}),this.setState({loading:!1,scrollLoading:!1});case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"queryFavoriteGame",value:(e=(0,p.Z)((0,y.Z)().mark((function t(){var e,a,n,r=this,i=arguments;return(0,y.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>0&&void 0!==i[0]&&i[0]?this.setState({loading:!1,scrollLoading:!0}):this.setState({loading:!this.state.scrollLoading,listData:[]}),t.next=4,(0,T.AU)({current:this.state.current,size:this.Config.gameDataSize,platformId:this.platformId,gameCategoryId:this.gameCategoryId}).finally((function(){r.setState({loading:!1,scrollLoading:!1})}));case 4:e=t.sent,a=e.favoriteList,n=e.total,this.setState({listType:"game",total:n,listData:this.state.current>1?[].concat((0,h.Z)(this.state.listData),(0,h.Z)(a)):a,currentQueryFun:this.queryFavoriteGame.bind(this,!0)});case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tabsChange",value:function(t){this.mainStore.updateGameListTabActive(t)}},{key:"addMore",value:function(){this.setState({current:this.state.current+1}),this.state.currentQueryFun()}},{key:"updateListData",value:function(t,e){this.setState({listData:t,total:e})}},{key:"render",value:function(){var t,e=this,a=arguments[0],n=this.mainStore.isCyanBlue;return a("div",{class:[D]},[a("my-title",{class:E,attrs:{goBack:function(){return e.$router.push({name:S.x4.GAME,query:{gameCategoryId:e.$route.query.gameCategoryId}})},title:null===(t=this.platformItem)||void 0===t?void 0:t.platformName,needH5Height:!0},directives:[{name:"show",value:!n}]}),!n&&this.renderBreadcrumb(!0),a(this.gameTabList,g()([{},{props:{tabsType:"game",activeTabkey:this.activeTabkey,tabs:this.tabs,listData:this.state.listData,current:this.state.current,total:this.state.total,loading:this.state.loading,scrollLoading:this.state.scrollLoading,tabsChange:this.tabsChange,currentQueryFun:this.addMore,updateListData:this.updateListData}}])),this.randerTable()])}}]),l}((0,I.Wr)(N.Z)),(0,Z.Z)(c.prototype,"platformIdChange",[r],Object.getOwnPropertyDescriptor(c.prototype,"platformIdChange"),c.prototype),(0,Z.Z)(c.prototype,"gameCategoryIdChange",[i],Object.getOwnPropertyDescriptor(c.prototype,"gameCategoryIdChange"),c.prototype),(0,Z.Z)(c.prototype,"activeTabkeyChange",[o],Object.getOwnPropertyDescriptor(c.prototype,"activeTabkeyChange"),c.prototype),(0,Z.Z)(c.prototype,"isLoginChange",[s],Object.getOwnPropertyDescriptor(c.prototype,"isLoginChange"),c.prototype),(0,Z.Z)(c.prototype,"languageKeyChange",[u],Object.getOwnPropertyDescriptor(c.prototype,"languageKeyChange"),c.prototype),l=c))||l)},13179:function(t,e,a){t.exports=a.p+"assets/icon_game_tab_101.4266121ba8c354ae96a1.png"}}]);